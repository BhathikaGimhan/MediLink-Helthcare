function AR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B3={exports:{}},w0={},U3={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.element"),TR=Symbol.for("react.portal"),IR=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),kR=Symbol.for("react.profiler"),CR=Symbol.for("react.provider"),PR=Symbol.for("react.context"),LR=Symbol.for("react.forward_ref"),RR=Symbol.for("react.suspense"),DR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),Hb=Symbol.iterator;function jR(t){return t===null||typeof t!="object"?null:(t=Hb&&t[Hb]||t["@@iterator"],typeof t=="function"?t:null)}var z3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q3=Object.assign,$3={};function Wh(t,e,n){this.props=t,this.context=e,this.refs=$3,this.updater=n||z3}Wh.prototype.isReactComponent={};Wh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H3(){}H3.prototype=Wh.prototype;function m5(t,e,n){this.props=t,this.context=e,this.refs=$3,this.updater=n||z3}var g5=m5.prototype=new H3;g5.constructor=m5;q3(g5,Wh.prototype);g5.isPureReactComponent=!0;var Wb=Array.isArray,W3=Object.prototype.hasOwnProperty,y5={current:null},G3={key:!0,ref:!0,__self:!0,__source:!0};function K3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)W3.call(e,r)&&!G3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lp,type:t,key:s,ref:o,props:i,_owner:y5.current}}function MR(t,e){return{$$typeof:lp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v5(t){return typeof t=="object"&&t!==null&&t.$$typeof===lp}function FR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gb=/\/+/g;function z1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FR(""+t.key):e.toString(36)}function Dm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lp:case TR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+z1(o,0):r,Wb(i)?(n="",t!=null&&(n=t.replace(Gb,"$&/")+"/"),Dm(i,e,n,"",function(u){return u})):i!=null&&(v5(i)&&(i=MR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+z1(s,a);o+=Dm(s,e,n,l,i)}else if(l=jR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+z1(s,a++),o+=Dm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function em(t,e,n){if(t==null)return t;var r=[],i=0;return Dm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var si={current:null},Om={transition:null},BR={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:Om,ReactCurrentOwner:y5};function Y3(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:em,forEach:function(t,e,n){em(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return em(t,function(){e++}),e},toArray:function(t){return em(t,function(e){return e})||[]},only:function(t){if(!v5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=Wh;Dt.Fragment=IR;Dt.Profiler=kR;Dt.PureComponent=m5;Dt.StrictMode=NR;Dt.Suspense=RR;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;Dt.act=Y3;Dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=y5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W3.call(e,l)&&!G3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:lp,type:t.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(t){return t={$$typeof:PR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CR,_context:t},t.Consumer=t};Dt.createElement=K3;Dt.createFactory=function(t){var e=K3.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:LR,render:t}};Dt.isValidElement=v5;Dt.lazy=function(t){return{$$typeof:OR,_payload:{_status:-1,_result:t},_init:VR}};Dt.memo=function(t,e){return{$$typeof:DR,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=Om.transition;Om.transition={};try{t()}finally{Om.transition=e}};Dt.unstable_act=Y3;Dt.useCallback=function(t,e){return si.current.useCallback(t,e)};Dt.useContext=function(t){return si.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return si.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return si.current.useEffect(t,e)};Dt.useId=function(){return si.current.useId()};Dt.useImperativeHandle=function(t,e,n){return si.current.useImperativeHandle(t,e,n)};Dt.useInsertionEffect=function(t,e){return si.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return si.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return si.current.useMemo(t,e)};Dt.useReducer=function(t,e,n){return si.current.useReducer(t,e,n)};Dt.useRef=function(t){return si.current.useRef(t)};Dt.useState=function(t){return si.current.useState(t)};Dt.useSyncExternalStore=function(t,e,n){return si.current.useSyncExternalStore(t,e,n)};Dt.useTransition=function(){return si.current.useTransition()};Dt.version="18.3.1";U3.exports=Dt;var ne=U3.exports;const Q3=v0(ne),UR=AR({__proto__:null,default:Q3},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR=ne,qR=Symbol.for("react.element"),$R=Symbol.for("react.fragment"),HR=Object.prototype.hasOwnProperty,WR=zR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GR={key:!0,ref:!0,__self:!0,__source:!0};function X3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HR.call(e,r)&&!GR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qR,type:t,key:s,ref:o,props:i,_owner:WR.current}}w0.Fragment=$R;w0.jsx=X3;w0.jsxs=X3;B3.exports=w0;var v=B3.exports,J3={exports:{}},$i={},Z3={exports:{}},eT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,le){var z=Z.length;Z.push(le);e:for(;0<z;){var _e=z-1>>>1,O=Z[_e];if(0<i(O,le))Z[_e]=le,Z[z]=O,z=_e;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],z=Z.pop();if(z!==le){Z[0]=z;e:for(var _e=0,O=Z.length,L=O>>>1;_e<L;){var J=2*(_e+1)-1,ee=Z[J],re=J+1,ge=Z[re];if(0>i(ee,z))re<O&&0>i(ge,ee)?(Z[_e]=ge,Z[re]=z,_e=re):(Z[_e]=ee,Z[J]=z,_e=J);else if(re<O&&0>i(ge,z))Z[_e]=ge,Z[re]=z,_e=re;else break e}}return le}function i(Z,le){var z=Z.sortIndex-le.sortIndex;return z!==0?z:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,m=3,p=!1,_=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Z){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=Z)r(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(u)}}function B(Z){if(b=!1,A(Z),!_)if(n(l)!==null)_=!0,pe(K);else{var le=n(u);le!==null&&ae(B,le.startTime-Z)}}function K(Z,le){_=!1,b&&(b=!1,w(N),N=-1),p=!0;var z=m;try{for(A(le),d=n(l);d!==null&&(!(d.expirationTime>le)||Z&&!T());){var _e=d.callback;if(typeof _e=="function"){d.callback=null,m=d.priorityLevel;var O=_e(d.expirationTime<=le);le=t.unstable_now(),typeof O=="function"?d.callback=O:d===n(l)&&r(l),A(le)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var J=n(u);J!==null&&ae(B,J.startTime-le),L=!1}return L}finally{d=null,m=z,p=!1}}var W=!1,j=null,N=-1,R=5,M=-1;function T(){return!(t.unstable_now()-M<R)}function C(){if(j!==null){var Z=t.unstable_now();M=Z;var le=!0;try{le=j(!0,Z)}finally{le?D():(W=!1,j=null)}}else W=!1}var D;if(typeof S=="function")D=function(){S(C)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,fe=X.port2;X.port1.onmessage=C,D=function(){fe.postMessage(null)}}else D=function(){I(C,0)};function pe(Z){j=Z,W||(W=!0,D())}function ae(Z,le){N=I(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,pe(K))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var z=m;m=le;try{return Z()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var z=m;m=Z;try{return le()}finally{m=z}},t.unstable_scheduleCallback=function(Z,le,z){var _e=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?_e+z:_e):z=_e,Z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,Z={id:c++,callback:le,priorityLevel:Z,startTime:z,expirationTime:O,sortIndex:-1},z>_e?(Z.sortIndex=z,e(u,Z),n(l)===null&&Z===n(u)&&(b?(w(N),N=-1):b=!0,ae(B,z-_e))):(Z.sortIndex=O,e(l,Z),_||p||(_=!0,pe(K))),Z},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(Z){var le=m;return function(){var z=m;m=le;try{return Z.apply(this,arguments)}finally{m=z}}}})(eT);Z3.exports=eT;var KR=Z3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=ne,zi=KR;function Fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tT=new Set,Sf={};function Ju(t,e){Ah(t,e),Ah(t+"Capture",e)}function Ah(t,e){for(Sf[t]=e,t=0;t<e.length;t++)tT.add(e[t])}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uv=Object.prototype.hasOwnProperty,QR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kb={},Yb={};function XR(t){return uv.call(Yb,t)?!0:uv.call(Kb,t)?!1:QR.test(t)?Yb[t]=!0:(Kb[t]=!0,!1)}function JR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZR(t,e,n,r){if(e===null||typeof e>"u"||JR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ar[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ar[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ar[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ar[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ar[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ar[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ar[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ar[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ar[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var w5=/[\-:]([a-z])/g;function x5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(w5,x5);Ar[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(w5,x5);Ar[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(w5,x5);Ar[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ar[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ar[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function b5(t,e,n,r){var i=Ar.hasOwnProperty(e)?Ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZR(e,n,i,r)&&(n=null),r||i===null?XR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pa=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tm=Symbol.for("react.element"),qc=Symbol.for("react.portal"),$c=Symbol.for("react.fragment"),_5=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),S5=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),dv=Symbol.for("react.suspense_list"),E5=Symbol.for("react.memo"),el=Symbol.for("react.lazy"),iT=Symbol.for("react.offscreen"),Qb=Symbol.iterator;function Td(t){return t===null||typeof t!="object"?null:(t=Qb&&t[Qb]||t["@@iterator"],typeof t=="function"?t:null)}var An=Object.assign,q1;function Ud(t){if(q1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q1=e&&e[1]||""}return`
`+q1+t}var $1=!1;function H1(t,e){if(!t||$1)return"";$1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ud(t):""}function e8(t){switch(t.tag){case 5:return Ud(t.type);case 16:return Ud("Lazy");case 13:return Ud("Suspense");case 19:return Ud("SuspenseList");case 0:case 2:case 15:return t=H1(t.type,!1),t;case 11:return t=H1(t.type.render,!1),t;case 1:return t=H1(t.type,!0),t;default:return""}}function fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $c:return"Fragment";case qc:return"Portal";case cv:return"Profiler";case _5:return"StrictMode";case hv:return"Suspense";case dv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rT:return(t.displayName||"Context")+".Consumer";case nT:return(t._context.displayName||"Context")+".Provider";case S5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E5:return e=t.displayName||null,e!==null?e:fv(t.type)||"Memo";case el:e=t._payload,t=t._init;try{return fv(t(e))}catch{}}return null}function t8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fv(e);case 8:return e===_5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n8(t){var e=sT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nm(t){t._valueTracker||(t._valueTracker=n8(t))}function oT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pv(t,e){var n=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aT(t,e){e=e.checked,e!=null&&b5(t,"checked",e,!1)}function mv(t,e){aT(t,e);var n=Nl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gv(t,e.type,n):e.hasOwnProperty("defaultValue")&&gv(t,e.type,Nl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gv(t,e,n){(e!=="number"||pg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zd=Array.isArray;function uh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Fe(92));if(zd(n)){if(1<n.length)throw Error(Fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nl(n)}}function lT(t,e){var n=Nl(e.value),r=Nl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rm,cT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rm=rm||document.createElement("div"),rm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ef(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r8=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(t){r8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zd[e]=Zd[t]})});function hT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zd.hasOwnProperty(t)&&Zd[t]?(""+e).trim():e+"px"}function dT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var i8=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wv(t,e){if(e){if(i8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function xv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bv=null;function A5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _v=null,ch=null,hh=null;function t_(t){if(t=hp(t)){if(typeof _v!="function")throw Error(Fe(280));var e=t.stateNode;e&&(e=E0(e),_v(t.stateNode,t.type,e))}}function fT(t){ch?hh?hh.push(t):hh=[t]:ch=t}function pT(){if(ch){var t=ch,e=hh;if(hh=ch=null,t_(t),e)for(t=0;t<e.length;t++)t_(e[t])}}function mT(t,e){return t(e)}function gT(){}var W1=!1;function yT(t,e,n){if(W1)return t(e,n);W1=!0;try{return mT(t,e,n)}finally{W1=!1,(ch!==null||hh!==null)&&(gT(),pT())}}function Af(t,e){var n=t.stateNode;if(n===null)return null;var r=E0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var Sv=!1;if(oa)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{Sv=!1}function s8(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ef=!1,mg=null,gg=!1,Ev=null,o8={onError:function(t){ef=!0,mg=t}};function a8(t,e,n,r,i,s,o,a,l){ef=!1,mg=null,s8.apply(o8,arguments)}function l8(t,e,n,r,i,s,o,a,l){if(a8.apply(this,arguments),ef){if(ef){var u=mg;ef=!1,mg=null}else throw Error(Fe(198));gg||(gg=!0,Ev=u)}}function Zu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n_(t){if(Zu(t)!==t)throw Error(Fe(188))}function u8(t){var e=t.alternate;if(!e){if(e=Zu(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return n_(i),t;if(s===r)return n_(i),e;s=s.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function wT(t){return t=u8(t),t!==null?xT(t):null}function xT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xT(t);if(e!==null)return e;t=t.sibling}return null}var bT=zi.unstable_scheduleCallback,r_=zi.unstable_cancelCallback,c8=zi.unstable_shouldYield,h8=zi.unstable_requestPaint,Fn=zi.unstable_now,d8=zi.unstable_getCurrentPriorityLevel,T5=zi.unstable_ImmediatePriority,_T=zi.unstable_UserBlockingPriority,yg=zi.unstable_NormalPriority,f8=zi.unstable_LowPriority,ST=zi.unstable_IdlePriority,x0=null,mo=null;function p8(t){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(x0,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:y8,m8=Math.log,g8=Math.LN2;function y8(t){return t>>>=0,t===0?32:31-(m8(t)/g8|0)|0}var im=64,sm=4194304;function qd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qd(a):(s&=o,s!==0&&(r=qd(s)))}else o=n&~i,o!==0?r=qd(o):s!==0&&(r=qd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Os(e),i=1<<n,r|=t[n],e&=~i;return r}function v8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Os(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=v8(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ET(){var t=im;return im<<=1,!(im&4194240)&&(im=64),t}function G1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function up(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Os(e),t[e]=n}function x8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Os(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function I5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Os(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var tn=0;function AT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TT,N5,IT,NT,kT,Tv=!1,om=[],fl=null,pl=null,ml=null,Tf=new Map,If=new Map,rl=[],b8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i_(t,e){switch(t){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Tf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(e.pointerId)}}function Nd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hp(e),e!==null&&N5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _8(t,e,n,r,i){switch(e){case"focusin":return fl=Nd(fl,t,e,n,r,i),!0;case"dragenter":return pl=Nd(pl,t,e,n,r,i),!0;case"mouseover":return ml=Nd(ml,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tf.set(s,Nd(Tf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,If.set(s,Nd(If.get(s)||null,t,e,n,r,i)),!0}return!1}function CT(t){var e=Cu(t.target);if(e!==null){var n=Zu(e);if(n!==null){if(e=n.tag,e===13){if(e=vT(n),e!==null){t.blockedOn=e,kT(t.priority,function(){IT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bv=r,n.target.dispatchEvent(r),bv=null}else return e=hp(n),e!==null&&N5(e),t.blockedOn=n,!1;e.shift()}return!0}function s_(t,e,n){jm(t)&&n.delete(e)}function S8(){Tv=!1,fl!==null&&jm(fl)&&(fl=null),pl!==null&&jm(pl)&&(pl=null),ml!==null&&jm(ml)&&(ml=null),Tf.forEach(s_),If.forEach(s_)}function kd(t,e){t.blockedOn===e&&(t.blockedOn=null,Tv||(Tv=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,S8)))}function Nf(t){function e(i){return kd(i,t)}if(0<om.length){kd(om[0],t);for(var n=1;n<om.length;n++){var r=om[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fl!==null&&kd(fl,t),pl!==null&&kd(pl,t),ml!==null&&kd(ml,t),Tf.forEach(e),If.forEach(e),n=0;n<rl.length;n++)r=rl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)CT(n),n.blockedOn===null&&rl.shift()}var dh=pa.ReactCurrentBatchConfig,wg=!0;function E8(t,e,n,r){var i=tn,s=dh.transition;dh.transition=null;try{tn=1,k5(t,e,n,r)}finally{tn=i,dh.transition=s}}function A8(t,e,n,r){var i=tn,s=dh.transition;dh.transition=null;try{tn=4,k5(t,e,n,r)}finally{tn=i,dh.transition=s}}function k5(t,e,n,r){if(wg){var i=Iv(t,e,n,r);if(i===null)ry(t,e,r,xg,n),i_(t,r);else if(_8(i,t,e,n,r))r.stopPropagation();else if(i_(t,r),e&4&&-1<b8.indexOf(t)){for(;i!==null;){var s=hp(i);if(s!==null&&TT(s),s=Iv(t,e,n,r),s===null&&ry(t,e,r,xg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ry(t,e,r,null,n)}}var xg=null;function Iv(t,e,n,r){if(xg=null,t=A5(r),t=Cu(t),t!==null)if(e=Zu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xg=t,null}function PT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d8()){case T5:return 1;case _T:return 4;case yg:case f8:return 16;case ST:return 536870912;default:return 16}default:return 16}}var ll=null,C5=null,Mm=null;function LT(){if(Mm)return Mm;var t,e=C5,n=e.length,r,i="value"in ll?ll.value:ll.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mm=i.slice(t,1<r?1-r:void 0)}function Fm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function am(){return!0}function o_(){return!1}function Hi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?am:o_,this.isPropagationStopped=o_,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),e}var Gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P5=Hi(Gh),cp=An({},Gh,{view:0,detail:0}),T8=Hi(cp),K1,Y1,Cd,b0=An({},cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cd&&(Cd&&t.type==="mousemove"?(K1=t.screenX-Cd.screenX,Y1=t.screenY-Cd.screenY):Y1=K1=0,Cd=t),K1)},movementY:function(t){return"movementY"in t?t.movementY:Y1}}),a_=Hi(b0),I8=An({},b0,{dataTransfer:0}),N8=Hi(I8),k8=An({},cp,{relatedTarget:0}),Q1=Hi(k8),C8=An({},Gh,{animationName:0,elapsedTime:0,pseudoElement:0}),P8=Hi(C8),L8=An({},Gh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R8=Hi(L8),D8=An({},Gh,{data:0}),l_=Hi(D8),O8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M8[t])?!!e[t]:!1}function L5(){return F8}var V8=An({},cp,{key:function(t){if(t.key){var e=O8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L5,charCode:function(t){return t.type==="keypress"?Fm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B8=Hi(V8),U8=An({},b0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u_=Hi(U8),z8=An({},cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L5}),q8=Hi(z8),$8=An({},Gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),H8=Hi($8),W8=An({},b0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G8=Hi(W8),K8=[9,13,27,32],R5=oa&&"CompositionEvent"in window,tf=null;oa&&"documentMode"in document&&(tf=document.documentMode);var Y8=oa&&"TextEvent"in window&&!tf,RT=oa&&(!R5||tf&&8<tf&&11>=tf),c_=" ",h_=!1;function DT(t,e){switch(t){case"keyup":return K8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hc=!1;function Q8(t,e){switch(t){case"compositionend":return OT(e);case"keypress":return e.which!==32?null:(h_=!0,c_);case"textInput":return t=e.data,t===c_&&h_?null:t;default:return null}}function X8(t,e){if(Hc)return t==="compositionend"||!R5&&DT(t,e)?(t=LT(),Mm=C5=ll=null,Hc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RT&&e.locale!=="ko"?null:e.data;default:return null}}var J8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J8[t.type]:e==="textarea"}function jT(t,e,n,r){fT(r),e=bg(e,"onChange"),0<e.length&&(n=new P5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nf=null,kf=null;function Z8(t){GT(t,0)}function _0(t){var e=Kc(t);if(oT(e))return t}function eD(t,e){if(t==="change")return e}var MT=!1;if(oa){var X1;if(oa){var J1="oninput"in document;if(!J1){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),J1=typeof f_.oninput=="function"}X1=J1}else X1=!1;MT=X1&&(!document.documentMode||9<document.documentMode)}function p_(){nf&&(nf.detachEvent("onpropertychange",FT),kf=nf=null)}function FT(t){if(t.propertyName==="value"&&_0(kf)){var e=[];jT(e,kf,t,A5(t)),yT(Z8,e)}}function tD(t,e,n){t==="focusin"?(p_(),nf=e,kf=n,nf.attachEvent("onpropertychange",FT)):t==="focusout"&&p_()}function nD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _0(kf)}function rD(t,e){if(t==="click")return _0(e)}function iD(t,e){if(t==="input"||t==="change")return _0(e)}function sD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fs=typeof Object.is=="function"?Object.is:sD;function Cf(t,e){if(Fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uv.call(e,i)||!Fs(t[i],e[i]))return!1}return!0}function m_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g_(t,e){var n=m_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m_(n)}}function VT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BT(){for(var t=window,e=pg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pg(t.document)}return e}function D5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oD(t){var e=BT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VT(n.ownerDocument.documentElement,n)){if(r!==null&&D5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=g_(n,s);var o=g_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aD=oa&&"documentMode"in document&&11>=document.documentMode,Wc=null,Nv=null,rf=null,kv=!1;function y_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kv||Wc==null||Wc!==pg(r)||(r=Wc,"selectionStart"in r&&D5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rf&&Cf(rf,r)||(rf=r,r=bg(Nv,"onSelect"),0<r.length&&(e=new P5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wc)))}function lm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gc={animationend:lm("Animation","AnimationEnd"),animationiteration:lm("Animation","AnimationIteration"),animationstart:lm("Animation","AnimationStart"),transitionend:lm("Transition","TransitionEnd")},Z1={},UT={};oa&&(UT=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function S0(t){if(Z1[t])return Z1[t];if(!Gc[t])return t;var e=Gc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UT)return Z1[t]=e[n];return t}var zT=S0("animationend"),qT=S0("animationiteration"),$T=S0("animationstart"),HT=S0("transitionend"),WT=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(t,e){WT.set(t,e),Ju(e,[t])}for(var ey=0;ey<v_.length;ey++){var ty=v_[ey],lD=ty.toLowerCase(),uD=ty[0].toUpperCase()+ty.slice(1);zl(lD,"on"+uD)}zl(zT,"onAnimationEnd");zl(qT,"onAnimationIteration");zl($T,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(HT,"onTransitionEnd");Ah("onMouseEnter",["mouseout","mouseover"]);Ah("onMouseLeave",["mouseout","mouseover"]);Ah("onPointerEnter",["pointerout","pointerover"]);Ah("onPointerLeave",["pointerout","pointerover"]);Ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cD=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function w_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,l8(r,e,void 0,t),t.currentTarget=null}function GT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;w_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;w_(i,a,u),s=l}}}if(gg)throw t=Ev,gg=!1,Ev=null,t}function yn(t,e){var n=e[Dv];n===void 0&&(n=e[Dv]=new Set);var r=t+"__bubble";n.has(r)||(KT(e,t,2,!1),n.add(r))}function ny(t,e,n){var r=0;e&&(r|=4),KT(n,t,r,e)}var um="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[um]){t[um]=!0,tT.forEach(function(n){n!=="selectionchange"&&(cD.has(n)||ny(n,!1,t),ny(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[um]||(e[um]=!0,ny("selectionchange",!1,e))}}function KT(t,e,n,r){switch(PT(e)){case 1:var i=E8;break;case 4:i=A8;break;default:i=k5}n=i.bind(null,e,n,t),i=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ry(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yT(function(){var u=s,c=A5(n),d=[];e:{var m=WT.get(t);if(m!==void 0){var p=P5,_=t;switch(t){case"keypress":if(Fm(n)===0)break e;case"keydown":case"keyup":p=B8;break;case"focusin":_="focus",p=Q1;break;case"focusout":_="blur",p=Q1;break;case"beforeblur":case"afterblur":p=Q1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=a_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=q8;break;case zT:case qT:case $T:p=P8;break;case HT:p=H8;break;case"scroll":p=T8;break;case"wheel":p=G8;break;case"copy":case"cut":case"paste":p=R8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=u_}var b=(e&4)!==0,I=!b&&t==="scroll",w=b?m!==null?m+"Capture":null:m;b=[];for(var S=u,A;S!==null;){A=S;var B=A.stateNode;if(A.tag===5&&B!==null&&(A=B,w!==null&&(B=Af(S,w),B!=null&&b.push(Lf(S,B,A)))),I)break;S=S.return}0<b.length&&(m=new p(m,_,null,n,c),d.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==bv&&(_=n.relatedTarget||n.fromElement)&&(Cu(_)||_[aa]))break e;if((p||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Cu(_):null,_!==null&&(I=Zu(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(b=a_,B="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=u_,B="onPointerLeave",w="onPointerEnter",S="pointer"),I=p==null?m:Kc(p),A=_==null?m:Kc(_),m=new b(B,S+"leave",p,n,c),m.target=I,m.relatedTarget=A,B=null,Cu(c)===u&&(b=new b(w,S+"enter",_,n,c),b.target=A,b.relatedTarget=I,B=b),I=B,p&&_)t:{for(b=p,w=_,S=0,A=b;A;A=Pc(A))S++;for(A=0,B=w;B;B=Pc(B))A++;for(;0<S-A;)b=Pc(b),S--;for(;0<A-S;)w=Pc(w),A--;for(;S--;){if(b===w||w!==null&&b===w.alternate)break t;b=Pc(b),w=Pc(w)}b=null}else b=null;p!==null&&x_(d,m,p,b,!1),_!==null&&I!==null&&x_(d,I,_,b,!0)}}e:{if(m=u?Kc(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var K=eD;else if(d_(m))if(MT)K=iD;else{K=nD;var W=tD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(K=rD);if(K&&(K=K(t,u))){jT(d,K,n,c);break e}W&&W(t,m,u),t==="focusout"&&(W=m._wrapperState)&&W.controlled&&m.type==="number"&&gv(m,"number",m.value)}switch(W=u?Kc(u):window,t){case"focusin":(d_(W)||W.contentEditable==="true")&&(Wc=W,Nv=u,rf=null);break;case"focusout":rf=Nv=Wc=null;break;case"mousedown":kv=!0;break;case"contextmenu":case"mouseup":case"dragend":kv=!1,y_(d,n,c);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":y_(d,n,c)}var j;if(R5)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Hc?DT(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(RT&&n.locale!=="ko"&&(Hc||N!=="onCompositionStart"?N==="onCompositionEnd"&&Hc&&(j=LT()):(ll=c,C5="value"in ll?ll.value:ll.textContent,Hc=!0)),W=bg(u,N),0<W.length&&(N=new l_(N,t,null,n,c),d.push({event:N,listeners:W}),j?N.data=j:(j=OT(n),j!==null&&(N.data=j)))),(j=Y8?Q8(t,n):X8(t,n))&&(u=bg(u,"onBeforeInput"),0<u.length&&(c=new l_("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=j))}GT(d,e)})}function Lf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Af(t,n),s!=null&&r.unshift(Lf(t,s,i)),s=Af(t,e),s!=null&&r.push(Lf(t,s,i))),t=t.return}return r}function Pc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Af(n,s),l!=null&&o.unshift(Lf(n,l,a))):i||(l=Af(n,s),l!=null&&o.push(Lf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hD=/\r\n?/g,dD=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(hD,`
`).replace(dD,"")}function cm(t,e,n){if(e=b_(e),b_(t)!==e&&n)throw Error(Fe(425))}function _g(){}var Cv=null,Pv=null;function Lv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rv=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,pD=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(mD)}:Rv;function mD(t){setTimeout(function(){throw t})}function iy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nf(e)}function gl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kh=Math.random().toString(36).slice(2),co="__reactFiber$"+Kh,Rf="__reactProps$"+Kh,aa="__reactContainer$"+Kh,Dv="__reactEvents$"+Kh,gD="__reactListeners$"+Kh,yD="__reactHandles$"+Kh;function Cu(t){var e=t[co];if(e)return e;for(var n=t.parentNode;n;){if(e=n[aa]||n[co]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S_(t);t!==null;){if(n=t[co])return n;t=S_(t)}return e}t=n,n=t.parentNode}return null}function hp(t){return t=t[co]||t[aa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Fe(33))}function E0(t){return t[Rf]||null}var Ov=[],Yc=-1;function ql(t){return{current:t}}function xn(t){0>Yc||(t.current=Ov[Yc],Ov[Yc]=null,Yc--)}function dn(t,e){Yc++,Ov[Yc]=t.current,t.current=e}var kl={},Wr=ql(kl),wi=ql(!1),Bu=kl;function Th(t,e){var n=t.type.contextTypes;if(!n)return kl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xi(t){return t=t.childContextTypes,t!=null}function Sg(){xn(wi),xn(Wr)}function E_(t,e,n){if(Wr.current!==kl)throw Error(Fe(168));dn(Wr,e),dn(wi,n)}function YT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Fe(108,t8(t)||"Unknown",i));return An({},n,r)}function Eg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kl,Bu=Wr.current,dn(Wr,t),dn(wi,wi.current),!0}function A_(t,e,n){var r=t.stateNode;if(!r)throw Error(Fe(169));n?(t=YT(t,e,Bu),r.__reactInternalMemoizedMergedChildContext=t,xn(wi),xn(Wr),dn(Wr,t)):xn(wi),dn(wi,n)}var Wo=null,A0=!1,sy=!1;function QT(t){Wo===null?Wo=[t]:Wo.push(t)}function vD(t){A0=!0,QT(t)}function $l(){if(!sy&&Wo!==null){sy=!0;var t=0,e=tn;try{var n=Wo;for(tn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wo=null,A0=!1}catch(i){throw Wo!==null&&(Wo=Wo.slice(t+1)),bT(T5,$l),i}finally{tn=e,sy=!1}}return null}var Qc=[],Xc=0,Ag=null,Tg=0,ss=[],os=0,Uu=null,Go=1,Ko="";function bu(t,e){Qc[Xc++]=Tg,Qc[Xc++]=Ag,Ag=t,Tg=e}function XT(t,e,n){ss[os++]=Go,ss[os++]=Ko,ss[os++]=Uu,Uu=t;var r=Go;t=Ko;var i=32-Os(r)-1;r&=~(1<<i),n+=1;var s=32-Os(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Go=1<<32-Os(e)+i|n<<i|r,Ko=s+t}else Go=1<<s|n<<i|r,Ko=t}function O5(t){t.return!==null&&(bu(t,1),XT(t,1,0))}function j5(t){for(;t===Ag;)Ag=Qc[--Xc],Qc[Xc]=null,Tg=Qc[--Xc],Qc[Xc]=null;for(;t===Uu;)Uu=ss[--os],ss[os]=null,Ko=ss[--os],ss[os]=null,Go=ss[--os],ss[os]=null}var Ui=null,Mi=null,bn=!1,Ls=null;function JT(t,e){var n=ls(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ui=t,Mi=gl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ui=t,Mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Uu!==null?{id:Go,overflow:Ko}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ls(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ui=t,Mi=null,!0):!1;default:return!1}}function jv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mv(t){if(bn){var e=Mi;if(e){var n=e;if(!T_(t,e)){if(jv(t))throw Error(Fe(418));e=gl(n.nextSibling);var r=Ui;e&&T_(t,e)?JT(r,n):(t.flags=t.flags&-4097|2,bn=!1,Ui=t)}}else{if(jv(t))throw Error(Fe(418));t.flags=t.flags&-4097|2,bn=!1,Ui=t}}}function I_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ui=t}function hm(t){if(t!==Ui)return!1;if(!bn)return I_(t),bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lv(t.type,t.memoizedProps)),e&&(e=Mi)){if(jv(t))throw ZT(),Error(Fe(418));for(;e;)JT(t,e),e=gl(e.nextSibling)}if(I_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mi=gl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mi=null}}else Mi=Ui?gl(t.stateNode.nextSibling):null;return!0}function ZT(){for(var t=Mi;t;)t=gl(t.nextSibling)}function Ih(){Mi=Ui=null,bn=!1}function M5(t){Ls===null?Ls=[t]:Ls.push(t)}var wD=pa.ReactCurrentBatchConfig;function Pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Fe(309));var r=n.stateNode}if(!r)throw Error(Fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Fe(284));if(!n._owner)throw Error(Fe(290,t))}return t}function dm(t,e){throw t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N_(t){var e=t._init;return e(t._payload)}function eI(t){function e(w,S){if(t){var A=w.deletions;A===null?(w.deletions=[S],w.flags|=16):A.push(S)}}function n(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=xl(w,S),w.index=0,w.sibling=null,w}function s(w,S,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<S?(w.flags|=2,S):A):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,S,A,B){return S===null||S.tag!==6?(S=dy(A,w.mode,B),S.return=w,S):(S=i(S,A),S.return=w,S)}function l(w,S,A,B){var K=A.type;return K===$c?c(w,S,A.props.children,B,A.key):S!==null&&(S.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===el&&N_(K)===S.type)?(B=i(S,A.props),B.ref=Pd(w,S,A),B.return=w,B):(B=Hm(A.type,A.key,A.props,null,w.mode,B),B.ref=Pd(w,S,A),B.return=w,B)}function u(w,S,A,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=fy(A,w.mode,B),S.return=w,S):(S=i(S,A.children||[]),S.return=w,S)}function c(w,S,A,B,K){return S===null||S.tag!==7?(S=Mu(A,w.mode,B,K),S.return=w,S):(S=i(S,A),S.return=w,S)}function d(w,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=dy(""+S,w.mode,A),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tm:return A=Hm(S.type,S.key,S.props,null,w.mode,A),A.ref=Pd(w,null,S),A.return=w,A;case qc:return S=fy(S,w.mode,A),S.return=w,S;case el:var B=S._init;return d(w,B(S._payload),A)}if(zd(S)||Td(S))return S=Mu(S,w.mode,A,null),S.return=w,S;dm(w,S)}return null}function m(w,S,A,B){var K=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return K!==null?null:a(w,S,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tm:return A.key===K?l(w,S,A,B):null;case qc:return A.key===K?u(w,S,A,B):null;case el:return K=A._init,m(w,S,K(A._payload),B)}if(zd(A)||Td(A))return K!==null?null:c(w,S,A,B,null);dm(w,A)}return null}function p(w,S,A,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return w=w.get(A)||null,a(S,w,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case tm:return w=w.get(B.key===null?A:B.key)||null,l(S,w,B,K);case qc:return w=w.get(B.key===null?A:B.key)||null,u(S,w,B,K);case el:var W=B._init;return p(w,S,A,W(B._payload),K)}if(zd(B)||Td(B))return w=w.get(A)||null,c(S,w,B,K,null);dm(S,B)}return null}function _(w,S,A,B){for(var K=null,W=null,j=S,N=S=0,R=null;j!==null&&N<A.length;N++){j.index>N?(R=j,j=null):R=j.sibling;var M=m(w,j,A[N],B);if(M===null){j===null&&(j=R);break}t&&j&&M.alternate===null&&e(w,j),S=s(M,S,N),W===null?K=M:W.sibling=M,W=M,j=R}if(N===A.length)return n(w,j),bn&&bu(w,N),K;if(j===null){for(;N<A.length;N++)j=d(w,A[N],B),j!==null&&(S=s(j,S,N),W===null?K=j:W.sibling=j,W=j);return bn&&bu(w,N),K}for(j=r(w,j);N<A.length;N++)R=p(j,w,N,A[N],B),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?N:R.key),S=s(R,S,N),W===null?K=R:W.sibling=R,W=R);return t&&j.forEach(function(T){return e(w,T)}),bn&&bu(w,N),K}function b(w,S,A,B){var K=Td(A);if(typeof K!="function")throw Error(Fe(150));if(A=K.call(A),A==null)throw Error(Fe(151));for(var W=K=null,j=S,N=S=0,R=null,M=A.next();j!==null&&!M.done;N++,M=A.next()){j.index>N?(R=j,j=null):R=j.sibling;var T=m(w,j,M.value,B);if(T===null){j===null&&(j=R);break}t&&j&&T.alternate===null&&e(w,j),S=s(T,S,N),W===null?K=T:W.sibling=T,W=T,j=R}if(M.done)return n(w,j),bn&&bu(w,N),K;if(j===null){for(;!M.done;N++,M=A.next())M=d(w,M.value,B),M!==null&&(S=s(M,S,N),W===null?K=M:W.sibling=M,W=M);return bn&&bu(w,N),K}for(j=r(w,j);!M.done;N++,M=A.next())M=p(j,w,N,M.value,B),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?N:M.key),S=s(M,S,N),W===null?K=M:W.sibling=M,W=M);return t&&j.forEach(function(C){return e(w,C)}),bn&&bu(w,N),K}function I(w,S,A,B){if(typeof A=="object"&&A!==null&&A.type===$c&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case tm:e:{for(var K=A.key,W=S;W!==null;){if(W.key===K){if(K=A.type,K===$c){if(W.tag===7){n(w,W.sibling),S=i(W,A.props.children),S.return=w,w=S;break e}}else if(W.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===el&&N_(K)===W.type){n(w,W.sibling),S=i(W,A.props),S.ref=Pd(w,W,A),S.return=w,w=S;break e}n(w,W);break}else e(w,W);W=W.sibling}A.type===$c?(S=Mu(A.props.children,w.mode,B,A.key),S.return=w,w=S):(B=Hm(A.type,A.key,A.props,null,w.mode,B),B.ref=Pd(w,S,A),B.return=w,w=B)}return o(w);case qc:e:{for(W=A.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(w,S.sibling),S=i(S,A.children||[]),S.return=w,w=S;break e}else{n(w,S);break}else e(w,S);S=S.sibling}S=fy(A,w.mode,B),S.return=w,w=S}return o(w);case el:return W=A._init,I(w,S,W(A._payload),B)}if(zd(A))return _(w,S,A,B);if(Td(A))return b(w,S,A,B);dm(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(w,S.sibling),S=i(S,A),S.return=w,w=S):(n(w,S),S=dy(A,w.mode,B),S.return=w,w=S),o(w)):n(w,S)}return I}var Nh=eI(!0),tI=eI(!1),Ig=ql(null),Ng=null,Jc=null,F5=null;function V5(){F5=Jc=Ng=null}function B5(t){var e=Ig.current;xn(Ig),t._currentValue=e}function Fv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fh(t,e){Ng=t,F5=Jc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vi=!0),t.firstContext=null)}function ds(t){var e=t._currentValue;if(F5!==t)if(t={context:t,memoizedValue:e,next:null},Jc===null){if(Ng===null)throw Error(Fe(308));Jc=t,Ng.dependencies={lanes:0,firstContext:t}}else Jc=Jc.next=t;return e}var Pu=null;function U5(t){Pu===null?Pu=[t]:Pu.push(t)}function nI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,U5(e)):(n.next=i.next,i.next=n),e.interleaved=n,la(t,r)}function la(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tl=!1;function z5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,la(t,n)}return i=r.interleaved,i===null?(e.next=e,U5(r)):(e.next=i.next,i.next=e),r.interleaved=e,la(t,n)}function Vm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I5(t,n)}}function k_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kg(t,e,n,r){var i=t.updateQueue;tl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,p=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,b=a;switch(m=e,p=n,b.tag){case 1:if(_=b.payload,typeof _=="function"){d=_.call(p,d,m);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,m=typeof _=="function"?_.call(p,d,m):_,m==null)break e;d=An({},d,m);break e;case 2:tl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qu|=o,t.lanes=o,t.memoizedState=d}}function C_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Fe(191,i));i.call(r)}}}var dp={},go=ql(dp),Df=ql(dp),Of=ql(dp);function Lu(t){if(t===dp)throw Error(Fe(174));return t}function q5(t,e){switch(dn(Of,e),dn(Df,t),dn(go,dp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vv(e,t)}xn(go),dn(go,e)}function kh(){xn(go),xn(Df),xn(Of)}function iI(t){Lu(Of.current);var e=Lu(go.current),n=vv(e,t.type);e!==n&&(dn(Df,t),dn(go,n))}function $5(t){Df.current===t&&(xn(go),xn(Df))}var _n=ql(0);function Cg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oy=[];function H5(){for(var t=0;t<oy.length;t++)oy[t]._workInProgressVersionPrimary=null;oy.length=0}var Bm=pa.ReactCurrentDispatcher,ay=pa.ReactCurrentBatchConfig,zu=0,En=null,nr=null,cr=null,Pg=!1,sf=!1,jf=0,xD=0;function Pr(){throw Error(Fe(321))}function W5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fs(t[n],e[n]))return!1;return!0}function G5(t,e,n,r,i,s){if(zu=s,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bm.current=t===null||t.memoizedState===null?ED:AD,t=n(r,i),sf){s=0;do{if(sf=!1,jf=0,25<=s)throw Error(Fe(301));s+=1,cr=nr=null,e.updateQueue=null,Bm.current=TD,t=n(r,i)}while(sf)}if(Bm.current=Lg,e=nr!==null&&nr.next!==null,zu=0,cr=nr=En=null,Pg=!1,e)throw Error(Fe(300));return t}function K5(){var t=jf!==0;return jf=0,t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?En.memoizedState=cr=t:cr=cr.next=t,cr}function fs(){if(nr===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=nr.next;var e=cr===null?En.memoizedState:cr.next;if(e!==null)cr=e,nr=t;else{if(t===null)throw Error(Fe(310));nr=t,t={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},cr===null?En.memoizedState=cr=t:cr=cr.next=t}return cr}function Mf(t,e){return typeof e=="function"?e(t):e}function ly(t){var e=fs(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=nr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((zu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,En.lanes|=c,qu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Fs(r,e.memoizedState)||(vi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,En.lanes|=s,qu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uy(t){var e=fs(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fs(s,e.memoizedState)||(vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sI(){}function oI(t,e){var n=En,r=fs(),i=e(),s=!Fs(r.memoizedState,i);if(s&&(r.memoizedState=i,vi=!0),r=r.queue,Y5(uI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||cr!==null&&cr.memoizedState.tag&1){if(n.flags|=2048,Ff(9,lI.bind(null,n,r,i,e),void 0,null),dr===null)throw Error(Fe(349));zu&30||aI(n,e,i)}return i}function aI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lI(t,e,n,r){e.value=n,e.getSnapshot=r,cI(e)&&hI(t)}function uI(t,e,n){return n(function(){cI(e)&&hI(t)})}function cI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fs(t,n)}catch{return!0}}function hI(t){var e=la(t,1);e!==null&&js(e,t,1,-1)}function P_(t){var e=oo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:t},e.queue=t,t=t.dispatch=SD.bind(null,En,t),[e.memoizedState,t]}function Ff(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dI(){return fs().memoizedState}function Um(t,e,n,r){var i=oo();En.flags|=t,i.memoizedState=Ff(1|e,n,void 0,r===void 0?null:r)}function T0(t,e,n,r){var i=fs();r=r===void 0?null:r;var s=void 0;if(nr!==null){var o=nr.memoizedState;if(s=o.destroy,r!==null&&W5(r,o.deps)){i.memoizedState=Ff(e,n,s,r);return}}En.flags|=t,i.memoizedState=Ff(1|e,n,s,r)}function L_(t,e){return Um(8390656,8,t,e)}function Y5(t,e){return T0(2048,8,t,e)}function fI(t,e){return T0(4,2,t,e)}function pI(t,e){return T0(4,4,t,e)}function mI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gI(t,e,n){return n=n!=null?n.concat([t]):null,T0(4,4,mI.bind(null,e,t),n)}function Q5(){}function yI(t,e){var n=fs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vI(t,e){var n=fs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wI(t,e,n){return zu&21?(Fs(n,e)||(n=ET(),En.lanes|=n,qu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vi=!0),t.memoizedState=n)}function bD(t,e){var n=tn;tn=n!==0&&4>n?n:4,t(!0);var r=ay.transition;ay.transition={};try{t(!1),e()}finally{tn=n,ay.transition=r}}function xI(){return fs().memoizedState}function _D(t,e,n){var r=wl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bI(t))_I(e,n);else if(n=nI(t,e,n,r),n!==null){var i=ni();js(n,t,r,i),SI(n,e,r)}}function SD(t,e,n){var r=wl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bI(t))_I(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fs(a,o)){var l=e.interleaved;l===null?(i.next=i,U5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nI(t,e,i,r),n!==null&&(i=ni(),js(n,t,r,i),SI(n,e,r))}}function bI(t){var e=t.alternate;return t===En||e!==null&&e===En}function _I(t,e){sf=Pg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I5(t,n)}}var Lg={readContext:ds,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},ED={readContext:ds,useCallback:function(t,e){return oo().memoizedState=[t,e===void 0?null:e],t},useContext:ds,useEffect:L_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Um(4194308,4,mI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Um(4194308,4,t,e)},useInsertionEffect:function(t,e){return Um(4,2,t,e)},useMemo:function(t,e){var n=oo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_D.bind(null,En,t),[r.memoizedState,t]},useRef:function(t){var e=oo();return t={current:t},e.memoizedState=t},useState:P_,useDebugValue:Q5,useDeferredValue:function(t){return oo().memoizedState=t},useTransition:function(){var t=P_(!1),e=t[0];return t=bD.bind(null,t[1]),oo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=En,i=oo();if(bn){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),dr===null)throw Error(Fe(349));zu&30||aI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,L_(uI.bind(null,r,s,t),[t]),r.flags|=2048,Ff(9,lI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=oo(),e=dr.identifierPrefix;if(bn){var n=Ko,r=Go;n=(r&~(1<<32-Os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AD={readContext:ds,useCallback:yI,useContext:ds,useEffect:Y5,useImperativeHandle:gI,useInsertionEffect:fI,useLayoutEffect:pI,useMemo:vI,useReducer:ly,useRef:dI,useState:function(){return ly(Mf)},useDebugValue:Q5,useDeferredValue:function(t){var e=fs();return wI(e,nr.memoizedState,t)},useTransition:function(){var t=ly(Mf)[0],e=fs().memoizedState;return[t,e]},useMutableSource:sI,useSyncExternalStore:oI,useId:xI,unstable_isNewReconciler:!1},TD={readContext:ds,useCallback:yI,useContext:ds,useEffect:Y5,useImperativeHandle:gI,useInsertionEffect:fI,useLayoutEffect:pI,useMemo:vI,useReducer:uy,useRef:dI,useState:function(){return uy(Mf)},useDebugValue:Q5,useDeferredValue:function(t){var e=fs();return nr===null?e.memoizedState=t:wI(e,nr.memoizedState,t)},useTransition:function(){var t=uy(Mf)[0],e=fs().memoizedState;return[t,e]},useMutableSource:sI,useSyncExternalStore:oI,useId:xI,unstable_isNewReconciler:!1};function ks(t,e){if(t&&t.defaultProps){e=An({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:An({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var I0={isMounted:function(t){return(t=t._reactInternals)?Zu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ni(),i=wl(t),s=Jo(r,i);s.payload=e,n!=null&&(s.callback=n),e=yl(t,s,i),e!==null&&(js(e,t,i,r),Vm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ni(),i=wl(t),s=Jo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yl(t,s,i),e!==null&&(js(e,t,i,r),Vm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ni(),r=wl(t),i=Jo(n,r);i.tag=2,e!=null&&(i.callback=e),e=yl(t,i,r),e!==null&&(js(e,t,r,n),Vm(e,t,r))}};function R_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cf(n,r)||!Cf(i,s):!0}function EI(t,e,n){var r=!1,i=kl,s=e.contextType;return typeof s=="object"&&s!==null?s=ds(s):(i=xi(e)?Bu:Wr.current,r=e.contextTypes,s=(r=r!=null)?Th(t,i):kl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=I0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function D_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&I0.enqueueReplaceState(e,e.state,null)}function Bv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},z5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ds(s):(s=xi(e)?Bu:Wr.current,i.context=Th(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&I0.enqueueReplaceState(i,i.state,null),kg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ch(t,e){try{var n="",r=e;do n+=e8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ID=typeof WeakMap=="function"?WeakMap:Map;function AI(t,e,n){n=Jo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dg||(Dg=!0,Xv=r),Uv(t,e)},n}function TI(t,e,n){n=Jo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Uv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uv(t,e),typeof r!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function O_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ID;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UD.bind(null,t,e,n),e.then(t,t))}function j_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jo(-1,1),e.tag=2,yl(n,e,1))),n.lanes|=1),t)}var ND=pa.ReactCurrentOwner,vi=!1;function ti(t,e,n,r){e.child=t===null?tI(e,null,n,r):Nh(e,t.child,n,r)}function F_(t,e,n,r,i){n=n.render;var s=e.ref;return fh(e,i),r=G5(t,e,n,r,s,i),n=K5(),t!==null&&!vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ua(t,e,i)):(bn&&n&&O5(e),e.flags|=1,ti(t,e,r,i),e.child)}function V_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!iw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,II(t,e,s,r,i)):(t=Hm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cf,n(o,r)&&t.ref===e.ref)return ua(t,e,i)}return e.flags|=1,t=xl(s,r),t.ref=e.ref,t.return=e,e.child=t}function II(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cf(s,r)&&t.ref===e.ref)if(vi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vi=!0);else return e.lanes=t.lanes,ua(t,e,i)}return zv(t,e,n,r,i)}function NI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(eh,Oi),Oi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dn(eh,Oi),Oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,dn(eh,Oi),Oi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,dn(eh,Oi),Oi|=r;return ti(t,e,i,n),e.child}function kI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zv(t,e,n,r,i){var s=xi(n)?Bu:Wr.current;return s=Th(e,s),fh(e,i),n=G5(t,e,n,r,s,i),r=K5(),t!==null&&!vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ua(t,e,i)):(bn&&r&&O5(e),e.flags|=1,ti(t,e,n,i),e.child)}function B_(t,e,n,r,i){if(xi(n)){var s=!0;Eg(e)}else s=!1;if(fh(e,i),e.stateNode===null)zm(t,e),EI(e,n,r),Bv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ds(u):(u=xi(n)?Bu:Wr.current,u=Th(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&D_(e,o,r,u),tl=!1;var m=e.memoizedState;o.state=m,kg(e,r,o,i),l=e.memoizedState,a!==r||m!==l||wi.current||tl?(typeof c=="function"&&(Vv(e,n,c,r),l=e.memoizedState),(a=tl||R_(e,n,a,r,m,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ks(e.type,a),o.props=u,d=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ds(l):(l=xi(n)?Bu:Wr.current,l=Th(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==l)&&D_(e,o,r,l),tl=!1,m=e.memoizedState,o.state=m,kg(e,r,o,i);var _=e.memoizedState;a!==d||m!==_||wi.current||tl?(typeof p=="function"&&(Vv(e,n,p,r),_=e.memoizedState),(u=tl||R_(e,n,u,r,m,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,s,i)}function qv(t,e,n,r,i,s){kI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&A_(e,n,!1),ua(t,e,s);r=e.stateNode,ND.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Nh(e,t.child,null,s),e.child=Nh(e,null,a,s)):ti(t,e,a,s),e.memoizedState=r.state,i&&A_(e,n,!0),e.child}function CI(t){var e=t.stateNode;e.pendingContext?E_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E_(t,e.context,!1),q5(t,e.containerInfo)}function U_(t,e,n,r,i){return Ih(),M5(i),e.flags|=256,ti(t,e,n,r),e.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function Hv(t){return{baseLanes:t,cachePool:null,transitions:null}}function PI(t,e,n){var r=e.pendingProps,i=_n.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dn(_n,i&1),t===null)return Mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=C0(o,r,0,null),t=Mu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hv(n),e.memoizedState=$v,t):X5(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xl(a,s):(s=Mu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$v,r}return s=t.child,t=s.sibling,r=xl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function X5(t,e){return e=C0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fm(t,e,n,r){return r!==null&&M5(r),Nh(e,t.child,null,n),t=X5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cy(Error(Fe(422))),fm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=C0({mode:"visible",children:r.children},i,0,null),s=Mu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Nh(e,t.child,null,o),e.child.memoizedState=Hv(o),e.memoizedState=$v,s);if(!(e.mode&1))return fm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Fe(419)),r=cy(s,r,void 0),fm(t,e,o,r)}if(a=(o&t.childLanes)!==0,vi||a){if(r=dr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,la(t,i),js(r,t,i,-1))}return rw(),r=cy(Error(Fe(421))),fm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mi=gl(i.nextSibling),Ui=e,bn=!0,Ls=null,t!==null&&(ss[os++]=Go,ss[os++]=Ko,ss[os++]=Uu,Go=t.id,Ko=t.overflow,Uu=e),e=X5(e,r.children),e.flags|=4096,e)}function z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fv(t.return,e,n)}function hy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ti(t,e,r.children,n),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z_(t,n,e);else if(t.tag===19)z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dn(_n,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hy(e,!0,n,null,s);break;case"together":hy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ua(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=xl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CD(t,e,n){switch(e.tag){case 3:CI(e),Ih();break;case 5:iI(e);break;case 1:xi(e.type)&&Eg(e);break;case 4:q5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dn(Ig,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dn(_n,_n.current&1),e.flags|=128,null):n&e.child.childLanes?PI(t,e,n):(dn(_n,_n.current&1),t=ua(t,e,n),t!==null?t.sibling:null);dn(_n,_n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,NI(t,e,n)}return ua(t,e,n)}var RI,Wv,DI,OI;RI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wv=function(){};DI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Lu(go.current);var s=null;switch(n){case"input":i=pv(t,i),r=pv(t,r),s=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),s=[];break;case"textarea":i=yv(t,i),r=yv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_g)}wv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};OI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ld(t,e){if(!bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PD(t,e,n){var r=e.pendingProps;switch(j5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return xi(e.type)&&Sg(),Lr(e),null;case 3:return r=e.stateNode,kh(),xn(wi),xn(Wr),H5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ls!==null&&(e2(Ls),Ls=null))),Wv(t,e),Lr(e),null;case 5:$5(e);var i=Lu(Of.current);if(n=e.type,t!==null&&e.stateNode!=null)DI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return Lr(e),null}if(t=Lu(go.current),hm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[co]=e,r[Rf]=s,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<$d.length;i++)yn($d[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":Xb(r,s),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yn("invalid",r);break;case"textarea":Zb(r,s),yn("invalid",r)}wv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cm(r.textContent,a,t),i=["children",""+a]):Sf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yn("scroll",r)}switch(n){case"input":nm(r),Jb(r,s,!0);break;case"textarea":nm(r),e_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_g)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[co]=e,t[Rf]=r,RI(t,e,!1,!1),e.stateNode=t;e:{switch(o=xv(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<$d.length;i++)yn($d[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":Xb(t,r),i=pv(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),yn("invalid",t);break;case"textarea":Zb(t,r),i=yv(t,r),yn("invalid",t);break;default:i=r}wv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ef(t,l):typeof l=="number"&&Ef(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yn("scroll",t):l!=null&&b5(t,s,l,o))}switch(n){case"input":nm(t),Jb(t,r,!1);break;case"textarea":nm(t),e_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?uh(t,!!r.multiple,s,!1):r.defaultValue!=null&&uh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_g)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)OI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(n=Lu(Of.current),Lu(go.current),hm(e)){if(r=e.stateNode,n=e.memoizedProps,r[co]=e,(s=r.nodeValue!==n)&&(t=Ui,t!==null))switch(t.tag){case 3:cm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[co]=e,e.stateNode=r}return Lr(e),null;case 13:if(xn(_n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bn&&Mi!==null&&e.mode&1&&!(e.flags&128))ZT(),Ih(),e.flags|=98560,s=!1;else if(s=hm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[co]=e}else Ih(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),s=!1}else Ls!==null&&(e2(Ls),Ls=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_n.current&1?rr===0&&(rr=3):rw())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return kh(),Wv(t,e),t===null&&Pf(e.stateNode.containerInfo),Lr(e),null;case 10:return B5(e.type._context),Lr(e),null;case 17:return xi(e.type)&&Sg(),Lr(e),null;case 19:if(xn(_n),s=e.memoizedState,s===null)return Lr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ld(s,!1);else{if(rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cg(t),o!==null){for(e.flags|=128,Ld(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dn(_n,_n.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fn()>Ph&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304)}else{if(!r)if(t=Cg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ld(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return Lr(e),null}else 2*Fn()-s.renderingStartTime>Ph&&n!==1073741824&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fn(),e.sibling=null,n=_n.current,dn(_n,r?n&1|2:n&1),e):(Lr(e),null);case 22:case 23:return nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oi&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function LD(t,e){switch(j5(e),e.tag){case 1:return xi(e.type)&&Sg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kh(),xn(wi),xn(Wr),H5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $5(e),null;case 13:if(xn(_n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Ih()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xn(_n),null;case 4:return kh(),null;case 10:return B5(e.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var pm=!1,Br=!1,RD=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Zc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(t,e,r)}else n.current=null}function Gv(t,e,n){try{n()}catch(r){Pn(t,e,r)}}var q_=!1;function DD(t,e){if(Cv=wg,t=BT(),D5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,m=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pv={focusedElem:t,selectionRange:n},wg=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,I=_.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:ks(e.type,b),I);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(B){Pn(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return _=q_,q_=!1,_}function of(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gv(e,n,s)}i=i.next}while(i!==r)}}function N0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jI(t){var e=t.alternate;e!==null&&(t.alternate=null,jI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[co],delete e[Rf],delete e[Dv],delete e[gD],delete e[yD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MI(t){return t.tag===5||t.tag===3||t.tag===4}function $_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_g));else if(r!==4&&(t=t.child,t!==null))for(Yv(t,e,n),t=t.sibling;t!==null;)Yv(t,e,n),t=t.sibling}function Qv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qv(t,e,n),t=t.sibling;t!==null;)Qv(t,e,n),t=t.sibling}var vr=null,Ps=!1;function Ga(t,e,n){for(n=n.child;n!==null;)FI(t,e,n),n=n.sibling}function FI(t,e,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(x0,n)}catch{}switch(n.tag){case 5:Br||Zc(n,e);case 6:var r=vr,i=Ps;vr=null,Ga(t,e,n),vr=r,Ps=i,vr!==null&&(Ps?(t=vr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(Ps?(t=vr,n=n.stateNode,t.nodeType===8?iy(t.parentNode,n):t.nodeType===1&&iy(t,n),Nf(t)):iy(vr,n.stateNode));break;case 4:r=vr,i=Ps,vr=n.stateNode.containerInfo,Ps=!0,Ga(t,e,n),vr=r,Ps=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gv(n,e,o),i=i.next}while(i!==r)}Ga(t,e,n);break;case 1:if(!Br&&(Zc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pn(n,e,a)}Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,Ga(t,e,n),Br=r):Ga(t,e,n);break;default:Ga(t,e,n)}}function H_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RD),e.forEach(function(r){var i=qD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ts(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vr=a.stateNode,Ps=!1;break e;case 3:vr=a.stateNode.containerInfo,Ps=!0;break e;case 4:vr=a.stateNode.containerInfo,Ps=!0;break e}a=a.return}if(vr===null)throw Error(Fe(160));FI(s,o,i),vr=null,Ps=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VI(e,t),e=e.sibling}function VI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ts(e,t),io(t),r&4){try{of(3,t,t.return),N0(3,t)}catch(b){Pn(t,t.return,b)}try{of(5,t,t.return)}catch(b){Pn(t,t.return,b)}}break;case 1:Ts(e,t),io(t),r&512&&n!==null&&Zc(n,n.return);break;case 5:if(Ts(e,t),io(t),r&512&&n!==null&&Zc(n,n.return),t.flags&32){var i=t.stateNode;try{Ef(i,"")}catch(b){Pn(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aT(i,s),xv(a,o);var u=xv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?dT(i,d):c==="dangerouslySetInnerHTML"?cT(i,d):c==="children"?Ef(i,d):b5(i,c,d,u)}switch(a){case"input":mv(i,s);break;case"textarea":lT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?uh(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?uh(i,!!s.multiple,s.defaultValue,!0):uh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rf]=s}catch(b){Pn(t,t.return,b)}}break;case 6:if(Ts(e,t),io(t),r&4){if(t.stateNode===null)throw Error(Fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Pn(t,t.return,b)}}break;case 3:if(Ts(e,t),io(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nf(e.containerInfo)}catch(b){Pn(t,t.return,b)}break;case 4:Ts(e,t),io(t);break;case 13:Ts(e,t),io(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ew=Fn())),r&4&&H_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Br=(u=Br)||c,Ts(e,t),Br=u):Ts(e,t),io(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(nt=t,c=t.child;c!==null;){for(d=nt=c;nt!==null;){switch(m=nt,p=m.child,m.tag){case 0:case 11:case 14:case 15:of(4,m,m.return);break;case 1:Zc(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(b){Pn(r,n,b)}}break;case 5:Zc(m,m.return);break;case 22:if(m.memoizedState!==null){G_(d);continue}}p!==null?(p.return=m,nt=p):G_(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hT("display",o))}catch(b){Pn(t,t.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){Pn(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ts(e,t),io(t),r&4&&H_(t);break;case 21:break;default:Ts(e,t),io(t)}}function io(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MI(n)){var r=n;break e}n=n.return}throw Error(Fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ef(i,""),r.flags&=-33);var s=$_(t);Qv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$_(t);Yv(t,a,o);break;default:throw Error(Fe(161))}}catch(l){Pn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OD(t,e,n){nt=t,BI(t)}function BI(t,e,n){for(var r=(t.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Br;a=pm;var u=Br;if(pm=o,(Br=l)&&!u)for(nt=i;nt!==null;)o=nt,l=o.child,o.tag===22&&o.memoizedState!==null?K_(i):l!==null?(l.return=o,nt=l):K_(i);for(;s!==null;)nt=s,BI(s),s=s.sibling;nt=i,pm=a,Br=u}W_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):W_(t)}}function W_(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||N0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ks(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&C_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Nf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Br||e.flags&512&&Kv(e)}catch(m){Pn(e,e.return,m)}}if(e===t){nt=null;break}if(n=e.sibling,n!==null){n.return=e.return,nt=n;break}nt=e.return}}function G_(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,nt=n;break}nt=e.return}}function K_(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{N0(4,e)}catch(l){Pn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pn(e,i,l)}}var s=e.return;try{Kv(e)}catch(l){Pn(e,s,l)}break;case 5:var o=e.return;try{Kv(e)}catch(l){Pn(e,o,l)}}}catch(l){Pn(e,e.return,l)}if(e===t){nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,nt=a;break}nt=e.return}}var jD=Math.ceil,Rg=pa.ReactCurrentDispatcher,J5=pa.ReactCurrentOwner,cs=pa.ReactCurrentBatchConfig,zt=0,dr=null,Xn=null,Er=0,Oi=0,eh=ql(0),rr=0,Vf=null,qu=0,k0=0,Z5=0,af=null,gi=null,ew=0,Ph=1/0,Ho=null,Dg=!1,Xv=null,vl=null,mm=!1,ul=null,Og=0,lf=0,Jv=null,qm=-1,$m=0;function ni(){return zt&6?Fn():qm!==-1?qm:qm=Fn()}function wl(t){return t.mode&1?zt&2&&Er!==0?Er&-Er:wD.transition!==null?($m===0&&($m=ET()),$m):(t=tn,t!==0||(t=window.event,t=t===void 0?16:PT(t.type)),t):1}function js(t,e,n,r){if(50<lf)throw lf=0,Jv=null,Error(Fe(185));up(t,n,r),(!(zt&2)||t!==dr)&&(t===dr&&(!(zt&2)&&(k0|=n),rr===4&&il(t,Er)),bi(t,r),n===1&&zt===0&&!(e.mode&1)&&(Ph=Fn()+500,A0&&$l()))}function bi(t,e){var n=t.callbackNode;w8(t,e);var r=vg(t,t===dr?Er:0);if(r===0)n!==null&&r_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r_(n),e===1)t.tag===0?vD(Y_.bind(null,t)):QT(Y_.bind(null,t)),pD(function(){!(zt&6)&&$l()}),n=null;else{switch(AT(r)){case 1:n=T5;break;case 4:n=_T;break;case 16:n=yg;break;case 536870912:n=ST;break;default:n=yg}n=KI(n,UI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UI(t,e){if(qm=-1,$m=0,zt&6)throw Error(Fe(327));var n=t.callbackNode;if(ph()&&t.callbackNode!==n)return null;var r=vg(t,t===dr?Er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jg(t,r);else{e=r;var i=zt;zt|=2;var s=qI();(dr!==t||Er!==e)&&(Ho=null,Ph=Fn()+500,ju(t,e));do try{VD();break}catch(a){zI(t,a)}while(!0);V5(),Rg.current=s,zt=i,Xn!==null?e=0:(dr=null,Er=0,e=rr)}if(e!==0){if(e===2&&(i=Av(t),i!==0&&(r=i,e=Zv(t,i))),e===1)throw n=Vf,ju(t,0),il(t,r),bi(t,Fn()),n;if(e===6)il(t,r);else{if(i=t.current.alternate,!(r&30)&&!MD(i)&&(e=jg(t,r),e===2&&(s=Av(t),s!==0&&(r=s,e=Zv(t,s))),e===1))throw n=Vf,ju(t,0),il(t,r),bi(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Fe(345));case 2:_u(t,gi,Ho);break;case 3:if(il(t,r),(r&130023424)===r&&(e=ew+500-Fn(),10<e)){if(vg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ni(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rv(_u.bind(null,t,gi,Ho),e);break}_u(t,gi,Ho);break;case 4:if(il(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Os(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jD(r/1960))-r,10<r){t.timeoutHandle=Rv(_u.bind(null,t,gi,Ho),r);break}_u(t,gi,Ho);break;case 5:_u(t,gi,Ho);break;default:throw Error(Fe(329))}}}return bi(t,Fn()),t.callbackNode===n?UI.bind(null,t):null}function Zv(t,e){var n=af;return t.current.memoizedState.isDehydrated&&(ju(t,e).flags|=256),t=jg(t,e),t!==2&&(e=gi,gi=n,e!==null&&e2(e)),t}function e2(t){gi===null?gi=t:gi.push.apply(gi,t)}function MD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(t,e){for(e&=~Z5,e&=~k0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Os(e),r=1<<n;t[n]=-1,e&=~r}}function Y_(t){if(zt&6)throw Error(Fe(327));ph();var e=vg(t,0);if(!(e&1))return bi(t,Fn()),null;var n=jg(t,e);if(t.tag!==0&&n===2){var r=Av(t);r!==0&&(e=r,n=Zv(t,r))}if(n===1)throw n=Vf,ju(t,0),il(t,e),bi(t,Fn()),n;if(n===6)throw Error(Fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t,gi,Ho),bi(t,Fn()),null}function tw(t,e){var n=zt;zt|=1;try{return t(e)}finally{zt=n,zt===0&&(Ph=Fn()+500,A0&&$l())}}function $u(t){ul!==null&&ul.tag===0&&!(zt&6)&&ph();var e=zt;zt|=1;var n=cs.transition,r=tn;try{if(cs.transition=null,tn=1,t)return t()}finally{tn=r,cs.transition=n,zt=e,!(zt&6)&&$l()}}function nw(){Oi=eh.current,xn(eh)}function ju(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fD(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(j5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sg();break;case 3:kh(),xn(wi),xn(Wr),H5();break;case 5:$5(r);break;case 4:kh();break;case 13:xn(_n);break;case 19:xn(_n);break;case 10:B5(r.type._context);break;case 22:case 23:nw()}n=n.return}if(dr=t,Xn=t=xl(t.current,null),Er=Oi=e,rr=0,Vf=null,Z5=k0=qu=0,gi=af=null,Pu!==null){for(e=0;e<Pu.length;e++)if(n=Pu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pu=null}return t}function zI(t,e){do{var n=Xn;try{if(V5(),Bm.current=Lg,Pg){for(var r=En.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pg=!1}if(zu=0,cr=nr=En=null,sf=!1,jf=0,J5.current=null,n===null||n.return===null){rr=1,Vf=e,Xn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Er,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=j_(o);if(p!==null){p.flags&=-257,M_(p,o,a,s,e),p.mode&1&&O_(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var b=new Set;b.add(l),e.updateQueue=b}else _.add(l);break e}else{if(!(e&1)){O_(s,u,e),rw();break e}l=Error(Fe(426))}}else if(bn&&a.mode&1){var I=j_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),M_(I,o,a,s,e),M5(Ch(l,a));break e}}s=l=Ch(l,a),rr!==4&&(rr=2),af===null?af=[s]:af.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=AI(s,l,e);k_(s,w);break e;case 1:a=l;var S=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(vl===null||!vl.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=TI(s,a,e);k_(s,B);break e}}s=s.return}while(s!==null)}HI(n)}catch(K){e=K,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(!0)}function qI(){var t=Rg.current;return Rg.current=Lg,t===null?Lg:t}function rw(){(rr===0||rr===3||rr===2)&&(rr=4),dr===null||!(qu&268435455)&&!(k0&268435455)||il(dr,Er)}function jg(t,e){var n=zt;zt|=2;var r=qI();(dr!==t||Er!==e)&&(Ho=null,ju(t,e));do try{FD();break}catch(i){zI(t,i)}while(!0);if(V5(),zt=n,Rg.current=r,Xn!==null)throw Error(Fe(261));return dr=null,Er=0,rr}function FD(){for(;Xn!==null;)$I(Xn)}function VD(){for(;Xn!==null&&!c8();)$I(Xn)}function $I(t){var e=GI(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,e===null?HI(t):Xn=e,J5.current=null}function HI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LD(n,e),n!==null){n.flags&=32767,Xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rr=6,Xn=null;return}}else if(n=PD(n,e,Oi),n!==null){Xn=n;return}if(e=e.sibling,e!==null){Xn=e;return}Xn=e=t}while(e!==null);rr===0&&(rr=5)}function _u(t,e,n){var r=tn,i=cs.transition;try{cs.transition=null,tn=1,BD(t,e,n,r)}finally{cs.transition=i,tn=r}return null}function BD(t,e,n,r){do ph();while(ul!==null);if(zt&6)throw Error(Fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(x8(t,s),t===dr&&(Xn=dr=null,Er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mm||(mm=!0,KI(yg,function(){return ph(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cs.transition,cs.transition=null;var o=tn;tn=1;var a=zt;zt|=4,J5.current=null,DD(t,n),VI(n,t),oD(Pv),wg=!!Cv,Pv=Cv=null,t.current=n,OD(n),h8(),zt=a,tn=o,cs.transition=s}else t.current=n;if(mm&&(mm=!1,ul=t,Og=i),s=t.pendingLanes,s===0&&(vl=null),p8(n.stateNode),bi(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dg)throw Dg=!1,t=Xv,Xv=null,t;return Og&1&&t.tag!==0&&ph(),s=t.pendingLanes,s&1?t===Jv?lf++:(lf=0,Jv=t):lf=0,$l(),null}function ph(){if(ul!==null){var t=AT(Og),e=cs.transition,n=tn;try{if(cs.transition=null,tn=16>t?16:t,ul===null)var r=!1;else{if(t=ul,ul=null,Og=0,zt&6)throw Error(Fe(331));var i=zt;for(zt|=4,nt=t.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(nt=u;nt!==null;){var c=nt;switch(c.tag){case 0:case 11:case 15:of(8,c,s)}var d=c.child;if(d!==null)d.return=c,nt=d;else for(;nt!==null;){c=nt;var m=c.sibling,p=c.return;if(jI(c),c===u){nt=null;break}if(m!==null){m.return=p,nt=m;break}nt=p}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var I=b.sibling;b.sibling=null,b=I}while(b!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:of(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,nt=w;break e}nt=s.return}}var S=t.current;for(nt=S;nt!==null;){o=nt;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,nt=A;else e:for(o=S;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N0(9,a)}}catch(K){Pn(a,a.return,K)}if(a===o){nt=null;break e}var B=a.sibling;if(B!==null){B.return=a.return,nt=B;break e}nt=a.return}}if(zt=i,$l(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(x0,t)}catch{}r=!0}return r}finally{tn=n,cs.transition=e}}return!1}function Q_(t,e,n){e=Ch(n,e),e=AI(t,e,1),t=yl(t,e,1),e=ni(),t!==null&&(up(t,1,e),bi(t,e))}function Pn(t,e,n){if(t.tag===3)Q_(t,t,n);else for(;e!==null;){if(e.tag===3){Q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vl===null||!vl.has(r))){t=Ch(n,t),t=TI(e,t,1),e=yl(e,t,1),t=ni(),e!==null&&(up(e,1,t),bi(e,t));break}}e=e.return}}function UD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ni(),t.pingedLanes|=t.suspendedLanes&n,dr===t&&(Er&n)===n&&(rr===4||rr===3&&(Er&130023424)===Er&&500>Fn()-ew?ju(t,0):Z5|=n),bi(t,e)}function WI(t,e){e===0&&(t.mode&1?(e=sm,sm<<=1,!(sm&130023424)&&(sm=4194304)):e=1);var n=ni();t=la(t,e),t!==null&&(up(t,e,n),bi(t,n))}function zD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WI(t,n)}function qD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),WI(t,n)}var GI;GI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wi.current)vi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vi=!1,CD(t,e,n);vi=!!(t.flags&131072)}else vi=!1,bn&&e.flags&1048576&&XT(e,Tg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zm(t,e),t=e.pendingProps;var i=Th(e,Wr.current);fh(e,n),i=G5(null,e,r,t,i,n);var s=K5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(r)?(s=!0,Eg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z5(e),i.updater=I0,e.stateNode=i,i._reactInternals=e,Bv(e,r,t,n),e=qv(null,e,r,!0,s,n)):(e.tag=0,bn&&s&&O5(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HD(r),t=ks(r,t),i){case 0:e=zv(null,e,r,t,n);break e;case 1:e=B_(null,e,r,t,n);break e;case 11:e=F_(null,e,r,t,n);break e;case 14:e=V_(null,e,r,ks(r.type,t),n);break e}throw Error(Fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),zv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),B_(t,e,r,i,n);case 3:e:{if(CI(e),t===null)throw Error(Fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rI(t,e),kg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ch(Error(Fe(423)),e),e=U_(t,e,r,n,i);break e}else if(r!==i){i=Ch(Error(Fe(424)),e),e=U_(t,e,r,n,i);break e}else for(Mi=gl(e.stateNode.containerInfo.firstChild),Ui=e,bn=!0,Ls=null,n=tI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ih(),r===i){e=ua(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return iI(e),t===null&&Mv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lv(r,i)?o=null:s!==null&&Lv(r,s)&&(e.flags|=32),kI(t,e),ti(t,e,o,n),e.child;case 6:return t===null&&Mv(e),null;case 13:return PI(t,e,n);case 4:return q5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nh(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),F_(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,dn(Ig,r._currentValue),r._currentValue=o,s!==null)if(Fs(s.value,o)){if(s.children===i.children&&!wi.current){e=ua(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Jo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fh(e,n),i=ds(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=ks(r,e.pendingProps),i=ks(r.type,i),V_(t,e,r,i,n);case 15:return II(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),zm(t,e),e.tag=1,xi(r)?(t=!0,Eg(e)):t=!1,fh(e,n),EI(e,r,i),Bv(e,r,i,n),qv(null,e,r,!0,t,n);case 19:return LI(t,e,n);case 22:return NI(t,e,n)}throw Error(Fe(156,e.tag))};function KI(t,e){return bT(t,e)}function $D(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(t,e,n,r){return new $D(t,e,n,r)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HD(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S5)return 11;if(t===E5)return 14}return 2}function xl(t,e){var n=t.alternate;return n===null?(n=ls(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")iw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $c:return Mu(n.children,i,s,e);case _5:o=8,i|=8;break;case cv:return t=ls(12,n,e,i|2),t.elementType=cv,t.lanes=s,t;case hv:return t=ls(13,n,e,i),t.elementType=hv,t.lanes=s,t;case dv:return t=ls(19,n,e,i),t.elementType=dv,t.lanes=s,t;case iT:return C0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nT:o=10;break e;case rT:o=9;break e;case S5:o=11;break e;case E5:o=14;break e;case el:o=16,r=null;break e}throw Error(Fe(130,t==null?t:typeof t,""))}return e=ls(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Mu(t,e,n,r){return t=ls(7,t,r,e),t.lanes=n,t}function C0(t,e,n,r){return t=ls(22,t,r,e),t.elementType=iT,t.lanes=n,t.stateNode={isHidden:!1},t}function dy(t,e,n){return t=ls(6,t,null,e),t.lanes=n,t}function fy(t,e,n){return e=ls(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G1(0),this.expirationTimes=G1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sw(t,e,n,r,i,s,o,a,l){return t=new WD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ls(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},z5(s),t}function GD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YI(t){if(!t)return kl;t=t._reactInternals;e:{if(Zu(t)!==t||t.tag!==1)throw Error(Fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(t.tag===1){var n=t.type;if(xi(n))return YT(t,n,e)}return e}function QI(t,e,n,r,i,s,o,a,l){return t=sw(n,r,!0,t,i,s,o,a,l),t.context=YI(null),n=t.current,r=ni(),i=wl(n),s=Jo(r,i),s.callback=e??null,yl(n,s,i),t.current.lanes=i,up(t,i,r),bi(t,r),t}function P0(t,e,n,r){var i=e.current,s=ni(),o=wl(i);return n=YI(n),e.context===null?e.context=n:e.pendingContext=n,e=Jo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yl(i,e,o),t!==null&&(js(t,i,o,s),Vm(t,i,o)),o}function Mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){X_(t,e),(t=t.alternate)&&X_(t,e)}function KD(){return null}var XI=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}L0.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));P0(t,e,null,null)};L0.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$u(function(){P0(null,t,null,null)}),e[aa]=null}};function L0(t){this._internalRoot=t}L0.prototype.unstable_scheduleHydration=function(t){if(t){var e=NT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rl.length&&e!==0&&e<rl[n].priority;n++);rl.splice(n,0,t),n===0&&CT(t)}};function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function R0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J_(){}function YD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Mg(o);s.call(u)}}var o=QI(e,r,t,0,null,!1,!1,"",J_);return t._reactRootContainer=o,t[aa]=o.current,Pf(t.nodeType===8?t.parentNode:t),$u(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Mg(l);a.call(u)}}var l=sw(t,0,!1,null,null,!1,!1,"",J_);return t._reactRootContainer=l,t[aa]=l.current,Pf(t.nodeType===8?t.parentNode:t),$u(function(){P0(e,l,n,r)}),l}function D0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mg(o);a.call(l)}}P0(e,o,t,i)}else o=YD(n,e,t,i,r);return Mg(o)}TT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qd(e.pendingLanes);n!==0&&(I5(e,n|1),bi(e,Fn()),!(zt&6)&&(Ph=Fn()+500,$l()))}break;case 13:$u(function(){var r=la(t,1);if(r!==null){var i=ni();js(r,t,1,i)}}),ow(t,1)}};N5=function(t){if(t.tag===13){var e=la(t,134217728);if(e!==null){var n=ni();js(e,t,134217728,n)}ow(t,134217728)}};IT=function(t){if(t.tag===13){var e=wl(t),n=la(t,e);if(n!==null){var r=ni();js(n,t,e,r)}ow(t,e)}};NT=function(){return tn};kT=function(t,e){var n=tn;try{return tn=t,e()}finally{tn=n}};_v=function(t,e,n){switch(e){case"input":if(mv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=E0(r);if(!i)throw Error(Fe(90));oT(r),mv(r,i)}}}break;case"textarea":lT(t,n);break;case"select":e=n.value,e!=null&&uh(t,!!n.multiple,e,!1)}};mT=tw;gT=$u;var QD={usingClientEntryPoint:!1,Events:[hp,Kc,E0,fT,pT,tw]},Rd={findFiberByHostInstance:Cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XD={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wT(t),t===null?null:t.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||KD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gm.isDisabled&&gm.supportsFiber)try{x0=gm.inject(XD),mo=gm}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QD;$i.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(e))throw Error(Fe(200));return GD(t,e,null,n)};$i.createRoot=function(t,e){if(!lw(t))throw Error(Fe(299));var n=!1,r="",i=XI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sw(t,1,!1,null,null,n,!1,r,i),t[aa]=e.current,Pf(t.nodeType===8?t.parentNode:t),new aw(e)};$i.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=wT(e),t=t===null?null:t.stateNode,t};$i.flushSync=function(t){return $u(t)};$i.hydrate=function(t,e,n){if(!R0(e))throw Error(Fe(200));return D0(null,t,e,!0,n)};$i.hydrateRoot=function(t,e,n){if(!lw(t))throw Error(Fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QI(e,null,t,1,n??null,i,!1,s,o),t[aa]=e.current,Pf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new L0(e)};$i.render=function(t,e,n){if(!R0(e))throw Error(Fe(200));return D0(null,t,e,!1,n)};$i.unmountComponentAtNode=function(t){if(!R0(t))throw Error(Fe(40));return t._reactRootContainer?($u(function(){D0(null,null,t,!1,function(){t._reactRootContainer=null,t[aa]=null})}),!0):!1};$i.unstable_batchedUpdates=tw;$i.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!R0(n))throw Error(Fe(200));if(t==null||t._reactInternals===void 0)throw Error(Fe(38));return D0(t,e,n,!1,r)};$i.version="18.3.1-next-f1338f8080-20240426";function JI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JI)}catch(t){console.error(t)}}JI(),J3.exports=$i;var JD=J3.exports,ZI,Z_=JD;ZI=Z_.createRoot,Z_.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}var cl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cl||(cl={}));const e4="popstate";function ZD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return t2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fg(i)}return tO(e,n,null,t)}function zn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eO(){return Math.random().toString(36).substr(2,8)}function t4(t,e){return{usr:t.state,key:t.key,idx:e}}function t2(t,e,n,r){return n===void 0&&(n=null),Bf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yh(e):e,{state:n,key:e&&e.key||r||eO()})}function Fg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=cl.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Bf({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=cl.Pop;let I=c(),w=I==null?null:I-u;u=I,l&&l({action:a,location:b.location,delta:w})}function m(I,w){a=cl.Push;let S=t2(b.location,I,w);u=c()+1;let A=t4(S,u),B=b.createHref(S);try{o.pushState(A,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(B)}s&&l&&l({action:a,location:b.location,delta:1})}function p(I,w){a=cl.Replace;let S=t2(b.location,I,w);u=c();let A=t4(S,u),B=b.createHref(S);o.replaceState(A,"",B),s&&l&&l({action:a,location:b.location,delta:0})}function _(I){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof I=="string"?I:Fg(I);return S=S.replace(/ $/,"%20"),zn(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let b={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e4,d),l=I,()=>{i.removeEventListener(e4,d),l=null}},createHref(I){return e(i,I)},createURL:_,encodeLocation(I){let w=_(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(I){return o.go(I)}};return b}var n4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n4||(n4={}));function nO(t,e,n){return n===void 0&&(n="/"),rO(t,e,n,!1)}function rO(t,e,n,r){let i=typeof e=="string"?Yh(e):e,s=uw(i.pathname||"/",n);if(s==null)return null;let o=tN(t);iO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=mO(s);a=fO(o[l],u,r)}return a}function tN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(zn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bl([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(zn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tN(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:hO(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of nN(s.path))i(s,o,l)}),e}function nN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=nN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sO=/^:[\w-]+$/,oO=3,aO=2,lO=1,uO=10,cO=-2,r4=t=>t==="*";function hO(t,e){let n=t.split("/"),r=n.length;return n.some(r4)&&(r+=cO),e&&(r+=aO),n.filter(i=>!r4(i)).reduce((i,s)=>i+(sO.test(s)?oO:s===""?lO:uO),r)}function dO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=i4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=i4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:bl([s,d.pathname]),pathnameBase:wO(bl([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=bl([s,d.pathnameBase]))}return o}function i4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:m,isOptional:p}=c;if(m==="*"){let b=a[d]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const _=a[d];return p&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function pO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),eN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yh(t):t;return{pathname:n?n.startsWith("/")?n:yO(n,e):e,search:xO(r),hash:bO(i)}}function yO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function py(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cw(t,e){let n=vO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yh(t):(i=Bf({},t),zn(!i.pathname||!i.pathname.includes("?"),py("?","pathname","search",i)),zn(!i.pathname||!i.pathname.includes("#"),py("#","pathname","hash",i)),zn(!i.search||!i.search.includes("#"),py("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}a=d>=0?e[d]:"/"}let l=gO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const bl=t=>t.join("/").replace(/\/\/+/g,"/"),wO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _O(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rN=["post","put","patch","delete"];new Set(rN);const SO=["get",...rN];new Set(SO);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}const dw=ne.createContext(null),EO=ne.createContext(null),Hl=ne.createContext(null),O0=ne.createContext(null),ma=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),iN=ne.createContext(null);function AO(t,e){let{relative:n}=e===void 0?{}:e;Qh()||zn(!1);let{basename:r,navigator:i}=ne.useContext(Hl),{hash:s,pathname:o,search:a}=aN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qh(){return ne.useContext(O0)!=null}function ec(){return Qh()||zn(!1),ne.useContext(O0).location}function sN(t){ne.useContext(Hl).static||ne.useLayoutEffect(t)}function ga(){let{isDataRoute:t}=ne.useContext(ma);return t?FO():TO()}function TO(){Qh()||zn(!1);let t=ne.useContext(dw),{basename:e,future:n,navigator:r}=ne.useContext(Hl),{matches:i}=ne.useContext(ma),{pathname:s}=ec(),o=JSON.stringify(cw(i,n.v7_relativeSplatPath)),a=ne.useRef(!1);return sN(()=>{a.current=!0}),ne.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=hw(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bl([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function oN(){let{matches:t}=ne.useContext(ma),e=t[t.length-1];return e?e.params:{}}function aN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ne.useContext(Hl),{matches:i}=ne.useContext(ma),{pathname:s}=ec(),o=JSON.stringify(cw(i,r.v7_relativeSplatPath));return ne.useMemo(()=>hw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function IO(t,e){return NO(t,e)}function NO(t,e,n,r){Qh()||zn(!1);let{navigator:i}=ne.useContext(Hl),{matches:s}=ne.useContext(ma),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ec(),c;if(e){var d;let I=typeof e=="string"?Yh(e):e;l==="/"||(d=I.pathname)!=null&&d.startsWith(l)||zn(!1),c=I}else c=u;let m=c.pathname||"/",p=m;if(l!=="/"){let I=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=nO(t,{pathname:p}),b=RO(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:bl([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:bl([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&b?ne.createElement(O0.Provider,{value:{location:Uf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:cl.Pop}},b):b}function kO(){let t=MO(),e=_O(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:i},n):null,null)}const CO=ne.createElement(kO,null);class PO extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ne.createElement(ma.Provider,{value:this.props.routeContext},ne.createElement(iN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LO(t){let{routeContext:e,match:n,children:r}=t,i=ne.useContext(dw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(ma.Provider,{value:e},r)}function RO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||zn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:m,errors:p}=n,_=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,m)=>{let p,_=!1,b=null,I=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,b=d.route.errorElement||CO,l&&(u<0&&m===0?(_=!0,I=null):u===m&&(_=!0,I=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),S=()=>{let A;return p?A=b:_?A=I:d.route.Component?A=ne.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=c,ne.createElement(LO,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?ne.createElement(PO,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var lN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lN||{}),Vg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vg||{});function DO(t){let e=ne.useContext(dw);return e||zn(!1),e}function OO(t){let e=ne.useContext(EO);return e||zn(!1),e}function jO(t){let e=ne.useContext(ma);return e||zn(!1),e}function uN(t){let e=jO(),n=e.matches[e.matches.length-1];return n.route.id||zn(!1),n.route.id}function MO(){var t;let e=ne.useContext(iN),n=OO(Vg.UseRouteError),r=uN(Vg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FO(){let{router:t}=DO(lN.UseNavigateStable),e=uN(Vg.UseNavigateStable),n=ne.useRef(!1);return sN(()=>{n.current=!0}),ne.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uf({fromRouteId:e},s)))},[t,e])}const s4={};function VO(t,e){s4[e]||(s4[e]=!0,console.warn(e))}const o4=(t,e,n)=>VO(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function BO(t,e){t!=null&&t.v7_startTransition||o4("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&o4("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function a4(t){let{to:e,replace:n,state:r,relative:i}=t;Qh()||zn(!1);let{future:s,static:o}=ne.useContext(Hl),{matches:a}=ne.useContext(ma),{pathname:l}=ec(),u=ga(),c=hw(e,cw(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return ne.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function rs(t){zn(!1)}function UO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=cl.Pop,navigator:s,static:o=!1,future:a}=t;Qh()&&zn(!1);let l=e.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:l,navigator:s,static:o,future:Uf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Yh(r));let{pathname:c="/",search:d="",hash:m="",state:p=null,key:_="default"}=r,b=ne.useMemo(()=>{let I=uw(c,l);return I==null?null:{location:{pathname:I,search:d,hash:m,state:p,key:_},navigationType:i}},[l,c,d,m,p,_,i]);return b==null?null:ne.createElement(Hl.Provider,{value:u},ne.createElement(O0.Provider,{children:n,value:b}))}function zO(t){let{children:e,location:n}=t;return IO(n2(e),n)}new Promise(()=>{});function n2(t,e){e===void 0&&(e=[]);let n=[];return ne.Children.forEach(t,(r,i)=>{if(!ne.isValidElement(r))return;let s=[...e,i];if(r.type===ne.Fragment){n.push.apply(n,n2(r.props.children,s));return}r.type!==rs&&zn(!1),!r.props.index||!r.props.children||zn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=n2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r2.apply(this,arguments)}function qO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $O(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HO(t,e){return t.button===0&&(!e||e==="_self")&&!$O(t)}const WO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GO="6";try{window.__reactRouterVersion=GO}catch{}const KO="startTransition",l4=UR[KO];function YO(t){let{basename:e,children:n,future:r,window:i}=t,s=ne.useRef();s.current==null&&(s.current=ZD({window:i,v5Compat:!0}));let o=s.current,[a,l]=ne.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=ne.useCallback(d=>{u&&l4?l4(()=>l(d)):l(d)},[l,u]);return ne.useLayoutEffect(()=>o.listen(c),[o,c]),ne.useEffect(()=>BO(r),[r]),ne.createElement(UO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const QO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lo=ne.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,m=qO(e,WO),{basename:p}=ne.useContext(Hl),_,b=!1;if(typeof u=="string"&&XO.test(u)&&(_=u,QO))try{let A=new URL(window.location.href),B=u.startsWith("//")?new URL(A.protocol+u):new URL(u),K=uw(B.pathname,p);B.origin===A.origin&&K!=null?u=K+B.search+B.hash:b=!0}catch{}let I=AO(u,{relative:i}),w=JO(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function S(A){r&&r(A),A.defaultPrevented||w(A)}return ne.createElement("a",r2({},m,{href:_||I,onClick:b||s?r:S,ref:n,target:l}))});var u4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u4||(u4={}));var c4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c4||(c4={}));function JO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ga(),u=ec(),c=aN(t,{relative:o});return ne.useCallback(d=>{if(HO(d,n)){d.preventDefault();let m=r!==void 0?r:Fg(u)===Fg(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function ZO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function j0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const i2=t=>Array.isArray(t);function cN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zf(t){return typeof t=="string"||Array.isArray(t)}function h4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function fw(t,e,n,r){if(typeof e=="function"){const[i,s]=h4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=h4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function M0(t,e,n){const r=t.getProps();return fw(r,e,n!==void 0?n:r.custom,t)}const pw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mw=["initial",...pw],fp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tc=new Set(fp),Zo=t=>t*1e3,ea=t=>t/1e3,e7={type:"spring",stiffness:500,damping:25,restSpeed:10},t7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n7={type:"keyframes",duration:.8},r7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i7=(t,{keyframes:e})=>e.length>2?n7:tc.has(t)?t.startsWith("scale")?t7(e[1]):e7:r7;function gw(t,e){return t?t[e]||t.default||t:void 0}const s7={skipAnimations:!1,useManualTiming:!1},o7=t=>t!==null;function F0(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(o7),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Hr=t=>t;function a7(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,d=!1)=>{const p=d&&r?e:n;return c&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(u))}};return l}const ym=["read","resolveKeyframes","update","preRender","render","postRender"],l7=40;function hN(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ym.reduce((w,S)=>(w[S]=a7(s),w),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:m}=o,p=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,l7),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},_=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:ym.reduce((w,S)=>{const A=o[S];return w[S]=(B,K=!1,W=!1)=>(n||_(),A.schedule(B,K,W)),w},{}),cancel:w=>{for(let S=0;S<ym.length;S++)o[ym[S]].cancel(w)},state:i,steps:o}}const{schedule:rn,cancel:Cl,state:wr,steps:my}=hN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),dN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,u7=1e-7,c7=12;function h7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=dN(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>u7&&++a<c7);return o}function pp(t,e,n,r){if(t===e&&n===r)return Hr;const i=s=>h7(s,0,1,t,n);return s=>s===0||s===1?s:dN(i(s),e,r)}const fN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pN=t=>e=>1-t(1-e),mN=pp(.33,1.53,.69,.99),yw=pN(mN),gN=fN(yw),yN=t=>(t*=2)<1?.5*yw(t):.5*(2-Math.pow(2,-10*(t-1))),vw=t=>1-Math.sin(Math.acos(t)),vN=pN(vw),wN=fN(vw),xN=t=>/^0[^.\s]+$/u.test(t);function d7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xN(t):!0}let s2=Hr;const bN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_N=t=>e=>typeof e=="string"&&e.startsWith(t),SN=_N("--"),f7=_N("var(--"),ww=t=>f7(t)?p7.test(t.split("/*")[0].trim()):!1,p7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,m7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g7(t){const e=m7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function EN(t,e,n=1){const[r,i]=g7(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return bN(o)?parseFloat(o):o}return ww(i)?EN(i,e,n+1):i}const Pl=(t,e,n)=>n>e?e:n<t?t:n,Xh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qf={...Xh,transform:t=>Pl(0,1,t)},vm={...Xh,default:1},mp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Za=mp("deg"),yo=mp("%"),dt=mp("px"),y7=mp("vh"),v7=mp("vw"),d4={...yo,parse:t=>yo.parse(t)/100,transform:t=>yo.transform(t*100)},w7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),f4=t=>t===Xh||t===dt,p4=(t,e)=>parseFloat(t.split(", ")[e]),m4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return p4(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?p4(s[1],t):0}},x7=new Set(["x","y","z"]),b7=fp.filter(t=>!x7.has(t));function _7(t){const e=[];return b7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:m4(4,13),y:m4(5,14)};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const AN=t=>e=>e.test(t),S7={test:t=>t==="auto",parse:t=>t},TN=[Xh,dt,yo,Za,v7,y7,S7],g4=t=>TN.find(AN(t)),Fu=new Set;let o2=!1,a2=!1;function IN(){if(a2){const t=Array.from(Fu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}a2=!1,o2=!1,Fu.forEach(t=>t.complete()),Fu.clear()}function NN(){Fu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(a2=!0)})}function E7(){NN(),IN()}class xw{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Fu.add(this),o2||(o2=!0,rn.read(NN),rn.resolveKeyframes(IN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Fu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Fu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uf=t=>Math.round(t*1e5)/1e5,bw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A7(t){return t==null}const T7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_w=(t,e)=>n=>!!(typeof n=="string"&&T7.test(n)&&n.startsWith(t)||e&&!A7(n)&&Object.prototype.hasOwnProperty.call(n,e)),kN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(bw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},I7=t=>Pl(0,255,t),gy={...Xh,transform:t=>Math.round(I7(t))},Ru={test:_w("rgb","red"),parse:kN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+gy.transform(t)+", "+gy.transform(e)+", "+gy.transform(n)+", "+uf(qf.transform(r))+")"};function N7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const l2={test:_w("#"),parse:N7,transform:Ru.transform},th={test:_w("hsl","hue"),parse:kN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yo.transform(uf(e))+", "+yo.transform(uf(n))+", "+uf(qf.transform(r))+")"},Fr={test:t=>Ru.test(t)||l2.test(t)||th.test(t),parse:t=>Ru.test(t)?Ru.parse(t):th.test(t)?th.parse(t):l2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ru.transform(t):th.transform(t)},k7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(k7))===null||n===void 0?void 0:n.length)||0)>0}const CN="number",PN="color",P7="var",L7="var(",y4="${}",R7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $f(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(R7,l=>(Fr.test(l)?(r.color.push(s),i.push(PN),n.push(Fr.parse(l))):l.startsWith(L7)?(r.var.push(s),i.push(P7),n.push(l)):(r.number.push(s),i.push(CN),n.push(parseFloat(l))),++s,y4)).split(y4);return{values:n,split:a,indexes:r,types:i}}function LN(t){return $f(t).values}function RN(t){const{split:e,types:n}=$f(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===CN?s+=uf(i[o]):a===PN?s+=Fr.transform(i[o]):s+=i[o]}return s}}const D7=t=>typeof t=="number"?0:t;function O7(t){const e=LN(t);return RN(t)(e.map(D7))}const Ll={test:C7,parse:LN,createTransformer:RN,getAnimatableNone:O7},j7=new Set(["brightness","contrast","saturate","opacity"]);function M7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bw)||[];if(!r)return t;const i=n.replace(r,"");let s=j7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const F7=/\b([a-z-]*)\(.*?\)/gu,u2={...Ll,getAnimatableNone:t=>{const e=t.match(F7);return e?e.map(M7).join(" "):t}},V7={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,backgroundPositionX:dt,backgroundPositionY:dt},B7={rotate:Za,rotateX:Za,rotateY:Za,rotateZ:Za,scale:vm,scaleX:vm,scaleY:vm,scaleZ:vm,skew:Za,skewX:Za,skewY:Za,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:qf,originX:d4,originY:d4,originZ:dt},v4={...Xh,transform:Math.round},Sw={...V7,...B7,zIndex:v4,size:dt,fillOpacity:qf,strokeOpacity:qf,numOctaves:v4},U7={...Sw,color:Fr,backgroundColor:Fr,outlineColor:Fr,fill:Fr,stroke:Fr,borderColor:Fr,borderTopColor:Fr,borderRightColor:Fr,borderBottomColor:Fr,borderLeftColor:Fr,filter:u2,WebkitFilter:u2},Ew=t=>U7[t];function DN(t,e){let n=Ew(t);return n!==u2&&(n=Ll),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const z7=new Set(["auto","none","0"]);function q7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!z7.has(s)&&$f(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=DN(n,i)}class ON extends xw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),ww(u))){const c=EN(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!w7.has(r)||e.length!==2)return;const[i,s]=e,o=g4(i),a=g4(s);if(o!==a)if(f4(o)&&f4(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)d7(e[i])&&r.push(i);r.length&&q7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Lh[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Aw(t){return typeof t=="function"}let Wm;function $7(){Wm=void 0}const vo={now:()=>(Wm===void 0&&vo.set(wr.isProcessing||s7.useManualTiming?wr.timestamp:performance.now()),Wm),set:t=>{Wm=t,queueMicrotask($7)}},w4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ll.test(t)||t==="0")&&!t.startsWith("url("));function H7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function W7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=w4(i,e),a=w4(s,e);return!o||!a?!1:H7(t)||(n==="spring"||Aw(n))&&r}const G7=40;class jN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vo.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>G7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&E7(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=vo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!W7(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(F0(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function MN(t,e){return e?t*(1e3/e):0}const K7=5;function FN(t,e,n){const r=Math.max(e-K7,0);return MN(n-t(r),e-r)}const yy=.001,Y7=.01,Q7=10,X7=.05,J7=1;function Z7({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Pl(X7,J7,o),t=Pl(Y7,Q7,ea(t)),o<1?(i=u=>{const c=u*o,d=c*t,m=c-n,p=c2(u,o),_=Math.exp(-d);return yy-m/p*_},s=u=>{const d=u*o*t,m=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,_=Math.exp(-d),b=c2(Math.pow(u,2),o);return(-i(u)+yy>0?-1:1)*((m-p)*_)/b}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-yy+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=tj(i,s,a);if(t=Zo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const ej=12;function tj(t,e,n){let r=n;for(let i=1;i<ej;i++)r=r-t(r)/e(r);return r}function c2(t,e){return t*Math.sqrt(1-e*e)}const nj=["duration","bounce"],rj=["stiffness","damping","mass"];function x4(t,e){return e.some(n=>t[n]!==void 0)}function ij(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!x4(t,rj)&&x4(t,nj)){const n=Z7(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function VN({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:m}=ij({...r,velocity:-ea(r.velocity||0)}),p=d||0,_=l/(2*Math.sqrt(a*u)),b=s-i,I=ea(Math.sqrt(a/u)),w=Math.abs(b)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let S;if(_<1){const A=c2(I,_);S=B=>{const K=Math.exp(-_*I*B);return s-K*((p+_*I*b)/A*Math.sin(A*B)+b*Math.cos(A*B))}}else if(_===1)S=A=>s-Math.exp(-I*A)*(b+(p+I*b)*A);else{const A=I*Math.sqrt(_*_-1);S=B=>{const K=Math.exp(-_*I*B),W=Math.min(A*B,300);return s-K*((p+_*I*b)*Math.sinh(W)+A*b*Math.cosh(W))/A}}return{calculatedDuration:m&&c||null,next:A=>{const B=S(A);if(m)o.done=A>=c;else{let K=0;_<1&&(K=A===0?Zo(p):FN(S,A,B));const W=Math.abs(K)<=n,j=Math.abs(s-B)<=e;o.done=W&&j}return o.value=o.done?s:B,o}}}function b4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],m={done:!1,value:d},p=N=>a!==void 0&&N<a||l!==void 0&&N>l,_=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let b=n*e;const I=d+b,w=o===void 0?I:o(I);w!==I&&(b=w-d);const S=N=>-b*Math.exp(-N/r),A=N=>w+S(N),B=N=>{const R=S(N),M=A(N);m.done=Math.abs(R)<=u,m.value=m.done?w:M};let K,W;const j=N=>{p(m.value)&&(K=N,W=VN({keyframes:[m.value,_(m.value)],velocity:FN(A,N,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return j(0),{calculatedDuration:null,next:N=>{let R=!1;return!W&&K===void 0&&(R=!0,B(N),j(N)),K!==void 0&&N>=K?W.next(N-K):(!R&&B(N),m)}}}const sj=pp(.42,0,1,1),oj=pp(0,0,.58,1),BN=pp(.42,0,.58,1),aj=t=>Array.isArray(t)&&typeof t[0]!="number",Tw=t=>Array.isArray(t)&&typeof t[0]=="number",_4={linear:Hr,easeIn:sj,easeInOut:BN,easeOut:oj,circIn:vw,circInOut:wN,circOut:vN,backIn:yw,backInOut:gN,backOut:mN,anticipate:yN},S4=t=>{if(Tw(t)){s2(t.length===4);const[e,n,r,i]=t;return pp(e,n,r,i)}else if(typeof t=="string")return s2(_4[t]!==void 0),_4[t];return t},lj=(t,e)=>n=>e(t(n)),ta=(...t)=>t.reduce(lj),Rh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Sn=(t,e,n)=>t+(e-t)*n;function vy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=vy(l,a,t+1/3),s=vy(l,a,t),o=vy(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Bg(t,e){return n=>n>0?e:t}const wy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},cj=[l2,Ru,th],hj=t=>cj.find(e=>e.test(t));function E4(t){const e=hj(t);if(!e)return!1;let n=e.parse(t);return e===th&&(n=uj(n)),n}const A4=(t,e)=>{const n=E4(t),r=E4(e);if(!n||!r)return Bg(t,e);const i={...n};return s=>(i.red=wy(n.red,r.red,s),i.green=wy(n.green,r.green,s),i.blue=wy(n.blue,r.blue,s),i.alpha=Sn(n.alpha,r.alpha,s),Ru.transform(i))},h2=new Set(["none","hidden"]);function dj(t,e){return h2.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fj(t,e){return n=>Sn(t,e,n)}function Iw(t){return typeof t=="number"?fj:typeof t=="string"?ww(t)?Bg:Fr.test(t)?A4:gj:Array.isArray(t)?UN:typeof t=="object"?Fr.test(t)?A4:pj:Bg}function UN(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Iw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function pj(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Iw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function mj(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const gj=(t,e)=>{const n=Ll.createTransformer(e),r=$f(t),i=$f(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?h2.has(t)&&!i.values.length||h2.has(e)&&!r.values.length?dj(t,e):ta(UN(mj(r,i),i.values),n):Bg(t,e)};function zN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Sn(t,e,n):Iw(t)(t,e)}function yj(t,e,n){const r=[],i=n||zN,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Hr:e;a=ta(l,a)}r.push(a)}return r}function vj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(s2(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yj(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Rh(t[c],t[c+1],u);return o[c](d)};return n?u=>l(Pl(t[0],t[s-1],u)):l}function wj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Rh(0,e,r);t.push(Sn(n,1,i))}}function xj(t){const e=[0];return wj(e,t.length-1),e}function bj(t,e){return t.map(n=>n*e)}function _j(t,e){return t.map(()=>e||BN).splice(0,t.length-1)}function Ug({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=aj(r)?r.map(S4):S4(r),s={done:!1,value:e[0]},o=bj(n&&n.length===e.length?n:xj(e),t),a=vj(o,e,{ease:Array.isArray(i)?i:_j(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const T4=2e4;function Sj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<T4;)e+=n,r=t.next(e);return e>=T4?1/0:e}const Ej=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rn.update(e,!0),stop:()=>Cl(e),now:()=>wr.isProcessing?wr.timestamp:vo.now()}},Aj={decay:b4,inertia:b4,tween:Ug,keyframes:Ug,spring:VN},Tj=t=>t/100;class Nw extends jN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||xw,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Aw(n)?n:Aj[n]||Ug;let l,u;a!==Ug&&typeof e[0]!="number"&&(l=ta(Tj,zN(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Sj(c));const{calculatedDuration:d}=c,m=d+i,p=m*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:p,repeatType:_,repeatDelay:b,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),S=this.speed>=0?w<0:w>c;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let A=this.currentTime,B=s;if(p){const N=Math.min(this.currentTime,c)/d;let R=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(_==="reverse"?(M=1-M,b&&(M-=b/d)):_==="mirror"&&(B=o)),A=Pl(0,1,M)*d}const K=S?{done:!1,value:l[0]}:B.next(A);a&&(K.value=a(K.value));let{done:W}=K;!S&&u!==null&&(W=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return j&&i!==void 0&&(K.value=F0(l,this.options,i)),I&&I(K.value),j&&this.finish(),K}get duration(){const{resolved:e}=this;return e?ea(e.calculatedDuration):0}get time(){return ea(this.currentTime)}set time(e){e=Zo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ea(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ej,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ij=new Set(["opacity","clipPath","filter","transform"]),Nj=10,kj=(t,e)=>{let n="";const r=Math.max(Math.round(e/Nj),2);for(let i=0;i<r;i++)n+=t(Rh(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function kw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cj={linearEasing:void 0};function Pj(t,e){const n=kw(t);return()=>{var r;return(r=Cj[e])!==null&&r!==void 0?r:n()}}const zg=Pj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function qN(t){return!!(typeof t=="function"&&zg()||!t||typeof t=="string"&&(t in d2||zg())||Tw(t)||Array.isArray(t)&&t.every(qN))}const Hd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,d2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hd([0,.65,.55,1]),circOut:Hd([.55,0,1,.45]),backIn:Hd([.31,.01,.66,-.59]),backOut:Hd([.33,1.53,.69,.99])};function $N(t,e){if(t)return typeof t=="function"&&zg()?kj(t,e):Tw(t)?Hd(t):Array.isArray(t)?t.map(n=>$N(n,e)||d2.easeOut):d2[t]}function Lj(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=$N(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function I4(t,e){t.timeline=e,t.onfinish=null}const Rj=kw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qg=10,Dj=2e4;function Oj(t){return Aw(t.type)||t.type==="spring"||!qN(t.ease)}function jj(t,e){const n=new Nw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Dj;)r=n.sample(s),i.push(r.value),s+=qg;return{times:void 0,keyframes:i,duration:s-qg,ease:"linear"}}const HN={anticipate:yN,backInOut:gN,circInOut:wN};function Mj(t){return t in HN}class N4 extends jN{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new ON(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&zg()&&Mj(o)&&(o=HN[o]),Oj(this.options)){const{onComplete:m,onUpdate:p,motionValue:_,element:b,...I}=this.options,w=jj(e,I);e=w.keyframes,e.length===1&&(e[1]=e[0]),i=w.duration,s=w.times,o=w.ease,a="keyframes"}const d=Lj(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(I4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:m}=this.options;l.set(F0(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ea(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ea(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Hr;const{animation:r}=n;I4(r,e)}return Hr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:m,...p}=this.options,_=new Nw({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=Zo(this.time);u.setWithVelocity(_.sample(b-qg).value,_.sample(b).value,qg)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Rj()&&r&&Ij.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Fj=kw(()=>window.ScrollTimeline!==void 0);class Vj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Fj()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Bj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Cw=(t,e,n,r={},i,s)=>o=>{const a=gw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Zo(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Bj(a)||(c={...c,...i7(t,c)}),c.duration&&(c.duration=Zo(c.duration)),c.repeatDelay&&(c.repeatDelay=Zo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const m=F0(c.keyframes,a);if(m!==void 0)return rn.update(()=>{c.onUpdate(m),c.onComplete()}),new Vj([])}return!s&&N4.supports(c)?new N4(c):new Nw(c)},Uj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),zj=t=>i2(t)?t[t.length-1]||0:t;function Pw(t,e){t.indexOf(e)===-1&&t.push(e)}function Lw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Rw{constructor(){this.subscriptions=[]}add(e){return Pw(this.subscriptions,e),()=>Lw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const k4=30,qj=t=>!isNaN(parseFloat(t));class $j{constructor(e,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=vo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rw);const r=this.events[e].add(n);return e==="change"?()=>{r(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k4);return MN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hf(t,e){return new $j(t,e)}function Hj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hf(n))}function Wj(t,e){const n=M0(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=zj(s[o]);Hj(t,o,a)}}const Dw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gj="framerAppearId",WN="data-"+Dw(Gj);function GN(t){return t.props[WN]}const $r=t=>!!(t&&t.getVelocity);function Kj(t){return!!($r(t)&&t.add)}function f2(t,e){const n=t.getValue("willChange");if(Kj(n))return n.add(e)}function Yj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function KN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const m=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),p=l[d];if(p===void 0||c&&Yj(c,d))continue;const _={delay:n,...gw(o||{},d)};let b=!1;if(window.MotionHandoffAnimation){const w=GN(t);if(w){const S=window.MotionHandoffAnimation(w,d,rn);S!==null&&(_.startTime=S,b=!0)}}f2(t,d),m.start(Cw(d,m,p,t.shouldReduceMotion&&tc.has(d)?{type:!1}:_,t,b));const I=m.animation;I&&u.push(I)}return a&&Promise.all(u).then(()=>{rn.update(()=>{a&&Wj(t,a)})}),u}function p2(t,e,n={}){var r;const i=M0(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(KN(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:m}=s;return Qj(t,e,c+u,d,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function Qj(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Xj).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(p2(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Xj(t,e){return t.sortNodePosition(e)}function Jj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>p2(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=p2(t,e,n);else{const i=typeof e=="function"?M0(t,e,n.custom):e;r=Promise.all(KN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Zj=mw.length;function YN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?YN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zj;n++){const r=mw[n],i=t.props[r];(zf(i)||i===!1)&&(e[r]=i)}return e}const eM=[...pw].reverse(),tM=pw.length;function nM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jj(t,n,r)))}function rM(t){let e=nM(t),n=C4(),r=!0;const i=l=>(u,c)=>{var d;const m=M0(t,c,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(m){const{transition:p,transitionEnd:_,...b}=m;u={...u,...b,..._}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=YN(t.parent)||{},d=[],m=new Set;let p={},_=1/0;for(let I=0;I<tM;I++){const w=eM[I],S=n[w],A=u[w]!==void 0?u[w]:c[w],B=zf(A),K=w===l?S.isActive:null;K===!1&&(_=I);let W=A===c[w]&&A!==u[w]&&B;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),S.protectedKeys={...p},!S.isActive&&K===null||!A&&!S.prevProp||j0(A)||typeof A=="boolean")continue;const j=iM(S.prevProp,A);let N=j||w===l&&S.isActive&&!W&&B||I>_&&B,R=!1;const M=Array.isArray(A)?A:[A];let T=M.reduce(i(w),{});K===!1&&(T={});const{prevResolvedValues:C={}}=S,D={...C,...T},X=ae=>{N=!0,m.has(ae)&&(R=!0,m.delete(ae)),S.needsAnimating[ae]=!0;const Z=t.getValue(ae);Z&&(Z.liveStyle=!1)};for(const ae in D){const Z=T[ae],le=C[ae];if(p.hasOwnProperty(ae))continue;let z=!1;i2(Z)&&i2(le)?z=!cN(Z,le):z=Z!==le,z?Z!=null?X(ae):m.add(ae):Z!==void 0&&m.has(ae)?X(ae):S.protectedKeys[ae]=!0}S.prevProp=A,S.prevResolvedValues=T,S.isActive&&(p={...p,...T}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(W&&j)||R)&&d.push(...M.map(ae=>({animation:ae,options:{type:w}})))}if(m.size){const I={};m.forEach(w=>{const S=t.getBaseTarget(w),A=t.getValue(w);A&&(A.liveStyle=!0),I[w]=S??null}),d.push({animation:I})}let b=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=C4(),r=!0}}}function iM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cN(e,t):!1}function xu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C4(){return{animate:xu(!0),whileInView:xu(),whileHover:xu(),whileTap:xu(),whileDrag:xu(),whileFocus:xu(),exit:xu()}}class Wl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sM extends Wl{constructor(e){super(e),e.animationState||(e.animationState=rM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();j0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oM=0;class aM extends Wl{constructor(){super(...arguments),this.id=oM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lM={animation:{Feature:sM},exit:{Feature:aM}},QN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function V0(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const uM=t=>e=>QN(e)&&t(e,V0(e));function Yo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function na(t,e,n,r){return Yo(t,e,uM(n),r)}const P4=(t,e)=>Math.abs(t-e);function cM(t,e){const n=P4(t.x,e.x),r=P4(t.y,e.y);return Math.sqrt(n**2+r**2)}class XN{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=by(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=cM(d.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:_}=d,{timestamp:b}=wr;this.history.push({..._,timestamp:b});const{onStart:I,onMove:w}=this.handlers;m||(I&&I(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=xy(m,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:p,onSessionEnd:_,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=by(d.type==="pointercancel"?this.lastMoveEventInfo:xy(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,I),_&&_(d,I)},!QN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=V0(e),a=xy(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=wr;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,by(a,this.history)),this.removeListeners=ta(na(this.contextWindow,"pointermove",this.handlePointerMove),na(this.contextWindow,"pointerup",this.handlePointerUp),na(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cl(this.updatePoint)}}function xy(t,e){return e?{point:e(t.point)}:t}function L4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function by({point:t},e){return{point:t,delta:L4(t,JN(e)),offset:L4(t,hM(e)),velocity:dM(e,.1)}}function hM(t){return t[0]}function JN(t){return t[t.length-1]}function dM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=JN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Zo(e)));)n--;if(!r)return{x:0,y:0};const s=ea(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ZN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const R4=ZN("dragHorizontal"),D4=ZN("dragVertical");function ek(t){let e=!1;if(t==="y")e=D4();else if(t==="x")e=R4();else{const n=R4(),r=D4();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function tk(){const t=ek(!0);return t?(t(),!1):!0}function nh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const nk=1e-4,fM=1-nk,pM=1+nk,rk=.01,mM=0-rk,gM=0+rk;function qi(t){return t.max-t.min}function yM(t,e,n){return Math.abs(t-e)<=n}function O4(t,e,n,r=.5){t.origin=r,t.originPoint=Sn(e.min,e.max,t.origin),t.scale=qi(n)/qi(e),t.translate=Sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=fM&&t.scale<=pM||isNaN(t.scale))&&(t.scale=1),(t.translate>=mM&&t.translate<=gM||isNaN(t.translate))&&(t.translate=0)}function cf(t,e,n,r){O4(t.x,e.x,n.x,r?r.originX:void 0),O4(t.y,e.y,n.y,r?r.originY:void 0)}function j4(t,e,n){t.min=n.min+e.min,t.max=t.min+qi(e)}function vM(t,e,n){j4(t.x,e.x,n.x),j4(t.y,e.y,n.y)}function M4(t,e,n){t.min=e.min-n.min,t.max=t.min+qi(e)}function hf(t,e,n){M4(t.x,e.x,n.x),M4(t.y,e.y,n.y)}function wM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Sn(n,t,r.max):Math.min(t,n)),t}function F4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xM(t,{top:e,left:n,bottom:r,right:i}){return{x:F4(t.x,n,i),y:F4(t.y,e,r)}}function V4(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bM(t,e){return{x:V4(t.x,e.x),y:V4(t.y,e.y)}}function _M(t,e){let n=.5;const r=qi(t),i=qi(e);return i>r?n=Rh(e.min,e.max-r,t.min):r>i&&(n=Rh(t.min,t.max-i,e.min)),Pl(0,1,n)}function SM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const m2=.35;function EM(t=m2){return t===!1?t=0:t===!0&&(t=m2),{x:B4(t,"left","right"),y:B4(t,"top","bottom")}}function B4(t,e,n){return{min:U4(t,e),max:U4(t,n)}}function U4(t,e){return typeof t=="number"?t:t[e]||0}const z4=()=>({translate:0,scale:1,origin:0,originPoint:0}),rh=()=>({x:z4(),y:z4()}),q4=()=>({min:0,max:0}),jn=()=>({x:q4(),y:q4()});function is(t){return[t("x"),t("y")]}function ik({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _y(t){return t===void 0||t===1}function g2({scale:t,scaleX:e,scaleY:n}){return!_y(t)||!_y(e)||!_y(n)}function Su(t){return g2(t)||sk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sk(t){return $4(t.x)||$4(t.y)}function $4(t){return t&&t!=="0%"}function $g(t,e,n){const r=t-n,i=e*r;return n+i}function H4(t,e,n,r,i){return i!==void 0&&(t=$g(t,i,r)),$g(t,n,r)+e}function y2(t,e=0,n=1,r,i){t.min=H4(t.min,e,n,r,i),t.max=H4(t.max,e,n,r,i)}function ok(t,{x:e,y:n}){y2(t.x,e.translate,e.scale,e.originPoint),y2(t.y,n.translate,n.scale,n.originPoint)}const W4=.999999999999,G4=1.0000000000001;function IM(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&sh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ok(t,o)),r&&Su(s.latestValues)&&sh(t,s.latestValues))}e.x<G4&&e.x>W4&&(e.x=1),e.y<G4&&e.y>W4&&(e.y=1)}function ih(t,e){t.min=t.min+e,t.max=t.max+e}function K4(t,e,n,r,i=.5){const s=Sn(t.min,t.max,i);y2(t,e,n,s,r)}function sh(t,e){K4(t.x,e.x,e.scaleX,e.scale,e.originX),K4(t.y,e.y,e.scaleY,e.scale,e.originY)}function ak(t,e){return ik(TM(t.getBoundingClientRect(),e))}function NM(t,e,n){const r=ak(t,n),{scroll:i}=e;return i&&(ih(r.x,i.offset.x),ih(r.y,i.offset.y)),r}const lk=({current:t})=>t?t.ownerDocument.defaultView:null,kM=new WeakMap;class CM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(V0(c,"page").point)},s=(c,d)=>{const{drag:m,dragPropagation:p,onDragStart:_}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ek(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(I=>{let w=this.getAxisMotionValue(I).get()||0;if(yo.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[I];A&&(w=qi(A)*(parseFloat(w)/100))}}this.originPoint[I]=w}),_&&rn.postRender(()=>_(c,d)),f2(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:_,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:I}=d;if(p&&this.currentDirection===null){this.currentDirection=PM(I),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",d.point,I),this.updateAxis("y",d.point,I),this.visualElement.render(),b&&b(c,d)},a=(c,d)=>this.stop(c,d),l=()=>is(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new XN(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:lk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&rn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=wM(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&nh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=xM(i.layoutBox,n):this.constraints=!1,this.elastic=EM(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&is(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SM(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=NM(r,i.root,this.visualElement.getTransformPagePoint());let o=bM(i.layout.layoutBox,s);if(n){const a=n(AM(o));this.hasMutatedConstraints=!!a,a&&(o=ik(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=is(c=>{if(!wm(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,_={type:"inertia",velocity:r?e[c]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,_)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return f2(this.visualElement,e),r.start(Cw(e,r,0,n,this.visualElement,!1))}stopAnimation(){is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){is(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){is(n=>{const{drag:r}=this.getProps();if(!wm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Sn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};is(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=_M({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),is(o=>{if(!wm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Sn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;kM.set(this.visualElement,this);const e=this.visualElement.current,n=na(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();nh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rn.read(r);const o=Yo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(is(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=m2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function wm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LM extends Wl{constructor(e){super(e),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new CM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y4=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class RM extends Wl{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(e){this.session=new XN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Y4(e),onStart:Y4(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=na(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const B0=ne.createContext(null);function DM(){const t=ne.useContext(B0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=ne.useId();ne.useEffect(()=>r(i),[]);const s=ne.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const Ow=ne.createContext({}),uk=ne.createContext({}),Gm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(dt.test(t))t=parseFloat(t);else return t;const n=Q4(t,e.target.x),r=Q4(t,e.target.y);return`${n}% ${r}%`}},OM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ll.parse(t);if(i.length>5)return r;const s=Ll.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Sn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Hg={};function jM(t){Object.assign(Hg,t)}const{schedule:jw,cancel:Pee}=hN(queueMicrotask,!1);class MM extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;jM(FM),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Gm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ck(t){const[e,n]=DM(),r=ne.useContext(Ow);return v.jsx(MM,{...t,layoutGroup:r,switchLayoutGroup:ne.useContext(uk),isPresent:e,safeToRemove:n})}const FM={borderRadius:{...Dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dd,borderTopRightRadius:Dd,borderBottomLeftRadius:Dd,borderBottomRightRadius:Dd,boxShadow:OM},hk=["TopLeft","TopRight","BottomLeft","BottomRight"],VM=hk.length,X4=t=>typeof t=="string"?parseFloat(t):t,J4=t=>typeof t=="number"||dt.test(t);function BM(t,e,n,r,i,s){i?(t.opacity=Sn(0,n.opacity!==void 0?n.opacity:1,UM(r)),t.opacityExit=Sn(e.opacity!==void 0?e.opacity:1,0,zM(r))):s&&(t.opacity=Sn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<VM;o++){const a=`border${hk[o]}Radius`;let l=Z4(e,a),u=Z4(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||J4(l)===J4(u)?(t[a]=Math.max(Sn(X4(l),X4(u),r),0),(yo.test(u)||yo.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Sn(e.rotate||0,n.rotate||0,r))}function Z4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UM=dk(0,.5,vN),zM=dk(.5,.95,Hr);function dk(t,e,n){return r=>r<t?0:r>e?1:n(Rh(t,e,r))}function eS(t,e){t.min=e.min,t.max=e.max}function ns(t,e){eS(t.x,e.x),eS(t.y,e.y)}function tS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nS(t,e,n,r,i){return t-=e,t=$g(t,1/n,r),i!==void 0&&(t=$g(t,1/i,r)),t}function qM(t,e=0,n=1,r=.5,i,s=t,o=t){if(yo.test(e)&&(e=parseFloat(e),e=Sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Sn(s.min,s.max,r);t===s&&(a-=e),t.min=nS(t.min,e,n,a,i),t.max=nS(t.max,e,n,a,i)}function rS(t,e,[n,r,i],s,o){qM(t,e[n],e[r],e[i],e.scale,s,o)}const $M=["x","scaleX","originX"],HM=["y","scaleY","originY"];function iS(t,e,n,r){rS(t.x,e,$M,n?n.x:void 0,r?r.x:void 0),rS(t.y,e,HM,n?n.y:void 0,r?r.y:void 0)}function sS(t){return t.translate===0&&t.scale===1}function fk(t){return sS(t.x)&&sS(t.y)}function oS(t,e){return t.min===e.min&&t.max===e.max}function WM(t,e){return oS(t.x,e.x)&&oS(t.y,e.y)}function aS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pk(t,e){return aS(t.x,e.x)&&aS(t.y,e.y)}function lS(t){return qi(t.x)/qi(t.y)}function uS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class GM{constructor(){this.members=[]}add(e){Pw(this.members,e),e.scheduleRender()}remove(e){if(Lw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KM(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:m,skewX:p,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const YM=(t,e)=>t.depth-e.depth;class QM{constructor(){this.children=[],this.isDirty=!1}add(e){Pw(this.children,e),this.isDirty=!0}remove(e){Lw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YM),this.isDirty=!1,this.children.forEach(e)}}function Km(t){const e=$r(t)?t.get():t;return Uj(e)?e.toValue():e}function XM(t,e){const n=vo.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Cl(r),t(s-e))};return rn.read(r,!0),()=>Cl(r)}function JM(t){return t instanceof SVGElement&&t.tagName!=="svg"}function ZM(t,e,n){const r=$r(t)?t:Hf(t);return r.start(Cw("",r,e,n)),r.animation}const Eu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wd=typeof window<"u"&&window.MotionDebug!==void 0,Sy=["","X","Y","Z"],e9={visibility:"hidden"},cS=1e3;let t9=0;function Ey(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=GN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mk(r)}function gk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=t9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wd&&(Eu.totalNodes=Eu.resolvedTargetDeltas=Eu.recalculatedProjection=0),this.nodes.forEach(i9),this.nodes.forEach(u9),this.nodes.forEach(c9),this.nodes.forEach(s9),Wd&&window.MotionDebug.record(Eu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JM(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=XM(m,250),Gm.hasAnimatedSinceResize&&(Gm.hasAnimatedSinceResize=!1,this.nodes.forEach(dS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||m9,{onLayoutAnimationStart:I,onLayoutAnimationComplete:w}=c.getProps(),S=!this.targetLayout||!pk(this.targetLayout,_)||p,A=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,A);const B={...gw(b,"layout"),onPlay:I,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else m||dS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hS);return}this.isUpdating||this.nodes.forEach(a9),this.isUpdating=!1,this.nodes.forEach(l9),this.nodes.forEach(n9),this.nodes.forEach(r9),this.clearAllSnapshots();const a=vo.now();wr.delta=Pl(0,1e3/60,a-wr.timestamp),wr.timestamp=a,wr.isProcessing=!0,my.update.process(wr),my.preRender.process(wr),my.render.process(wr),wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o9),this.sharedNodes.forEach(d9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fk(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Su(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),g9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return jn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(y9))){const{scroll:c}=this.root;c&&(ih(l.x,c.offset.x),ih(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=jn();if(ns(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:m}=c;c!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&ns(l,o),ih(l.x,d.offset.x),ih(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=jn();ns(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&sh(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Su(c.latestValues)&&sh(l,c.latestValues)}return Su(this.latestValues)&&sh(l,this.latestValues),l}removeTransform(o){const a=jn();ns(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Su(u.latestValues))continue;g2(u.latestValues)&&u.updateSnapshot();const c=jn(),d=u.measurePageBox();ns(c,d),iS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Su(this.latestValues)&&iS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=wr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),hf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),ok(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),hf(this.relativeTargetOrigin,this.target,p.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wd&&Eu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||g2(this.parent.latestValues)||sk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===wr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ns(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;IM(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=jn());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tS(this.prevProjectionDelta.x,this.projectionDelta.x),tS(this.prevProjectionDelta.y,this.projectionDelta.y)),cf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!uS(this.projectionDelta.x,this.prevProjectionDelta.x)||!uS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Wd&&Eu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rh(),this.projectionDelta=rh(),this.projectionDeltaWithTransform=rh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=rh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=jn(),p=l?l.source:void 0,_=this.layout?this.layout.source:void 0,b=p!==_,I=this.getStack(),w=!I||I.members.length<=1,S=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(p9));this.animationProgress=0;let A;this.mixTargetDelta=B=>{const K=B/1e3;fS(d.x,o.x,K),fS(d.y,o.y,K),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f9(this.relativeTarget,this.relativeTargetOrigin,m,K),A&&WM(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=jn()),ns(A,this.relativeTarget)),b&&(this.animationValues=c,BM(c,u,this.latestValues,K,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Gm.hasAnimatedSinceResize=!0,this.currentAnimation=ZM(0,cS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&yk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||jn();const d=qi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=qi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}ns(a,l),sh(a,c),cf(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GM),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Ey("z",o,u,this.animationValues);for(let c=0;c<Sy.length;c++)Ey(`rotate${Sy[c]}`,o,u,this.animationValues),Ey(`skew${Sy[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e9;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Km(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Km(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Su(this.latestValues)&&(b.transform=c?c({},""):"none",this.hasProjected=!1),b}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=KM(this.projectionDeltaWithTransform,this.treeScale,m),c&&(u.transform=c(m,u.transform));const{x:p,y:_}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${_.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Hg){if(m[b]===void 0)continue;const{correct:I,applyTo:w}=Hg[b],S=u.transform==="none"?m[b]:I(m[b],d);if(w){const A=w.length;for(let B=0;B<A;B++)u[w[B]]=S}else u[b]=S}return this.options.layoutId&&(u.pointerEvents=d===this?Km(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hS),this.root.sharedNodes.clear()}}}function n9(t){t.updateLayout()}function r9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?is(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],p=qi(m);m.min=r[d].min,m.max=m.min+p}):yk(s,n.layoutBox,r)&&is(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],p=qi(r[d]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=rh();cf(a,r,n.layoutBox);const l=rh();o?cf(l,t.applyTransform(i,!0),n.measuredBox):cf(l,r,n.layoutBox);const u=!fk(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:p}=d;if(m&&p){const _=jn();hf(_,n.layoutBox,m.layoutBox);const b=jn();hf(b,r,p.layoutBox),pk(_,b)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=_,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function i9(t){Wd&&Eu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o9(t){t.clearSnapshot()}function hS(t){t.clearMeasurements()}function a9(t){t.isLayoutDirty=!1}function l9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u9(t){t.resolveTargetDelta()}function c9(t){t.calcProjection()}function h9(t){t.resetSkewAndRotation()}function d9(t){t.removeLeadSnapshot()}function fS(t,e,n){t.translate=Sn(e.translate,0,n),t.scale=Sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pS(t,e,n,r){t.min=Sn(e.min,n.min,r),t.max=Sn(e.max,n.max,r)}function f9(t,e,n,r){pS(t.x,e.x,n.x,r),pS(t.y,e.y,n.y,r)}function p9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m9={duration:.45,ease:[.4,0,.1,1]},mS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gS=mS("applewebkit/")&&!mS("chrome/")?Math.round:Hr;function yS(t){t.min=gS(t.min),t.max=gS(t.max)}function g9(t){yS(t.x),yS(t.y)}function yk(t,e,n){return t==="position"||t==="preserve-aspect"&&!yM(lS(e),lS(n),.2)}function y9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const v9=gk({attachResizeListener:(t,e)=>Yo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ay={current:void 0},vk=gk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ay.current){const t=new v9({});t.mount(window),t.setOptions({layoutScroll:!0}),Ay.current=t}return Ay.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w9={pan:{Feature:RM},drag:{Feature:LM,ProjectionNode:vk,MeasureLayout:ck}};function vS(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||tk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&rn.postRender(()=>l(s,o))};return na(t.current,n,i,{passive:!t.getProps()[r]})}class x9 extends Wl{mount(){this.unmount=ta(vS(this.node,!0),vS(this.node,!1))}unmount(){}}class b9 extends Wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ta(Yo(this.node.current,"focus",()=>this.onFocus()),Yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wk=(t,e)=>e?t===e?!0:wk(t,e.parentElement):!1;function Ty(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,V0(n))}class _9 extends Wl{constructor(){super(...arguments),this.removeStartListeners=Hr,this.removeEndListeners=Hr,this.removeAccessibleListeners=Hr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=na(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),m=!d&&!wk(this.node.current,a.target)?c:u;m&&rn.update(()=>m(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=na(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ta(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ty("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&rn.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Yo(this.node.current,"keyup",o),Ty("down",(a,l)=>{this.startPress(a,l)})},n=Yo(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ty("cancel",(s,o)=>this.cancelPress(s,o))},i=Yo(this.node.current,"blur",r);this.removeAccessibleListeners=ta(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&rn.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&rn.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=na(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Yo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ta(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const v2=new WeakMap,Iy=new WeakMap,S9=t=>{const e=v2.get(t.target);e&&e(t)},E9=t=>{t.forEach(S9)};function A9({root:t,...e}){const n=t||document;Iy.has(n)||Iy.set(n,{});const r=Iy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(E9,{root:t,...e})),r[i]}function T9(t,e,n){const r=A9(e);return v2.set(t,n),r.observe(t),()=>{v2.delete(t),r.unobserve(t)}}const I9={some:0,all:1};class N9 extends Wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:I9[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),m=u?c:d;m&&m(l)};return T9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k9(e,n))&&this.startObserver()}unmount(){}}function k9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C9={inView:{Feature:N9},tap:{Feature:_9},focus:{Feature:b9},hover:{Feature:x9}},P9={layout:{ProjectionNode:vk,MeasureLayout:ck}},Mw=ne.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),U0=ne.createContext({}),Fw=typeof window<"u",xk=Fw?ne.useLayoutEffect:ne.useEffect,bk=ne.createContext({strict:!1});function L9(t,e,n,r,i){var s,o;const{visualElement:a}=ne.useContext(U0),l=ne.useContext(bk),u=ne.useContext(B0),c=ne.useContext(Mw).reducedMotion,d=ne.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const m=d.current,p=ne.useContext(uk);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&R9(d.current,n,i,p);const _=ne.useRef(!1);ne.useInsertionEffect(()=>{m&&_.current&&m.update(n,u)});const b=n[WN],I=ne.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return xk(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),jw.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),ne.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,b)}),I.current=!1))}),m}function R9(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_k(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&nh(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function _k(t){if(t)return t.options.allowProjection!==!1?t.projection:_k(t.parent)}function D9(t,e,n){return ne.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):nh(n)&&(n.current=r))},[e])}function z0(t){return j0(t.animate)||mw.some(e=>zf(t[e]))}function Sk(t){return!!(z0(t)||t.variants)}function O9(t,e){if(z0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zf(n)?n:void 0,animate:zf(r)?r:void 0}}return t.inherit!==!1?e:{}}function j9(t){const{initial:e,animate:n}=O9(t,ne.useContext(U0));return ne.useMemo(()=>({initial:e,animate:n}),[wS(e),wS(n)])}function wS(t){return Array.isArray(t)?t.join(" "):t}const xS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dh={};for(const t in xS)Dh[t]={isEnabled:e=>xS[t].some(n=>!!e[n])};function M9(t){for(const e in t)Dh[e]={...Dh[e],...t[e]}}const F9=Symbol.for("motionComponentSymbol");function V9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&M9(t);function s(a,l){let u;const c={...ne.useContext(Mw),...a,layoutId:B9(a)},{isStatic:d}=c,m=j9(a),p=r(a,d);if(!d&&Fw){U9();const _=z9(c);u=_.MeasureLayout,m.visualElement=L9(i,p,c,e,_.ProjectionNode)}return v.jsxs(U0.Provider,{value:m,children:[u&&m.visualElement?v.jsx(u,{visualElement:m.visualElement,...c}):null,n(i,a,D9(p,m.visualElement,l),p,d,m.visualElement)]})}const o=ne.forwardRef(s);return o[F9]=i,o}function B9({layoutId:t}){const e=ne.useContext(Ow).id;return e&&t!==void 0?e+"-"+t:t}function U9(t,e){ne.useContext(bk).strict}function z9(t){const{drag:e,layout:n}=Dh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const q9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vw(t){return typeof t!="string"||t.includes("-")?!1:!!(q9.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ek(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Ak=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tk(t,e,n,r){Ek(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ak.has(i)?i:Dw(i),e.attrs[i])}function Ik(t,{layout:e,layoutId:n}){return tc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hg[t]||t==="opacity")}function Bw(t,e,n){var r;const{style:i}=t,s={};for(const o in i)($r(i[o])||e.style&&$r(e.style[o])||Ik(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Nk(t,e,n){const r=Bw(t,e,n);for(const i in t)if($r(t[i])||$r(e[i])){const s=fp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Uw(t){const e=ne.useRef(null);return e.current===null&&(e.current=t()),e.current}function $9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:H9(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const kk=t=>(e,n)=>{const r=ne.useContext(U0),i=ne.useContext(B0),s=()=>$9(t,e,r,i);return n?s():Uw(s)};function H9(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Km(s[m]);let{initial:o,animate:a}=t;const l=z0(t),u=Sk(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!j0(d)){const m=Array.isArray(d)?d:[d];for(let p=0;p<m.length;p++){const _=fw(t,m[p]);if(_){const{transitionEnd:b,transition:I,...w}=_;for(const S in w){let A=w[S];if(Array.isArray(A)){const B=c?A.length-1:0;A=A[B]}A!==null&&(i[S]=A)}for(const S in b)i[S]=b[S]}}}return i}const zw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ck=()=>({...zw(),attrs:{}}),Pk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,W9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G9=fp.length;function K9(t,e,n){let r="",i=!0;for(let s=0;s<G9;s++){const o=fp[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Pk(a,Sw[o]);if(!l){i=!1;const c=W9[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function qw(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(tc.has(l)){o=!0;continue}else if(SN(l)){i[l]=u;continue}else{const c=Pk(u,Sw[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=K9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}function bS(t,e,n){return typeof t=="string"?t:dt.transform(e+n*t)}function Y9(t,e,n){const r=bS(e,t.x,t.width),i=bS(n,t.y,t.height);return`${r} ${i}`}const Q9={offset:"stroke-dashoffset",array:"stroke-dasharray"},X9={offset:"strokeDashoffset",array:"strokeDasharray"};function J9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Q9:X9;t[s.offset]=dt.transform(-r);const o=dt.transform(e),a=dt.transform(n);t[s.array]=`${o} ${a}`}function $w(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(qw(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:_}=t;m.transform&&(_&&(p.transform=m.transform),delete m.transform),_&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=Y9(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&J9(m,o,a,l,!1)}const Hw=t=>typeof t=="string"&&t.toLowerCase()==="svg",Z9={useVisualState:kk({scrapeMotionValuesFromProps:Nk,createRenderState:Ck,onMount:(t,e,{renderState:n,latestValues:r})=>{rn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),rn.render(()=>{$w(n,r,Hw(e.tagName),t.transformTemplate),Tk(e,n)})}})},eF={useVisualState:kk({scrapeMotionValuesFromProps:Bw,createRenderState:zw})};function Lk(t,e,n){for(const r in e)!$r(e[r])&&!Ik(r,n)&&(t[r]=e[r])}function tF({transformTemplate:t},e){return ne.useMemo(()=>{const n=zw();return qw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nF(t,e){const n=t.style||{},r={};return Lk(r,n,t),Object.assign(r,tF(t,e)),r}function rF(t,e){const n={},r=nF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const iF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iF.has(t)}let Rk=t=>!Wg(t);function sF(t){t&&(Rk=e=>e.startsWith("on")?!Wg(e):t(e))}try{sF(require("@emotion/is-prop-valid").default)}catch{}function oF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Rk(i)||n===!0&&Wg(i)||!e&&!Wg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function aF(t,e,n,r){const i=ne.useMemo(()=>{const s=Ck();return $w(s,e,Hw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Lk(s,t.style,t),i.style={...s,...i.style}}return i}function lF(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Vw(n)?aF:rF)(r,s,o,n),u=oF(r,typeof n=="string",t),c=n!==ne.Fragment?{...u,...l,ref:i}:{},{children:d}=r,m=ne.useMemo(()=>$r(d)?d.get():d,[d]);return ne.createElement(n,{...c,children:m})}}function uF(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Vw(r)?Z9:eF,preloadedFeatures:t,useRender:lF(i),createVisualElement:e,Component:r};return V9(o)}}const w2={current:null},Dk={current:!1};function cF(){if(Dk.current=!0,!!Fw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>w2.current=t.matches;t.addListener(e),e()}else w2.current=!1}function hF(t,e,n){for(const r in e){const i=e[r],s=n[r];if($r(i))t.addValue(r,i);else if($r(s))t.addValue(r,Hf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Hf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const _S=new WeakMap,dF=[...TN,Fr,Ll],fF=t=>dF.find(AN(t)),SS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=vo.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,rn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=z0(n),this.isVariantNode=Sk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const p=d[m];l[m]!==void 0&&$r(p)&&p.set(l[m],!1)}}mount(e){this.current=e,_S.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Dk.current||cF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_S.delete(this.current),this.projection&&this.projection.unmount(),Cl(this.notifyUpdate),Cl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=tc.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dh){const n=Dh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SS.length;r++){const i=SS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=hF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bN(i)||xN(i))?i=parseFloat(i):!fF(i)&&Ll.test(n)&&(i=DN(e,n)),this.setBaseTarget(e,$r(i)?i.get():i)),$r(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=fw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!$r(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ok extends pF{constructor(){super(...arguments),this.KeyframeResolver=ON}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function mF(t){return window.getComputedStyle(t)}class gF extends Ok{constructor(){super(...arguments),this.type="html",this.renderInstance=Ek}readValueFromInstance(e,n){if(tc.has(n)){const r=Ew(n);return r&&r.default||0}else{const r=mF(e),i=(SN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ak(e,n)}build(e,n,r){qw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Bw(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$r(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class yF extends Ok{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(tc.has(n)){const r=Ew(n);return r&&r.default||0}return n=Ak.has(n)?n:Dw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Nk(e,n,r)}build(e,n,r){$w(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Tk(e,n,r,i)}mount(e){this.isSVGTag=Hw(e.tagName),super.mount(e)}}const vF=(t,e)=>Vw(t)?new yF(e):new gF(e,{allowProjection:t!==ne.Fragment}),wF=uF({...lM,...C9,...w9,...P9},vF),ct=ZO(wF);class xF extends ne.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bF({children:t,isPresent:e}){const n=ne.useId(),r=ne.useRef(null),i=ne.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=ne.useContext(Mw);return ne.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),v.jsx(xF,{isPresent:e,childRef:r,sizeRef:i,children:ne.cloneElement(t,{ref:r})})}const _F=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Uw(SF),l=ne.useId(),u=ne.useCallback(d=>{a.set(d,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),c=ne.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),u]:[n,u]);return ne.useMemo(()=>{a.forEach((d,m)=>a.set(m,!1))},[n]),ne.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=v.jsx(bF,{isPresent:n,children:t})),v.jsx(B0.Provider,{value:c,children:t})};function SF(){return new Map}const xm=t=>t.key||"";function ES(t){const e=[];return ne.Children.forEach(t,n=>{ne.isValidElement(n)&&e.push(n)}),e}const jk=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=ne.useMemo(()=>ES(t),[t]),l=a.map(xm),u=ne.useRef(!0),c=ne.useRef(a),d=Uw(()=>new Map),[m,p]=ne.useState(a),[_,b]=ne.useState(a);xk(()=>{u.current=!1,c.current=a;for(let S=0;S<_.length;S++){const A=xm(_[S]);l.includes(A)?d.delete(A):d.get(A)!==!0&&d.set(A,!1)}},[_,l.length,l.join("-")]);const I=[];if(a!==m){let S=[...a];for(let A=0;A<_.length;A++){const B=_[A],K=xm(B);l.includes(K)||(S.splice(A,0,B),I.push(B))}o==="wait"&&I.length&&(S=I),b(ES(S)),p(a);return}const{forceRender:w}=ne.useContext(Ow);return v.jsx(v.Fragment,{children:_.map(S=>{const A=xm(S),B=a===_||l.includes(A),K=()=>{if(d.has(A))d.set(A,!0);else return;let W=!0;d.forEach(j=>{j||(W=!1)}),W&&(w==null||w(),b(c.current),i&&i())};return v.jsx(_F,{isPresent:B,initial:!u.current||r?void 0:!1,custom:B?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:B?void 0:K,children:S},A)})})},EF={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},AS=t=>{let e;const n=new Set,r=(c,d)=>{const m=typeof c=="function"?c(e):c;if(!Object.is(m,e)){const p=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(_=>_(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(EF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},AF=t=>t?AS(t):AS;var Mk={exports:{}},Fk={},Vk={exports:{}},Bk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=ne;function TF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IF=typeof Object.is=="function"?Object.is:TF,NF=Oh.useState,kF=Oh.useEffect,CF=Oh.useLayoutEffect,PF=Oh.useDebugValue;function LF(t,e){var n=e(),r=NF({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return CF(function(){i.value=n,i.getSnapshot=e,Ny(i)&&s({inst:i})},[t,n,e]),kF(function(){return Ny(i)&&s({inst:i}),t(function(){Ny(i)&&s({inst:i})})},[t]),PF(n),n}function Ny(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!IF(t,n)}catch{return!0}}function RF(t,e){return e()}var DF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RF:LF;Bk.useSyncExternalStore=Oh.useSyncExternalStore!==void 0?Oh.useSyncExternalStore:DF;Vk.exports=Bk;var OF=Vk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=ne,jF=OF;function MF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FF=typeof Object.is=="function"?Object.is:MF,VF=jF.useSyncExternalStore,BF=q0.useRef,UF=q0.useEffect,zF=q0.useMemo,qF=q0.useDebugValue;Fk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=BF(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=zF(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var _=o.value;if(i(_,p))return d=_}return d=p}if(_=d,FF(c,p))return _;var b=r(p);return i!==void 0&&i(_,b)?_:(c=p,d=b)}var u=!1,c,d,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=VF(t,s[0],s[1]);return UF(function(){o.hasValue=!0,o.value=a},[a]),qF(a),a};Mk.exports=Fk;var $F=Mk.exports;const HF=v0($F),Ww={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:WF}=Q3,{useSyncExternalStoreWithSelector:GF}=HF;let TS=!1;const KF=t=>t;function YF(t,e=KF,n){(Ww?"production":void 0)!=="production"&&n&&!TS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),TS=!0);const r=GF(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return WF(r),r}const IS=t=>{(Ww?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?AF(t):t,n=(r,i)=>YF(e,r,i);return Object.assign(n,e),n},Uk=t=>t?IS(t):IS;var QF=t=>((Ww?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Uk(t));const Ym=QF(t=>({notifications:[{id:"1",message:"Your appointment with Dr. Smith is confirmed for tomorrow at 3:00 PM.",timestamp:"2024-11-20 10:00 AM",read:!1},{id:"2",message:"New message from your health coach: 'Reminder to complete your daily exercise.'",timestamp:"2024-11-19 09:30 AM",read:!0},{id:"3",message:"Your recent health check results are now available in your profile.",timestamp:"2024-11-18 08:00 PM",read:!1}],markAsRead:e=>t(n=>({notifications:n.notifications.map(r=>r.id===e?{...r,read:!0}:r)})),markAllAsRead:()=>t(e=>({notifications:e.notifications.map(n=>({...n,read:!0}))})),addNotification:e=>t(n=>({notifications:[...n.notifications,e]}))})),XF=()=>{};var NS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(m=64)),r.push(n[c],n[d],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ZF;const m=s<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eV=function(t){const e=zk(t);return qk.encodeByteArray(e,!0)},Gg=function(t){return eV(t).replace(/\./g,"")},$k=function(t){try{return qk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=()=>tV().__FIREBASE_DEFAULTS__,rV=()=>{if(typeof process>"u"||typeof NS>"u")return;const t=NS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$k(t[1]);return e&&JSON.parse(e)},$0=()=>{try{return XF()||nV()||rV()||iV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hk=t=>{var e,n;return(n=(e=$0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sV=t=>{const e=Hk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wk=()=>{var t;return(t=$0())===null||t===void 0?void 0:t.config},Gk=t=>{var e;return(e=$0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(t){return t.endsWith(".cloudworkstations.dev")}async function Kk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gg(JSON.stringify(n)),Gg(JSON.stringify(o)),""].join(".")}const df={};function lV(){const t={prod:[],emulator:[]};for(const e of Object.keys(df))df[e]?t.emulator.push(e):t.prod.push(e);return t}function uV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kS=!1;function Yk(t,e){if(typeof window>"u"||typeof document>"u"||!gp(window.location.host)||df[t]===e||df[t]||kS)return;df[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=lV().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{kS=!0,o()},m}function c(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=uV(r),p=n("text"),_=document.getElementById(p)||document.createElement("span"),b=n("learnmore"),I=document.getElementById(b)||document.createElement("a"),w=n("preprendIcon"),S=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;a(A),c(I,b);const B=u();l(S,w),A.append(S,_,I,B),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gr())}function hV(){var t;const e=(t=$0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mV(){const t=Gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gV(){return!hV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yV(){try{return typeof indexedDB=="object"}catch{return!1}}function vV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="FirebaseError";class ya extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wV,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yp.prototype.create)}}class yp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ya(i,a,r)}}function xV(t,e){return t.replace(bV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bV=/\{\$([^}]+)}/g;function _V(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(CS(s)&&CS(o)){if(!Rl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SV(t,e){const n=new EV(t,e);return n.subscribe.bind(n)}class EV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ky),i.error===void 0&&(i.error=ky),i.complete===void 0&&(i.complete=ky);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ky(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Hu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NV(e))try{this.getOrInitializeService({instanceIdentifier:Au})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Au){return this.instances.has(e)}getOptions(e=Au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Au){return this.component?this.component.multipleInstances?e:Au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IV(t){return t===Au?void 0:t}function NV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const CV={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},PV=Mt.INFO,LV={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},RV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gw{constructor(e){this.name=e,this._logLevel=PV,this._logHandler=RV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const DV=(t,e)=>e.some(n=>t instanceof n);let PS,LS;function OV(){return PS||(PS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jV(){return LS||(LS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qk=new WeakMap,x2=new WeakMap,Xk=new WeakMap,Cy=new WeakMap,Kw=new WeakMap;function MV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_l(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qk.set(n,t)}).catch(()=>{}),Kw.set(e,t),e}function FV(t){if(x2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});x2.set(t,e)}let b2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return x2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _l(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VV(t){b2=t(b2)}function BV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Py(this),e,...n);return Xk.set(r,e.sort?e.sort():[e]),_l(r)}:jV().includes(t)?function(...e){return t.apply(Py(this),e),_l(Qk.get(this))}:function(...e){return _l(t.apply(Py(this),e))}}function UV(t){return typeof t=="function"?BV(t):(t instanceof IDBTransaction&&FV(t),DV(t,OV())?new Proxy(t,b2):t)}function _l(t){if(t instanceof IDBRequest)return MV(t);if(Cy.has(t))return Cy.get(t);const e=UV(t);return e!==t&&(Cy.set(t,e),Kw.set(e,t)),e}const Py=t=>Kw.get(t);function zV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=_l(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_l(o.result),l.oldVersion,l.newVersion,_l(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qV=["get","getKey","getAll","getAllKeys","count"],$V=["put","add","delete","clear"],Ly=new Map;function RS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$V.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ly.set(e,s),s}VV(t=>({...t,get:(e,n,r)=>RS(e,n)||t.get(e,n,r),has:(e,n)=>!!RS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _2="@firebase/app",DS="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Gw("@firebase/app"),GV="@firebase/app-compat",KV="@firebase/analytics-compat",YV="@firebase/analytics",QV="@firebase/app-check-compat",XV="@firebase/app-check",JV="@firebase/auth",ZV="@firebase/auth-compat",eB="@firebase/database",tB="@firebase/data-connect",nB="@firebase/database-compat",rB="@firebase/functions",iB="@firebase/functions-compat",sB="@firebase/installations",oB="@firebase/installations-compat",aB="@firebase/messaging",lB="@firebase/messaging-compat",uB="@firebase/performance",cB="@firebase/performance-compat",hB="@firebase/remote-config",dB="@firebase/remote-config-compat",fB="@firebase/storage",pB="@firebase/storage-compat",mB="@firebase/firestore",gB="@firebase/ai",yB="@firebase/firestore-compat",vB="firebase",wB="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="[DEFAULT]",xB={[_2]:"fire-core",[GV]:"fire-core-compat",[YV]:"fire-analytics",[KV]:"fire-analytics-compat",[XV]:"fire-app-check",[QV]:"fire-app-check-compat",[JV]:"fire-auth",[ZV]:"fire-auth-compat",[eB]:"fire-rtdb",[tB]:"fire-data-connect",[nB]:"fire-rtdb-compat",[rB]:"fire-fn",[iB]:"fire-fn-compat",[sB]:"fire-iid",[oB]:"fire-iid-compat",[aB]:"fire-fcm",[lB]:"fire-fcm-compat",[uB]:"fire-perf",[cB]:"fire-perf-compat",[hB]:"fire-rc",[dB]:"fire-rc-compat",[fB]:"fire-gcs",[pB]:"fire-gcs-compat",[mB]:"fire-fst",[yB]:"fire-fst-compat",[gB]:"fire-vertex","fire-js":"fire-js",[vB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new Map,bB=new Map,E2=new Map;function OS(t,e){try{t.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jh(t){const e=t.name;if(E2.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;E2.set(e,t);for(const n of Kg.values())OS(n,t);for(const n of bB.values())OS(n,t);return!0}function Yw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new yp("app","Firebase",_B);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=wB;function Jk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:S2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Sl.create("bad-app-name",{appName:String(i)});if(n||(n=Wk()),!n)throw Sl.create("no-options");const s=Kg.get(i);if(s){if(Rl(n,s.options)&&Rl(r,s.config))return s;throw Sl.create("duplicate-app",{appName:i})}const o=new kV(i);for(const l of E2.values())o.addComponent(l);const a=new SB(n,r,o);return Kg.set(i,a),a}function Zk(t=S2){const e=Kg.get(t);if(!e&&t===S2&&Wk())return Jk();if(!e)throw Sl.create("no-app",{appName:t});return e}function El(t,e,n){var r;let i=(r=xB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(a.join(" "));return}jh(new Hu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="firebase-heartbeat-database",AB=1,Wf="firebase-heartbeat-store";let Ry=null;function eC(){return Ry||(Ry=zV(EB,AB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sl.create("idb-open",{originalErrorMessage:t.message})})),Ry}async function TB(t){try{const n=(await eC()).transaction(Wf),r=await n.objectStore(Wf).get(tC(t));return await n.done,r}catch(e){if(e instanceof ya)ca.warn(e.message);else{const n=Sl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(n.message)}}}async function jS(t,e){try{const r=(await eC()).transaction(Wf,"readwrite");await r.objectStore(Wf).put(e,tC(t)),await r.done}catch(n){if(n instanceof ya)ca.warn(n.message);else{const r=Sl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ca.warn(r.message)}}}function tC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=1024,NB=30;class kB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>NB){const o=LB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MS(),{heartbeatsToSend:r,unsentEntries:i}=CB(this._heartbeatsCache.heartbeats),s=Gg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ca.warn(n),""}}}function MS(){return new Date().toISOString().substring(0,10)}function CB(t,e=IB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yV()?vV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FS(t){return Gg(JSON.stringify({version:2,heartbeats:t})).length}function LB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){jh(new Hu("platform-logger",e=>new HV(e),"PRIVATE")),jh(new Hu("heartbeat",e=>new kB(e),"PRIVATE")),El(_2,DS,t),El(_2,DS,"esm2017"),El("fire-js","")}RB("");var DB="firebase",OB="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El(DB,OB,"app");function Qw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jB=nC,rC=new yp("auth","Firebase",nC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new Gw("@firebase/auth");function MB(t,...e){Yg.logLevel<=Mt.WARN&&Yg.warn(`Auth (${Jh}): ${t}`,...e)}function Qm(t,...e){Yg.logLevel<=Mt.ERROR&&Yg.error(`Auth (${Jh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,...e){throw Jw(t,...e)}function Ms(t,...e){return Jw(t,...e)}function Xw(t,e,n){const r=Object.assign(Object.assign({},jB()),{[e]:n});return new yp("auth","Firebase",r).create(e,{appName:t.name})}function ra(t){return Xw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ps(t,"argument-error"),Xw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rC.create(t,...e)}function mt(t,e,...n){if(!t)throw Jw(e,...n)}function Qo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qm(e),new Error(e)}function ha(t,e){t||Qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VB(){return VS()==="http:"||VS()==="https:"}function VS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VB()||fV()||"connection"in navigator)?navigator.onLine:!0}function UB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ha(n>e,"Short delay should be less than long delay!"),this.isMobile=cV()||pV()}get(){return BB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){ha(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$B=new wp(3e4,6e4);function Gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kl(t,e,n,r,i={}){return sC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vp(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return dV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&gp(t.emulatorConfig.host)&&(u.credentials="include"),iC.fetch()(await oC(t,t.config.apiHost,n,a),u)})}async function sC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zB),e);try{const i=new WB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bm(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xw(t,c,u);ps(t,c)}}catch(i){if(i instanceof ya)throw i;ps(t,"network-request-failed",{message:String(i)})}}async function xp(t,e,n,r,i={}){const s=await Kl(t,e,n,r,i);return"mfaPendingCredential"in s&&ps(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function oC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Zw(t.config,i):`${t.config.apiScheme}://${i}`;return qB.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function HB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),$B.get())})}}function bm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ms(t,e,r);return i.customData._tokenResponse=n,i}function BS(t){return t!==void 0&&t.enterprise!==void 0}class GB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KB(t,e){return Kl(t,"GET","/v2/recaptchaConfig",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(t,e){return Kl(t,"POST","/v1/accounts:delete",e)}async function Qg(t,e){return Kl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QB(t,e=!1){const n=or(t),r=await n.getIdToken(e),i=ex(r);mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ff(Dy(i.auth_time)),issuedAtTime:ff(Dy(i.iat)),expirationTime:ff(Dy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dy(t){return Number(t)*1e3}function ex(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=$k(n);return i?JSON.parse(i):(Qm("Failed to decode base64 JWT payload"),null)}catch(i){return Qm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function US(t){const e=ex(t);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ya&&XB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ff(this.lastLoginAt),this.creationTime=ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gf(t,Qg(n,{idToken:r}));mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aC(s.providerUserInfo):[],a=eU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new T2(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function ZB(t){const e=or(t);await Xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aC(t){return t.map(e=>{var{providerId:n}=e,r=Qw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e){const n=await sC(t,{},async()=>{const r=vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await oC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nU(t,e){return Kl(t,"POST","/v2/accounts:revokeToken",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):US(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const n=US(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mh;return r&&(mt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(mt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mh,this.toJSON())}_performRefresh(){return Qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e){mt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gf(this,this.stsTokenManager.getToken(this.auth,e));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QB(this,e)}reload(){return ZB(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await Gf(this,YB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,S=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:B,isAnonymous:K,providerData:W,stsTokenManager:j}=n;mt(A&&j,e,"internal-error");const N=mh.fromJSON(this.name,j);mt(typeof A=="string",e,"internal-error"),Ka(d,e.name),Ka(m,e.name),mt(typeof B=="boolean",e,"internal-error"),mt(typeof K=="boolean",e,"internal-error"),Ka(p,e.name),Ka(_,e.name),Ka(b,e.name),Ka(I,e.name),Ka(w,e.name),Ka(S,e.name);const R=new Rs({uid:A,auth:e,email:m,emailVerified:B,displayName:d,isAnonymous:K,photoURL:_,phoneNumber:p,tenantId:b,stsTokenManager:N,createdAt:w,lastLoginAt:S});return W&&Array.isArray(W)&&(R.providerData=W.map(M=>Object.assign({},M))),I&&(R._redirectEventId=I),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new mh;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];mt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?aC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new mh;a.updateFromIdToken(r);const l=new Rs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new Map;function Xo(t){ha(t instanceof Function,"Expected a class definition");let e=zS.get(t);return e?(ha(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lC.type="NONE";const qS=lC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e,n){return`firebase:${t}:${e}:${n}`}class gh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qg(this.auth,{idToken:e}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gh(Xo(qS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xo(qS);const o=Xm(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const m=await Qg(e,{idToken:c}).catch(()=>{});if(!m)break;d=await Rs._fromGetAccountInfoResponse(e,m,c)}else d=Rs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gh(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new gh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pC(e))return"Blackberry";if(mC(e))return"Webos";if(cC(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(fC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uC(t=Gr()){return/firefox\//i.test(t)}function cC(t=Gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=Gr()){return/crios\//i.test(t)}function dC(t=Gr()){return/iemobile/i.test(t)}function fC(t=Gr()){return/android/i.test(t)}function pC(t=Gr()){return/blackberry/i.test(t)}function mC(t=Gr()){return/webos/i.test(t)}function tx(t=Gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rU(t=Gr()){var e;return tx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iU(){return mV()&&document.documentMode===10}function gC(t=Gr()){return tx(t)||fC(t)||mC(t)||pC(t)||/windows phone/i.test(t)||dC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e=[]){let n;switch(t){case"Browser":n=$S(Gr());break;case"Worker":n=`${$S(Gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(t,e={}){return Kl(t,"GET","/v2/passwordPolicy",Gl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=6;class lU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HS(this),this.idTokenSubscription=new HS(this),this.beforeStateQueue=new sU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await gh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qg(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ji(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(ra(this));const n=e?or(e):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oU(this),n=new lU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xo(e)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await gh.create(this,[Xo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yl(t){return or(t)}class HS{constructor(e){this.auth=e,this.observer=null,this.addObserver=SV(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cU(t){H0=t}function vC(t){return H0.loadJS(t)}function hU(){return H0.recaptchaEnterpriseScript}function dU(){return H0.gapiScript}function fU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pU{constructor(){this.enterprise=new mU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gU="recaptcha-enterprise",wC="NO_RECAPTCHA";class yU{constructor(e){this.type=gU,this.auth=Yl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{KB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GB(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;BS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(wC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pU().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&BS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hU();l.length!==0&&(l+=a),vC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function WS(t,e,n,r=!1,i=!1){const s=new yU(t);let o;if(i)o=wC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function I2(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await WS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await WS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e){const n=Yw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rl(s,e??{}))return i;ps(i,"already-initialized")}return n.initialize({options:e})}function wU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xU(t,e,n){const r=Yl(t);mt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=xC(e),{host:o,port:a}=bU(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Rl(u,r.config.emulator)&&Rl(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,gp(o)?(Kk(`${s}//${o}${l}`),Yk("Auth",!0)):_U()}function xC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bU(t){const e=xC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:GS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:GS(o)}}}function GS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _U(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qo("not implemented")}_getIdTokenResponse(e){return Qo("not implemented")}_linkToIdToken(e,n){return Qo("not implemented")}_getReauthenticationResolver(e){return Qo("not implemented")}}async function SU(t,e){return Kl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e){return xp(t,"POST","/v1/accounts:signInWithPassword",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){return xp(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}async function TU(t,e){return xp(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends nx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I2(e,n,"signInWithPassword",EU);case"emailLink":return AU(e,{email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I2(e,r,"signUpPassword",SU);case"emailLink":return TU(e,{idToken:n,email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t,e){return xp(t,"POST","/v1/accounts:signInWithIdp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="http://localhost";class Wu extends nx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yh(e,n)}buildRequest(){const e={requestUri:IU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kU(t){const e=Gd(Kd(t)).link,n=e?Gd(Kd(e)).deep_link_id:null,r=Gd(Kd(t)).deep_link_id;return(r?Gd(Kd(r)).link:null)||r||n||e||t}class rx{constructor(e){var n,r,i,s,o,a;const l=Gd(Kd(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=NU((i=l.mode)!==null&&i!==void 0?i:null);mt(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kU(e);try{return new rx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.providerId=Zh.PROVIDER_ID}static credential(e,n){return Kf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rx.parseLink(n);return mt(r,"argument-error"),Kf._fromEmailAndCode(e,r.code,r.tenantId)}}Zh.PROVIDER_ID="password";Zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends bp{constructor(){super("facebook.com")}static credential(e){return Wu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wu._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com";ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends bp{constructor(){super("github.com")}static credential(e){return Wu._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.GITHUB_SIGN_IN_METHOD="github.com";ol.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends bp{constructor(){super("twitter.com")}static credential(e,n){return Wu._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return al.credential(n,r)}catch{return null}}}al.TWITTER_SIGN_IN_METHOD="twitter.com";al.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){return xp(t,"POST","/v1/accounts:signUp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),o=KS(r);return new Gu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KS(r);return new Gu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends ya{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jg(e,n,r,i)}}function bC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jg._fromErrorAndOperation(t,s,e,r):s})}async function PU(t,e,n=!1){const r=await Gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e,n=!1){const{auth:r}=t;if(ji(r.app))return Promise.reject(ra(r));const i="reauthenticate";try{const s=await Gf(t,bC(r,i,e,t),n);mt(s.idToken,r,"internal-error");const o=ex(s.idToken);mt(o,r,"internal-error");const{sub:a}=o;return mt(t.uid===a,r,"user-mismatch"),Gu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ps(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e,n=!1){if(ji(t.app))return Promise.reject(ra(t));const r="signIn",i=await bC(t,r,e),s=await Gu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function RU(t,e){return _C(Yl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t){const e=Yl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DU(t,e,n){if(ji(t.app))return Promise.reject(ra(t));const r=Yl(t),o=await I2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&SC(t),l}),a=await Gu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function OU(t,e,n){return ji(t.app)?Promise.reject(ra(t)):RU(or(t),Zh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e){return or(t).setPersistence(e)}function jU(t,e,n,r){return or(t).onIdTokenChanged(e,n,r)}function MU(t,e,n){return or(t).beforeAuthStateChanged(e,n)}function FU(t,e,n,r){return or(t).onAuthStateChanged(e,n,r)}function VU(t){return or(t).signOut()}const Zg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zg,"1"),this.storage.removeItem(Zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=1e3,UU=10;class TC extends AC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const zU=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends AC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IC.type="SESSION";const W0=IC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new G0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await qU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=sx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return window}function HU(t){wo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return typeof wo().WorkerGlobalScope<"u"&&typeof wo().importScripts=="function"}async function WU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KU(){return NC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebaseLocalStorageDb",YU=1,e0="firebaseLocalStorage",CC="fbase_key";class _p{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function K0(t,e){return t.transaction([e0],e?"readwrite":"readonly").objectStore(e0)}function QU(){const t=indexedDB.deleteDatabase(kC);return new _p(t).toPromise()}function N2(){const t=indexedDB.open(kC,YU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(e0,{keyPath:CC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(e0)?e(r):(r.close(),await QU(),e(await N2()))})})}async function YS(t,e,n){const r=K0(t,!0).put({[CC]:e,value:n});return new _p(r).toPromise()}async function XU(t,e){const n=K0(t,!1).get(e),r=await new _p(n).toPromise();return r===void 0?null:r.value}function QS(t,e){const n=K0(t,!0).delete(e);return new _p(n).toPromise()}const JU=800,ZU=3;class PC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G0._getInstance(KU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WU(),!this.activeServiceWorker)return;this.sender=new $U(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N2();return await YS(e,Zg,"1"),await QS(e,Zg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=K0(i,!1).getAll();return new _p(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PC.type="LOCAL";const ez=PC;new wp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e){return e?Xo(e):(mt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends nx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tz(t){return _C(t.auth,new ox(t),t.bypassAuthState)}function nz(t){const{auth:e,user:n}=t;return mt(n,e,"internal-error"),LU(n,new ox(t),t.bypassAuthState)}async function rz(t){const{auth:e,user:n}=t;return mt(n,e,"internal-error"),PU(n,new ox(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tz;case"linkViaPopup":case"linkViaRedirect":return rz;case"reauthViaPopup":case"reauthViaRedirect":return nz;default:ps(this.auth,"internal-error")}}resolve(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=new wp(2e3,1e4);async function DC(t,e,n){if(ji(t.app))return Promise.reject(Ms(t,"operation-not-supported-in-this-environment"));const r=Yl(t);FB(t,e,ix);const i=LC(r,n);return new Du(r,"signInViaPopup",e,i).executeNotNull()}class Du extends RC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){ha(this.filter.length===1,"Popup operations only handle one event");const e=sx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iz.get())};e()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="pendingRedirect",Jm=new Map;class oz extends RC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jm.get(this.auth._key());if(!e){try{const r=await az(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jm.set(this.auth._key(),e)}return this.bypassAuthState||Jm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function az(t,e){const n=cz(e),r=uz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lz(t,e){Jm.set(t._key(),e)}function uz(t){return Xo(t._redirectPersistence)}function cz(t){return Xm(sz,t.config.apiKey,t.name)}async function hz(t,e,n=!1){if(ji(t.app))return Promise.reject(ra(t));const r=Yl(t),i=LC(r,e),o=await new oz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=10*60*1e3;class fz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(XS(e))}saveEventToCache(e){this.cachedEventUids.add(XS(e)),this.lastProcessedEventTime=Date.now()}}function XS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mz(t,e={}){return Kl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yz=/^https?/;async function vz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mz(t);for(const n of e)try{if(wz(n))return}catch{}ps(t,"unauthorized-domain")}function wz(t){const e=A2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yz.test(n))return!1;if(gz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new wp(3e4,6e4);function JS(){const t=wo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bz(t){return new Promise((e,n)=>{var r,i,s;function o(){JS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JS(),n(Ms(t,"network-request-failed"))},timeout:xz.get()})}if(!((i=(r=wo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wo().gapi)===null||s===void 0)&&s.load)o();else{const a=fU("iframefcb");return wo()[a]=()=>{gapi.load?o():n(Ms(t,"network-request-failed"))},vC(`${dU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zm=null,e})}let Zm=null;function _z(t){return Zm=Zm||bz(t),Zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new wp(5e3,15e3),Ez="__/auth/iframe",Az="emulator/auth/iframe",Tz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nz(t){const e=t.config;mt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zw(e,Az):`https://${t.config.authDomain}/${Ez}`,r={apiKey:e.apiKey,appName:t.name,v:Jh},i=Iz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vp(r).slice(1)}`}async function kz(t){const e=await _z(t),n=wo().gapi;return mt(n,t,"internal-error"),e.open({where:document.body,url:Nz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ms(t,"network-request-failed"),a=wo().setTimeout(()=>{s(o)},Sz.get());function l(){wo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pz=500,Lz=600,Rz="_blank",Dz="http://localhost";class ZS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oz(t,e,n,r=Pz,i=Lz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Cz),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Gr().toLowerCase();n&&(a=hC(u)?Rz:n),uC(u)&&(e=e||Dz,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(rU(u)&&a!=="_self")return jz(e||"",a),new ZS(null);const d=window.open(e||"",a,c);mt(d,t,"popup-blocked");try{d.focus()}catch{}return new ZS(d)}function jz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="__/auth/handler",Fz="emulator/auth/handler",Vz=encodeURIComponent("fac");async function eE(t,e,n,r,i,s){mt(t.config.authDomain,t,"auth-domain-config-required"),mt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jh,eventId:i};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_V(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof bp){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Vz}=${encodeURIComponent(l)}`:"";return`${Bz(t)}?${vp(a).slice(1)}${u}`}function Bz({config:t}){return t.emulator?Zw(t,Fz):`https://${t.authDomain}/${Mz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="webStorageSupport";class Uz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=hz,this._overrideRedirectResult=lz}async _openPopup(e,n,r,i){var s;ha((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await eE(e,n,r,A2(),i);return Oz(e,o,sx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await eE(e,n,r,A2(),i);return HU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ha(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kz(e),r=new fz(e);return n.register("authEvent",i=>(mt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Oy,{type:Oy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Oy];o!==void 0&&n(!!o),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gC()||cC()||tx()}}const zz=Uz;var tE="@firebase/auth",nE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hz(t){jh(new Hu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(t)},u=new uU(r,i,s,l);return wU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jh(new Hu("auth-internal",e=>{const n=Yl(e.getProvider("auth").getImmediate());return(r=>new qz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),El(tE,nE,$z(t)),El(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=5*60,Gz=Gk("authIdTokenMaxAge")||Wz;let rE=null;const Kz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gz)return;const i=n==null?void 0:n.token;rE!==i&&(rE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yz(t=Zk()){const e=Yw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vU(t,{popupRedirectResolver:zz,persistence:[ez,zU,W0]}),r=Gk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Kz(s.toString());MU(n,o,()=>o(n.currentUser)),jU(n,a=>o(a))}}const i=Hk("auth");return i&&xU(n,`http://${i}`),n}function Qz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Qz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hz("Browser");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Al,jC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function R(){}R.prototype=N.prototype,j.D=N.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(M,T,C){for(var D=Array(arguments.length-2),X=2;X<arguments.length;X++)D[X-2]=arguments[X];return N.prototype[T].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,N,R){R||(R=0);var M=Array(16);if(typeof N=="string")for(var T=0;16>T;++T)M[T]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(T=0;16>T;++T)M[T]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=j.g[0],R=j.g[1],T=j.g[2];var C=j.g[3],D=N+(C^R&(T^C))+M[0]+3614090360&4294967295;N=R+(D<<7&4294967295|D>>>25),D=C+(T^N&(R^T))+M[1]+3905402710&4294967295,C=N+(D<<12&4294967295|D>>>20),D=T+(R^C&(N^R))+M[2]+606105819&4294967295,T=C+(D<<17&4294967295|D>>>15),D=R+(N^T&(C^N))+M[3]+3250441966&4294967295,R=T+(D<<22&4294967295|D>>>10),D=N+(C^R&(T^C))+M[4]+4118548399&4294967295,N=R+(D<<7&4294967295|D>>>25),D=C+(T^N&(R^T))+M[5]+1200080426&4294967295,C=N+(D<<12&4294967295|D>>>20),D=T+(R^C&(N^R))+M[6]+2821735955&4294967295,T=C+(D<<17&4294967295|D>>>15),D=R+(N^T&(C^N))+M[7]+4249261313&4294967295,R=T+(D<<22&4294967295|D>>>10),D=N+(C^R&(T^C))+M[8]+1770035416&4294967295,N=R+(D<<7&4294967295|D>>>25),D=C+(T^N&(R^T))+M[9]+2336552879&4294967295,C=N+(D<<12&4294967295|D>>>20),D=T+(R^C&(N^R))+M[10]+4294925233&4294967295,T=C+(D<<17&4294967295|D>>>15),D=R+(N^T&(C^N))+M[11]+2304563134&4294967295,R=T+(D<<22&4294967295|D>>>10),D=N+(C^R&(T^C))+M[12]+1804603682&4294967295,N=R+(D<<7&4294967295|D>>>25),D=C+(T^N&(R^T))+M[13]+4254626195&4294967295,C=N+(D<<12&4294967295|D>>>20),D=T+(R^C&(N^R))+M[14]+2792965006&4294967295,T=C+(D<<17&4294967295|D>>>15),D=R+(N^T&(C^N))+M[15]+1236535329&4294967295,R=T+(D<<22&4294967295|D>>>10),D=N+(T^C&(R^T))+M[1]+4129170786&4294967295,N=R+(D<<5&4294967295|D>>>27),D=C+(R^T&(N^R))+M[6]+3225465664&4294967295,C=N+(D<<9&4294967295|D>>>23),D=T+(N^R&(C^N))+M[11]+643717713&4294967295,T=C+(D<<14&4294967295|D>>>18),D=R+(C^N&(T^C))+M[0]+3921069994&4294967295,R=T+(D<<20&4294967295|D>>>12),D=N+(T^C&(R^T))+M[5]+3593408605&4294967295,N=R+(D<<5&4294967295|D>>>27),D=C+(R^T&(N^R))+M[10]+38016083&4294967295,C=N+(D<<9&4294967295|D>>>23),D=T+(N^R&(C^N))+M[15]+3634488961&4294967295,T=C+(D<<14&4294967295|D>>>18),D=R+(C^N&(T^C))+M[4]+3889429448&4294967295,R=T+(D<<20&4294967295|D>>>12),D=N+(T^C&(R^T))+M[9]+568446438&4294967295,N=R+(D<<5&4294967295|D>>>27),D=C+(R^T&(N^R))+M[14]+3275163606&4294967295,C=N+(D<<9&4294967295|D>>>23),D=T+(N^R&(C^N))+M[3]+4107603335&4294967295,T=C+(D<<14&4294967295|D>>>18),D=R+(C^N&(T^C))+M[8]+1163531501&4294967295,R=T+(D<<20&4294967295|D>>>12),D=N+(T^C&(R^T))+M[13]+2850285829&4294967295,N=R+(D<<5&4294967295|D>>>27),D=C+(R^T&(N^R))+M[2]+4243563512&4294967295,C=N+(D<<9&4294967295|D>>>23),D=T+(N^R&(C^N))+M[7]+1735328473&4294967295,T=C+(D<<14&4294967295|D>>>18),D=R+(C^N&(T^C))+M[12]+2368359562&4294967295,R=T+(D<<20&4294967295|D>>>12),D=N+(R^T^C)+M[5]+4294588738&4294967295,N=R+(D<<4&4294967295|D>>>28),D=C+(N^R^T)+M[8]+2272392833&4294967295,C=N+(D<<11&4294967295|D>>>21),D=T+(C^N^R)+M[11]+1839030562&4294967295,T=C+(D<<16&4294967295|D>>>16),D=R+(T^C^N)+M[14]+4259657740&4294967295,R=T+(D<<23&4294967295|D>>>9),D=N+(R^T^C)+M[1]+2763975236&4294967295,N=R+(D<<4&4294967295|D>>>28),D=C+(N^R^T)+M[4]+1272893353&4294967295,C=N+(D<<11&4294967295|D>>>21),D=T+(C^N^R)+M[7]+4139469664&4294967295,T=C+(D<<16&4294967295|D>>>16),D=R+(T^C^N)+M[10]+3200236656&4294967295,R=T+(D<<23&4294967295|D>>>9),D=N+(R^T^C)+M[13]+681279174&4294967295,N=R+(D<<4&4294967295|D>>>28),D=C+(N^R^T)+M[0]+3936430074&4294967295,C=N+(D<<11&4294967295|D>>>21),D=T+(C^N^R)+M[3]+3572445317&4294967295,T=C+(D<<16&4294967295|D>>>16),D=R+(T^C^N)+M[6]+76029189&4294967295,R=T+(D<<23&4294967295|D>>>9),D=N+(R^T^C)+M[9]+3654602809&4294967295,N=R+(D<<4&4294967295|D>>>28),D=C+(N^R^T)+M[12]+3873151461&4294967295,C=N+(D<<11&4294967295|D>>>21),D=T+(C^N^R)+M[15]+530742520&4294967295,T=C+(D<<16&4294967295|D>>>16),D=R+(T^C^N)+M[2]+3299628645&4294967295,R=T+(D<<23&4294967295|D>>>9),D=N+(T^(R|~C))+M[0]+4096336452&4294967295,N=R+(D<<6&4294967295|D>>>26),D=C+(R^(N|~T))+M[7]+1126891415&4294967295,C=N+(D<<10&4294967295|D>>>22),D=T+(N^(C|~R))+M[14]+2878612391&4294967295,T=C+(D<<15&4294967295|D>>>17),D=R+(C^(T|~N))+M[5]+4237533241&4294967295,R=T+(D<<21&4294967295|D>>>11),D=N+(T^(R|~C))+M[12]+1700485571&4294967295,N=R+(D<<6&4294967295|D>>>26),D=C+(R^(N|~T))+M[3]+2399980690&4294967295,C=N+(D<<10&4294967295|D>>>22),D=T+(N^(C|~R))+M[10]+4293915773&4294967295,T=C+(D<<15&4294967295|D>>>17),D=R+(C^(T|~N))+M[1]+2240044497&4294967295,R=T+(D<<21&4294967295|D>>>11),D=N+(T^(R|~C))+M[8]+1873313359&4294967295,N=R+(D<<6&4294967295|D>>>26),D=C+(R^(N|~T))+M[15]+4264355552&4294967295,C=N+(D<<10&4294967295|D>>>22),D=T+(N^(C|~R))+M[6]+2734768916&4294967295,T=C+(D<<15&4294967295|D>>>17),D=R+(C^(T|~N))+M[13]+1309151649&4294967295,R=T+(D<<21&4294967295|D>>>11),D=N+(T^(R|~C))+M[4]+4149444226&4294967295,N=R+(D<<6&4294967295|D>>>26),D=C+(R^(N|~T))+M[11]+3174756917&4294967295,C=N+(D<<10&4294967295|D>>>22),D=T+(N^(C|~R))+M[2]+718787259&4294967295,T=C+(D<<15&4294967295|D>>>17),D=R+(C^(T|~N))+M[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+T&4294967295,j.g[3]=j.g[3]+C&4294967295}r.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var R=N-this.blockSize,M=this.B,T=this.h,C=0;C<N;){if(T==0)for(;C<=R;)i(this,j,C),C+=this.blockSize;if(typeof j=="string"){for(;C<N;)if(M[T++]=j.charCodeAt(C++),T==this.blockSize){i(this,M),T=0;break}}else for(;C<N;)if(M[T++]=j[C++],T==this.blockSize){i(this,M),T=0;break}}this.h=T,this.o+=N},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var R=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=R&255,R/=256;for(this.u(j),j=Array(16),N=R=0;4>N;++N)for(var M=0;32>M;M+=8)j[R++]=this.g[N]>>>M&255;return j};function s(j,N){var R=a;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=N(j)}function o(j,N){this.h=N;for(var R=[],M=!0,T=j.length-1;0<=T;T--){var C=j[T]|0;M&&C==N||(R[T]=C,M=!1)}this.g=R}var a={};function l(j){return-128<=j&&128>j?s(j,function(N){return new o([N|0],0>N?-1:0)}):new o([j|0],0>j?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return d;if(0>j)return I(u(-j));for(var N=[],R=1,M=0;j>=R;M++)N[M]=j/R|0,R*=4294967296;return new o(N,0)}function c(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return I(c(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(N,8)),M=d,T=0;T<j.length;T+=8){var C=Math.min(8,j.length-T),D=parseInt(j.substring(T,T+C),N);8>C?(C=u(Math.pow(N,C)),M=M.j(C).add(u(D))):(M=M.j(R),M=M.add(u(D)))}return M}var d=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-I(this).m();for(var j=0,N=1,R=0;R<this.g.length;R++){var M=this.i(R);j+=(0<=M?M:4294967296+M)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(_(this))return"0";if(b(this))return"-"+I(this).toString(j);for(var N=u(Math.pow(j,6)),R=this,M="";;){var T=B(R,N).g;R=w(R,T.j(N));var C=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=T,_(R))return C+M;for(;6>C.length;)C="0"+C;M=C+M}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function _(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function b(j){return j.h==-1}t.l=function(j){return j=w(this,j),b(j)?-1:_(j)?0:1};function I(j){for(var N=j.g.length,R=[],M=0;M<N;M++)R[M]=~j.g[M];return new o(R,~j.h).add(m)}t.abs=function(){return b(this)?I(this):this},t.add=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],M=0,T=0;T<=N;T++){var C=M+(this.i(T)&65535)+(j.i(T)&65535),D=(C>>>16)+(this.i(T)>>>16)+(j.i(T)>>>16);M=D>>>16,C&=65535,D&=65535,R[T]=D<<16|C}return new o(R,R[R.length-1]&-2147483648?-1:0)};function w(j,N){return j.add(I(N))}t.j=function(j){if(_(this)||_(j))return d;if(b(this))return b(j)?I(this).j(I(j)):I(I(this).j(j));if(b(j))return I(this.j(I(j)));if(0>this.l(p)&&0>j.l(p))return u(this.m()*j.m());for(var N=this.g.length+j.g.length,R=[],M=0;M<2*N;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var T=0;T<j.g.length;T++){var C=this.i(M)>>>16,D=this.i(M)&65535,X=j.i(T)>>>16,fe=j.i(T)&65535;R[2*M+2*T]+=D*fe,S(R,2*M+2*T),R[2*M+2*T+1]+=C*fe,S(R,2*M+2*T+1),R[2*M+2*T+1]+=D*X,S(R,2*M+2*T+1),R[2*M+2*T+2]+=C*X,S(R,2*M+2*T+2)}for(M=0;M<N;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=N;M<2*N;M++)R[M]=0;return new o(R,0)};function S(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function A(j,N){this.g=j,this.h=N}function B(j,N){if(_(N))throw Error("division by zero");if(_(j))return new A(d,d);if(b(j))return N=B(I(j),N),new A(I(N.g),I(N.h));if(b(N))return N=B(j,I(N)),new A(I(N.g),N.h);if(30<j.g.length){if(b(j)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var R=m,M=N;0>=M.l(j);)R=K(R),M=K(M);var T=W(R,1),C=W(M,1);for(M=W(M,2),R=W(R,2);!_(M);){var D=C.add(M);0>=D.l(j)&&(T=T.add(R),C=D),M=W(M,1),R=W(R,1)}return N=w(j,T.j(N)),new A(T,N)}for(T=d;0<=j.l(N);){for(R=Math.max(1,Math.floor(j.m()/N.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),C=u(R),D=C.j(N);b(D)||0<D.l(j);)R-=M,C=u(R),D=C.j(N);_(C)&&(C=m),T=T.add(C),j=w(j,D)}return new A(T,j)}t.A=function(j){return B(this,j).h},t.and=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],M=0;M<N;M++)R[M]=this.i(M)&j.i(M);return new o(R,this.h&j.h)},t.or=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],M=0;M<N;M++)R[M]=this.i(M)|j.i(M);return new o(R,this.h|j.h)},t.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],M=0;M<N;M++)R[M]=this.i(M)^j.i(M);return new o(R,this.h^j.h)};function K(j){for(var N=j.g.length+1,R=[],M=0;M<N;M++)R[M]=j.i(M)<<1|j.i(M-1)>>>31;return new o(R,j.h)}function W(j,N){var R=N>>5;N%=32;for(var M=j.g.length-R,T=[],C=0;C<M;C++)T[C]=0<N?j.i(C+R)>>>N|j.i(C+R+1)<<32-N:j.i(C+R);return new o(T,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Al=o}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var _m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MC,Yd,FC,eg,k2,VC,BC,UC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,P){return f==Array.prototype||f==Object.prototype||(f[E]=P.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _m=="object"&&_m];for(var E=0;E<f.length;++E){var P=f[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(f,E){if(E)e:{var P=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var ce=f[$];if(!(ce in P))break e;P=P[ce]}f=f[f.length-1],$=P[f],E=E($),E!=$&&E!=null&&e(P,f,{configurable:!0,writable:!0,value:E})}}function s(f,E){f instanceof String&&(f+="");var P=0,$=!1,ce={next:function(){if(!$&&P<f.length){var xe=P++;return{value:E(xe,f[xe]),done:!1}}return $=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(f){return f||function(){return s(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function u(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function c(f,E,P){return f.call.apply(f.bind,arguments)}function d(f,E,P){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,$),f.apply(E,ce)}}return function(){return f.apply(E,arguments)}}function m(f,E,P){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,m.apply(null,arguments)}function p(f,E){var P=Array.prototype.slice.call(arguments,1);return function(){var $=P.slice();return $.push.apply($,arguments),f.apply(this,$)}}function _(f,E){function P(){}P.prototype=E.prototype,f.aa=E.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function($,ce,xe){for(var Oe=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Oe[Et-2]=arguments[Et];return E.prototype[ce].apply($,Oe)}}function b(f){const E=f.length;if(0<E){const P=Array(E);for(let $=0;$<E;$++)P[$]=f[$];return P}return[]}function I(f,E){for(let P=1;P<arguments.length;P++){const $=arguments[P];if(l($)){const ce=f.length||0,xe=$.length||0;f.length=ce+xe;for(let Oe=0;Oe<xe;Oe++)f[ce+Oe]=$[Oe]}else f.push($)}}class w{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function S(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function B(f){return B[" "](f),f}B[" "]=function(){};var K=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function W(f,E,P){for(const $ in f)E.call(P,f[$],$,f)}function j(f,E){for(const P in f)E.call(void 0,f[P],P,f)}function N(f){const E={};for(const P in f)E[P]=f[P];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,E){let P,$;for(let ce=1;ce<arguments.length;ce++){$=arguments[ce];for(P in $)f[P]=$[P];for(let xe=0;xe<R.length;xe++)P=R[xe],Object.prototype.hasOwnProperty.call($,P)&&(f[P]=$[P])}}function T(f){var E=1;f=f.split(":");const P=[];for(;0<E&&f.length;)P.push(f.shift()),E--;return f.length&&P.push(f.join(":")),P}function C(f){a.setTimeout(()=>{throw f},0)}function D(){var f=le;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class X{constructor(){this.h=this.g=null}add(E,P){const $=fe.get();$.set(E,P),this.h?this.h.next=$:this.g=$,this.h=$}}var fe=new w(()=>new pe,f=>f.reset());class pe{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Z=!1,le=new X,z=()=>{const f=a.Promise.resolve(void 0);ae=()=>{f.then(_e)}};var _e=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(P){C(P)}var E=fe;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}Z=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};a.addEventListener("test",P,E),a.removeEventListener("test",P,E)}catch{}return f}();function ee(f,E){if(L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(K){e:{try{B(E.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(E=null)}}else P=="mouseover"?E=f.fromElement:P=="mouseout"&&(E=f.toElement);this.relatedTarget=E,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ee.aa.h.call(this)}}_(ee,L);var re={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),we=0;function be(f,E,P,$,ce){this.listener=f,this.proxy=null,this.src=E,this.type=P,this.capture=!!$,this.ha=ce,this.key=++we,this.da=this.fa=!1}function je(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,E,P,$,ce){var xe=f.toString();f=this.g[xe],f||(f=this.g[xe]=[],this.h++);var Oe=qe(f,E,$,ce);return-1<Oe?(E=f[Oe],P||(E.fa=!1)):(E=new be(E,this.src,xe,!!$,ce),E.fa=P,f.push(E)),E};function $e(f,E){var P=E.type;if(P in f.g){var $=f.g[P],ce=Array.prototype.indexOf.call($,E,void 0),xe;(xe=0<=ce)&&Array.prototype.splice.call($,ce,1),xe&&(je(E),f.g[P].length==0&&(delete f.g[P],f.h--))}}function qe(f,E,P,$){for(var ce=0;ce<f.length;++ce){var xe=f[ce];if(!xe.da&&xe.listener==E&&xe.capture==!!P&&xe.ha==$)return ce}return-1}var ot="closure_lm_"+(1e6*Math.random()|0),Ee={};function te(f,E,P,$,ce){if(Array.isArray(E)){for(var xe=0;xe<E.length;xe++)te(f,E[xe],P,$,ce);return null}return P=xt(P),f&&f[ge]?f.K(E,P,u($)?!!$.capture:!!$,ce):yt(f,E,P,!1,$,ce)}function yt(f,E,P,$,ce,xe){if(!E)throw Error("Invalid event type");var Oe=u(ce)?!!ce.capture:!!ce,Et=st(f);if(Et||(f[ot]=Et=new De(f)),P=Et.add(E,P,$,Oe,xe),P.proxy)return P;if($=rt(),P.proxy=$,$.src=f,$.listener=P,f.addEventListener)J||(ce=Oe),ce===void 0&&(ce=!1),f.addEventListener(E.toString(),$,ce);else if(f.attachEvent)f.attachEvent(Ke(E.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return P}function rt(){function f(P){return E.call(f.src,f.listener,P)}const E=He;return f}function Me(f,E,P,$,ce){if(Array.isArray(E))for(var xe=0;xe<E.length;xe++)Me(f,E[xe],P,$,ce);else $=u($)?!!$.capture:!!$,P=xt(P),f&&f[ge]?(f=f.i,E=String(E).toString(),E in f.g&&(xe=f.g[E],P=qe(xe,P,$,ce),-1<P&&(je(xe[P]),Array.prototype.splice.call(xe,P,1),xe.length==0&&(delete f.g[E],f.h--)))):f&&(f=st(f))&&(E=f.g[E.toString()],f=-1,E&&(f=qe(E,P,$,ce)),(P=-1<f?E[f]:null)&&Be(P))}function Be(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ge])$e(E.i,f);else{var P=f.type,$=f.proxy;E.removeEventListener?E.removeEventListener(P,$,f.capture):E.detachEvent?E.detachEvent(Ke(P),$):E.addListener&&E.removeListener&&E.removeListener($),(P=st(E))?($e(P,f),P.h==0&&(P.src=null,E[ot]=null)):je(f)}}}function Ke(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function He(f,E){if(f.da)f=!0;else{E=new ee(E,this);var P=f.listener,$=f.ha||f.src;f.fa&&Be(f),f=P.call($,E)}return f}function st(f){return f=f[ot],f instanceof De?f:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(f){return typeof f=="function"?f:(f[ht]||(f[ht]=function(E){return f.handleEvent(E)}),f[ht])}function me(){O.call(this),this.i=new De(this),this.M=this,this.F=null}_(me,O),me.prototype[ge]=!0,me.prototype.removeEventListener=function(f,E,P,$){Me(this,f,E,P,$)};function Te(f,E){var P,$=f.F;if($)for(P=[];$;$=$.F)P.push($);if(f=f.M,$=E.type||E,typeof E=="string")E=new L(E,f);else if(E instanceof L)E.target=E.target||f;else{var ce=E;E=new L($,f),M(E,ce)}if(ce=!0,P)for(var xe=P.length-1;0<=xe;xe--){var Oe=E.g=P[xe];ce=Ye(Oe,$,!0,E)&&ce}if(Oe=E.g=f,ce=Ye(Oe,$,!0,E)&&ce,ce=Ye(Oe,$,!1,E)&&ce,P)for(xe=0;xe<P.length;xe++)Oe=E.g=P[xe],ce=Ye(Oe,$,!1,E)&&ce}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var P=f.g[E],$=0;$<P.length;$++)je(P[$]);delete f.g[E],f.h--}}this.F=null},me.prototype.K=function(f,E,P,$){return this.i.add(String(f),E,!1,P,$)},me.prototype.L=function(f,E,P,$){return this.i.add(String(f),E,!0,P,$)};function Ye(f,E,P,$){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var ce=!0,xe=0;xe<E.length;++xe){var Oe=E[xe];if(Oe&&!Oe.da&&Oe.capture==P){var Et=Oe.listener,Ot=Oe.ha||Oe.src;Oe.fa&&$e(f.i,Oe),ce=Et.call(Ot,$)!==!1&&ce}}return ce&&!$.defaultPrevented}function Ue(f,E,P){if(typeof f=="function")P&&(f=m(f,P));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(f,E||0)}function Je(f){f.g=Ue(()=>{f.g=null,f.i&&(f.i=!1,Je(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class ze extends O{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(f){O.call(this),this.h=f,this.g={}}_(Ht,O);var bt=[];function qn(f){W(f.g,function(E,P){this.g.hasOwnProperty(P)&&Be(E)},f),f.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),qn(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=a.JSON.stringify,Ct=a.JSON.parse,Zn=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function St(){}St.prototype.h=null;function $s(f){return f.h||(f.h=f.i())}function pn(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){L.call(this,"d")}_(Ai,L);function ln(){L.call(this,"c")}_(ln,L);var lt={},Bt=null;function Gi(){return Bt=Bt||new me}lt.La="serverreachability";function $n(f){L.call(this,lt.La,f)}_($n,L);function Ir(f){const E=Gi();Te(E,new $n(E))}lt.STAT_EVENT="statevent";function Ti(f,E){L.call(this,lt.STAT_EVENT,f),this.stat=E}_(Ti,L);function tt(f){const E=Gi();Te(E,new Ti(E,f))}lt.Ma="timingevent";function ai(f,E){L.call(this,lt.Ma,f),this.size=E}_(ai,L);function Nr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},E)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Ln(f,E,P,$,ce,xe){f.info(function(){if(f.g)if(xe)for(var Oe="",Et=xe.split("&"),Ot=0;Ot<Et.length;Ot++){var At=Et[Ot].split("=");if(1<At.length){var Gt=At[0];At=At[1];var sn=Gt.split("_");Oe=2<=sn.length&&sn[1]=="type"?Oe+(Gt+"="+At+"&"):Oe+(Gt+"=redacted&")}}else Oe=null;else Oe=xe;return"XMLHTTP REQ ("+$+") [attempt "+ce+"]: "+E+`
`+P+`
`+Oe})}function In(f,E,P,$,ce,xe,Oe){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ce+"]: "+E+`
`+P+`
`+xe+" "+Oe})}function Wn(f,E,P,$){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+ms(f,P)+($?" "+$:"")})}function va(f,E){f.info(function(){return"TIMEOUT: "+E})}Hn.prototype.info=function(){};function ms(f,E){if(!f.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var $=P[f];if(!(2>$.length)){var ce=$[1];if(Array.isArray(ce)&&!(1>ce.length)){var xe=ce[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Oe=1;Oe<ce.length;Oe++)ce[Oe]=""}}}}return Rt(P)}catch{return E}}var kr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Qr(){}_(Qr,St),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},Yr=new Qr;function Rn(f,E,P,$){this.j=f,this.i=E,this.l=P,this.R=$||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var Hs={},Ws={};function Gs(f,E,P){f.L=1,f.v=Po(Xr(E)),f.m=P,f.P=!0,To(f,null)}function To(f,E){f.F=Date.now(),wa(f),f.A=Xr(f.v);var P=f.A,$=f.R;Array.isArray($)||($=[String($)]),vt(P.i,"t",$),f.C=0,P=f.j.J,f.h=new Ii,f.g=F(f.j,P?E:null,!f.m),0<f.O&&(f.M=new ze(m(f.Y,f,f.g),f.O)),E=f.U,P=f.g,$=f.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(bt[0]=ce.toString()),ce=bt);for(var xe=0;xe<ce.length;xe++){var Oe=te(P,ce[xe],$||E.handleEvent,!1,E.h||E);if(!Oe)break;E.g[Oe.key]=Oe}E=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Ir(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}Rn.prototype.ca=function(f){f=f.target;const E=this.M;E&&er(f)==3?E.j():this.Y(f)},Rn.prototype.Y=function(f){try{if(f==this.g)e:{const sn=er(this.g);var E=this.g.Ba();const Ss=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||gc(this.g)))){this.J||sn!=4||E==7||(E==8||0>=Ss?Ir(3):Ir(2)),Ks(this);var P=this.g.Z();this.X=P;t:if(Io(this)){var $=gc(this.g);f="";var ce=$.length,xe=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Ys(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<ce;E++)this.h.h=!0,f+=this.h.i.decode($[E],{stream:!(xe&&E==ce-1)});$.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=P==200,In(this.i,this.u,this.A,this.l,this.R,sn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,Ot=this.g;if((Et=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Et)){var At=Et;break t}}At=null}if(P=At)Wn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,P);else{this.o=!1,this.s=3,tt(12),gs(this),Ys(this);break e}}if(this.P){P=!0;let mr;for(;!this.J&&this.C<Oe.length;)if(mr=ac(this,Oe),mr==Ws){sn==4&&(this.s=4,tt(14),P=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==Hs){this.s=4,tt(15),Wn(this.i,this.l,Oe,"[Invalid Chunk]"),P=!1;break}else Wn(this.i,this.l,mr,null),No(this,mr);if(Io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||Oe.length!=0||this.h.h||(this.s=1,tt(16),P=!1),this.o=this.o&&P,!P)Wn(this.i,this.l,Oe,"[Invalid Chunked Response]"),gs(this),Ys(this);else if(0<Oe.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Ra(Gt),Gt.M=!0,tt(11))}}else Wn(this.i,this.l,Oe,null),No(this,Oe);sn==4&&gs(this),this.o&&!this.J&&(sn==4?eo(this.j,this):(this.o=!1,wa(this)))}else Js(this.g),P==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),gs(this),Ys(this)}}}catch{}finally{}};function Io(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ac(f,E){var P=f.C,$=E.indexOf(`
`,P);return $==-1?Ws:(P=Number(E.substring(P,$)),isNaN(P)?Hs:($+=1,$+P>E.length?Ws:(E=E.slice($,$+P),f.C=$+P,E)))}Rn.prototype.cancel=function(){this.J=!0,gs(this)};function wa(f){f.S=Date.now()+f.I,lc(f,f.I)}function lc(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Nr(m(f.ba,f),E)}function Ks(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Rn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(va(this.i,this.A),this.L!=2&&(Ir(),tt(17)),gs(this),this.s=2,Ys(this)):lc(this,this.S-f)};function Ys(f){f.j.G==0||f.J||eo(f.j,f)}function gs(f){Ks(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,qn(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function No(f,E){try{var P=f.j;if(P.G!=0&&(P.g==f||tu(P.h,f))){if(!f.K&&tu(P.h,f)&&P.G==3){try{var $=P.Da.g.parse(E)}catch{$=null}if(Array.isArray($)&&$.length==3){var ce=$;if(ce[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)_s(P),ka(P);else break e;jo(P),tt(18)}}else P.za=ce[1],0<P.za-P.T&&37500>ce[2]&&P.F&&P.v==0&&!P.C&&(P.C=Nr(m(P.Za,P),6e3));if(1>=ko(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Cr(P,11)}else if((f.K||P.g==f)&&_s(P),!S(E))for(ce=P.Da.g.parse(E),E=0;E<ce.length;E++){let At=ce[E];if(P.T=At[0],At=At[1],P.G==2)if(At[0]=="c"){P.K=At[1],P.ia=At[2];const Gt=At[3];Gt!=null&&(P.la=Gt,P.j.info("VER="+P.la));const sn=At[4];sn!=null&&(P.Aa=sn,P.j.info("SVER="+P.Aa));const Ss=At[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&($=1.5*Ss,P.L=$,P.j.info("backChannelRequestTimeoutMs_="+$)),$=P;const mr=f.g;if(mr){const to=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var xe=$.h;xe.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(mn(xe,xe.h),xe.h=null))}if($.D){const no=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&($.ya=no,Yt($.I,$.D,no))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),$=P;var Oe=f;if($.qa=y($,$.J?$.ia:null,$.W),Oe.K){nu($.h,Oe);var Et=Oe,Ot=$.L;Ot&&(Et.I=Ot),Et.B&&(Ks(Et),wa(Et)),$.g=Oe}else La($);0<P.i.length&&Ca(P)}else At[0]!="stop"&&At[0]!="close"||Cr(P,7);else P.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Cr(P,7):bs(P):At[0]!="noop"&&P.l&&P.l.ta(At),P.v=0)}}Ir(4)}catch{}}var ld=class{constructor(f,E){this.g=f,this.map=E}};function eu(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ko(f){return f.h?1:f.g?f.g.size:0}function tu(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function mn(f,E){f.g?f.g.add(E):f.h=E}function nu(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}eu.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ru(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const P of f.g.values())E=E.concat(P.D);return E}return b(f.i)}function cc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],P=f.length,$=0;$<P;$++)E.push(f[$]);return E}E=[],P=0;for($ in f)E[P++]=f[$];return E}function iu(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var P=0;P<f;P++)E.push(P);return E}E=[],P=0;for(const $ in f)E[P++]=$;return E}}}function hc(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var P=iu(f),$=cc(f),ce=$.length,xe=0;xe<ce;xe++)E.call(void 0,$[xe],P&&P[xe],f)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(f,E){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var $=f[P].indexOf("="),ce=null;if(0<=$){var xe=f[P].substring(0,$);ce=f[P].substring($+1)}else xe=f[P];E(xe,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Nn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Nn){this.h=f.h,Co(this,f.j),this.o=f.o,this.g=f.g,ba(this,f.s),this.l=f.l;var E=f.i,P=new Qs;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),su(this,P),this.m=f.m}else f&&(E=String(f).match(ui))?(this.h=!1,Co(this,E[1]||"",!0),this.o=Lo(E[2]||""),this.g=Lo(E[3]||"",!0),ba(this,E[4]),this.l=Lo(E[5]||"",!0),su(this,E[6]||"",!0),this.m=Lo(E[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}Nn.prototype.toString=function(){var f=[],E=this.j;E&&f.push(ys(E,dc,!0),":");var P=this.g;return(P||E=="file")&&(f.push("//"),(E=this.o)&&f.push(ys(E,dc,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(ys(P,P.charAt(0)=="/"?vs:cd,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",ys(P,Sa)),f.join("")};function Xr(f){return new Nn(f)}function Co(f,E,P){f.j=P?Lo(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function ba(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function su(f,E,P){E instanceof Qs?(f.i=E,hd(f.i,f.h)):(P||(E=ys(E,_a)),f.i=new Qs(E,f.h))}function Yt(f,E,P){f.i.set(E,P)}function Po(f){return Yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Lo(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ys(f,E,P){return typeof f=="string"?(f=encodeURI(f).replace(E,ud),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ud(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var dc=/[#\/\?@]/g,cd=/[#\?:]/g,vs=/[#\?]/g,_a=/[#\?@]/g,Sa=/#/g;function Qs(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&xa(f.i,function(E,P){f.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=Qs.prototype,t.add=function(f,E){gn(this),this.i=null,f=Xs(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(E),this.h+=1,this};function fc(f,E){gn(f),E=Xs(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function ou(f,E){return gn(f),E=Xs(f,E),f.g.has(E)}t.forEach=function(f,E){gn(this),this.g.forEach(function(P,$){P.forEach(function(ce){f.call(E,ce,$,this)},this)},this)},t.na=function(){gn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let $=0;$<E.length;$++){const ce=f[$];for(let xe=0;xe<ce.length;xe++)P.push(E[$])}return P},t.V=function(f){gn(this);let E=[];if(typeof f=="string")ou(this,f)&&(E=E.concat(this.g.get(Xs(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)E=E.concat(f[P])}return E},t.set=function(f,E){return gn(this),this.i=null,f=Xs(this,f),ou(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function vt(f,E,P){fc(f,E),0<P.length&&(f.i=null,f.g.set(Xs(f,E),b(P)),f.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var $=E[P];const xe=encodeURIComponent(String($)),Oe=this.V($);for($=0;$<Oe.length;$++){var ce=xe;Oe[$]!==""&&(ce+="="+encodeURIComponent(String(Oe[$]))),f.push(ce)}}return this.i=f.join("&")};function Xs(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function hd(f,E){E&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(P,$){var ce=$.toLowerCase();$!=ce&&(fc(this,$),vt(this,ce,P))},f)),f.j=E}function Ki(f,E){const P=new Hn;if(a.Image){const $=new Image;$.onload=p(Ni,P,"TestLoadImage: loaded",!0,E,$),$.onerror=p(Ni,P,"TestLoadImage: error",!1,E,$),$.onabort=p(Ni,P,"TestLoadImage: abort",!1,E,$),$.ontimeout=p(Ni,P,"TestLoadImage: timeout",!1,E,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else E(!1)}function pc(f,E){const P=new Hn,$=new AbortController,ce=setTimeout(()=>{$.abort(),Ni(P,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:$.signal}).then(xe=>{clearTimeout(ce),xe.ok?Ni(P,"TestPingServer: ok",!0,E):Ni(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ce),Ni(P,"TestPingServer: error",!1,E)})}function Ni(f,E,P,$,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),$(P)}catch{}}function Ea(){this.g=new Zn}function au(f,E,P){const $=P||"";try{hc(f,function(ce,xe){let Oe=ce;u(ce)&&(Oe=Rt(ce)),E.push($+xe+"="+encodeURIComponent(Oe))})}catch(ce){throw E.push($+"type="+encodeURIComponent("_badmap")),ce}}function Aa(f){this.l=f.Ub||null,this.j=f.eb||!1}_(Aa,St),Aa.prototype.g=function(){return new Ta(this.l,this.j)},Aa.prototype.i=function(f){return function(){return f}}({});function Ta(f,E){me.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ta,me),t=Ta.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,ki(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function mc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ws(this):ki(this),this.readyState==3&&mc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ws(this))},t.Qa=function(f){this.g&&(this.response=f,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ki(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=E.next();return f.join(`\r
`)};function ki(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function xs(f){let E="";return W(f,function(P,$){E+=$,E+=":",E+=P,E+=`\r
`}),E}function lu(f,E,P){e:{for($ in P){var $=!1;break e}$=!0}$||(P=xs(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):Yt(f,E,P))}function Wt(f){me.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Wt,me);var uu=/^https?$/i,Ia=["POST","PUT"];t=Wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,P,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?$s(this.o):$s(Yr),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(xe){cu(this,xe);return}if(f=P||"",P=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ce in $)P.set(ce,$[ce]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const xe of $.keys())P.set(xe,$.get(xe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(P.keys()).find(xe=>xe.toLowerCase()=="content-type"),ce=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ia,E,void 0))||$||ce||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Oe]of P)this.g.setRequestHeader(xe,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ci(this),this.u=!0,this.g.send(f),this.u=!1}catch(xe){cu(this,xe)}};function cu(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,hu(f),Ro(f)}function hu(f){f.A||(f.A=!0,Te(f,"complete"),Te(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Te(this,"complete"),Te(this,"abort"),Ro(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ro(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},t.bb=function(){du(this)};function du(f){if(f.h&&typeof o<"u"&&(!f.v[1]||er(f)!=4||f.Z()!=2)){if(f.u&&er(f)==4)Ue(f.Ea,0,f);else if(Te(f,"readystatechange"),er(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var $;if($=Oe===0){var ce=String(f.D).match(ui)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),$=!uu.test(ce?ce.toLowerCase():"")}P=$}if(P)Te(f,"complete"),Te(f,"success");else{f.m=6;try{var xe=2<er(f)?f.g.statusText:""}catch{xe=""}f.l=xe+" ["+f.Z()+"]",hu(f)}}finally{Ro(f)}}}}function Ro(f,E){if(f.g){Ci(f);const P=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Te(f,"ready");try{P.onreadystatechange=$}catch{}}}function Ci(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function er(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Ct(E)}};function gc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Js(f){const E={};f=(f.g&&2<=er(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(S(f[$]))continue;var P=T(f[$]);const ce=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const xe=E[ce]||[];E[ce]=xe,xe.push(P)}j(E,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(f,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||E}function Na(f){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,f),this.cb=pr("retryDelaySeedMs",1e4,f),this.Wa=pr("forwardChannelMaxRetries",2,f),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new eu(f&&f.concurrentRequestLimit),this.Da=new Ea,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Na.prototype,t.la=8,t.G=1,t.connect=function(f,E,P,$){tt(0),this.W=f,this.H=E||{},P&&$!==void 0&&(this.H.OSID=P,this.H.OAID=$),this.F=this.X,this.I=y(this,null,this.W),Ca(this)};function bs(f){if(Do(f),f.G==3){var E=f.U++,P=Xr(f.I);if(Yt(P,"SID",f.K),Yt(P,"RID",E),Yt(P,"TYPE","terminate"),Zs(f,P),E=new Rn(f,f.j,E),E.L=2,E.v=Po(Xr(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=E.v,P=!0),P||(E.g=F(E.j,null),E.g.ea(E.v)),E.F=Date.now(),wa(E)}Oa(f)}function ka(f){f.g&&(Ra(f),f.g.cancel(),f.g=null)}function Do(f){ka(f),f.u&&(a.clearTimeout(f.u),f.u=null),_s(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Ca(f){if(!uc(f.h)&&!f.s){f.s=!0;var E=f.Ga;ae||z(),Z||(ae(),Z=!0),le.add(E,f),f.B=0}}function fu(f,E){return ko(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Nr(m(f.Ga,f,E),Da(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ce=new Rn(this,this.j,f);let xe=this.o;if(this.S&&(xe?(xe=N(xe),M(xe,this.S)):xe=this.S),this.m!==null||this.O||(ce.H=xe,xe=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var $=this.i[P];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(E+=$,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=Oo(this,ce,E),P=Xr(this.I),Yt(P,"RID",f),Yt(P,"CVER",22),this.D&&Yt(P,"X-HTTP-Session-Id",this.D),Zs(this,P),xe&&(this.O?E="headers="+encodeURIComponent(String(xs(xe)))+"&"+E:this.m&&lu(P,this.m,xe)),mn(this.h,ce),this.Ua&&Yt(P,"TYPE","init"),this.P?(Yt(P,"$req",E),Yt(P,"SID","null"),ce.T=!0,Gs(ce,P,null)):Gs(ce,P,E),this.G=2}}else this.G==3&&(f?Pa(this,f):this.i.length==0||uc(this.h)||Pa(this))};function Pa(f,E){var P;E?P=E.l:P=f.U++;const $=Xr(f.I);Yt($,"SID",f.K),Yt($,"RID",P),Yt($,"AID",f.T),Zs(f,$),f.m&&f.o&&lu($,f.m,f.o),P=new Rn(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Oo(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),mn(f.h,P),Gs(P,$,E)}function Zs(f,E){f.H&&W(f.H,function(P,$){Yt(E,$,P)}),f.l&&hc({},function(P,$){Yt(E,$,P)})}function Oo(f,E,P){P=Math.min(f.i.length,P);var $=f.l?m(f.l.Na,f.l,f):null;e:{var ce=f.i;let xe=-1;for(;;){const Oe=["count="+P];xe==-1?0<P?(xe=ce[0].g,Oe.push("ofs="+xe)):xe=0:Oe.push("ofs="+xe);let Et=!0;for(let Ot=0;Ot<P;Ot++){let At=ce[Ot].g;const Gt=ce[Ot].map;if(At-=xe,0>At)xe=Math.max(0,ce[Ot].g-100),Et=!1;else try{au(Gt,Oe,"req"+At+"_")}catch{$&&$(Gt)}}if(Et){$=Oe.join("&");break e}}}return f=f.i.splice(0,P),E.D=f,$}function La(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;ae||z(),Z||(ae(),Z=!0),le.add(E,f),f.v=0}}function jo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Nr(m(f.Fa,f),Da(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Nr(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ka(this),yc(this))};function Ra(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function yc(f){f.g=new Rn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Xr(f.qa);Yt(E,"RID","rpc"),Yt(E,"SID",f.K),Yt(E,"AID",f.T),Yt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Yt(E,"TO",f.ja),Yt(E,"TYPE","xmlhttp"),Zs(f,E),f.m&&f.o&&lu(E,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Po(Xr(E)),P.m=null,P.P=!0,To(P,f)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),jo(this),tt(19))};function _s(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function eo(f,E){var P=null;if(f.g==E){_s(f),Ra(f),f.g=null;var $=2}else if(tu(f.h,E))P=E.D,nu(f.h,E),$=1;else return;if(f.G!=0){if(E.o)if($==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var ce=f.B;$=Gi(),Te($,new ai($,P)),Ca(f)}else La(f);else if(ce=E.s,ce==3||ce==0&&0<E.X||!($==1&&fu(f,E)||$==2&&jo(f)))switch(P&&0<P.length&&(E=f.h,E.i=E.i.concat(P)),ce){case 1:Cr(f,5);break;case 4:Cr(f,10);break;case 3:Cr(f,6);break;default:Cr(f,2)}}}function Da(f,E){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*E}function Cr(f,E){if(f.j.info("Error code "+E),E==2){var P=m(f.fb,f),$=f.Xa;const ce=!$;$=new Nn($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Co($,"https"),Po($),ce?Ki($.toString(),P):pc($.toString(),P)}else tt(2);f.G=0,f.l&&f.l.sa(E),Oa(f),Do(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Oa(f){if(f.G=0,f.ka=[],f.l){const E=ru(f.h);(E.length!=0||f.i.length!=0)&&(I(f.ka,E),I(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function y(f,E,P){var $=P instanceof Nn?Xr(P):new Nn(P);if($.g!="")E&&($.g=E+"."+$.g),ba($,$.s);else{var ce=a.location;$=ce.protocol,E=E?E+"."+ce.hostname:ce.hostname,ce=+ce.port;var xe=new Nn(null);$&&Co(xe,$),E&&(xe.g=E),ce&&ba(xe,ce),P&&(xe.l=P),$=xe}return P=f.D,E=f.ya,P&&E&&Yt($,P,E),Yt($,"VER",f.la),Zs(f,$),$}function F(f,E,P){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Wt(new Aa({eb:P})):new Wt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q(){}t=Q.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ie(){}ie.prototype.g=function(f,E){return new he(f,E)};function he(f,E){me.call(this),this.g=new Na(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!S(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!S(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ge(this)}_(he,me),he.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},he.prototype.close=function(){bs(this.g)},he.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=Rt(f),f=P);E.i.push(new ld(E.Ya++,f)),E.G==3&&Ca(E)},he.prototype.N=function(){this.g.l=null,delete this.j,bs(this.g),delete this.g,he.aa.N.call(this)};function Ae(f){Ai.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const P in E){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}_(Ae,Ai);function Re(){ln.call(this),this.status=1}_(Re,ln);function Ge(f){this.g=f}_(Ge,Q),Ge.prototype.ua=function(){Te(this.g,"a")},Ge.prototype.ta=function(f){Te(this.g,new Ae(f))},Ge.prototype.sa=function(f){Te(this.g,new Re)},Ge.prototype.ra=function(){Te(this.g,"b")},ie.prototype.createWebChannel=ie.prototype.g,he.prototype.send=he.prototype.o,he.prototype.open=he.prototype.m,he.prototype.close=he.prototype.close,UC=function(){return new ie},BC=function(){return Gi()},VC=lt,k2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,eg=kr,li.COMPLETE="complete",FC=li,pn.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",me.prototype.listen=me.prototype.K,Yd=pn,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,MC=Wt}).apply(typeof _m<"u"?_m:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",oE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Gw("@firebase/firestore");function Mc(){return Ku.logLevel}function Ze(t,...e){if(Ku.logLevel<=Mt.DEBUG){const n=e.map(ax);Ku.debug(`Firestore (${ed}): ${t}`,...n)}}function da(t,...e){if(Ku.logLevel<=Mt.ERROR){const n=e.map(ax);Ku.error(`Firestore (${ed}): ${t}`,...n)}}function Mh(t,...e){if(Ku.logLevel<=Mt.WARN){const n=e.map(ax);Ku.warn(`Firestore (${ed}): ${t}`,...n)}}function ax(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zC(t,r,n)}function zC(t,e,n){let r=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw da(r),new Error(r)}function Kt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||zC(e,i,r)}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class Jz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zz{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ia,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ia)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new qC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Vr(e)}}class eq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Kt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Pt(t,e){return t<e?-1:t>e?1:0}function C2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Pt(r,i);{const s=$C(),o=iq(s.encode(lE(t,n)),s.encode(lE(e,n)));return o!==0?o:Pt(r,i)}}n+=r>65535?2:1}return Pt(t.length,e.length)}function lE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function iq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Pt(t[n],e[n]);return Pt(t.length,e.length)}function Fh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=-62135596800,cE=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new ir(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new et(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new et(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uE)throw new et(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ir(0,0))}static max(){return new _t(new ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class uo{constructor(e,n,r){n===void 0?n=0:n>e.length&&gt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&gt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=uo.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Pt(e.length,n.length)}static compareSegments(e,n){const r=uo.isNumericId(e),i=uo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?uo.extractNumericId(e).compare(uo.extractNumericId(n)):C2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Al.fromString(e.substring(4,e.length-2))}}class vn extends uo{construct(e,n,r){return new vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vn(n)}static emptyPath(){return new vn([])}}const sq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends uo{construct(e,n,r){return new _r(e,n,r)}static isValidIdentifier(e){return sq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new _r([hE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new et(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new et(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new et(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new et(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(vn.fromString(e))}static fromName(e){return new at(vn.fromString(e).popFirst(5))}static empty(){return new at(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new vn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function oq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new ir(n+1,0):new ir(n,r));return new Dl(i,at.empty(),e)}function aq(t){return new Dl(t.readTime,t.key,Yf)}class Dl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dl(_t.min(),at.empty(),Yf)}static max(){return new Dl(_t.max(),at.empty(),Yf)}}function lq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:Pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==uq)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.reject(n)}static resolve(e){return new Pe((n,r)=>{n(e)})}static reject(e){return new Pe((n,r)=>{r(e)})}static waitFor(e){return new Pe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Pe.resolve(!1);for(const r of e)n=n.next(i=>i?Pe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Pe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Pe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Y0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=-1;function Q0(t){return t==null}function t0(t){return t===0&&1/t==-1/0}function dq(t){return typeof t=="number"&&Number.isInteger(t)&&!t0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="";function fq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dE(e)),e=pq(t.get(n),e);return dE(e)}function pq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case WC:n+="";break;default:n+=s}}return n}function dE(t){return t+WC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.comparator=e,this.root=n||xr.EMPTY}insert(e,n){return new Tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sm(this.root,e,this.comparator,!0)}}class Sm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=s??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sr(this.comparator);return n.data=e,n}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new sr(_r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KC("Invalid base64 string: "+s):s}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const mq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ol(t){if(Kt(!!t,39018),typeof t=="string"){let e=0;const n=mq.exec(t);if(Kt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="server_timestamp",QC="__type__",XC="__previous_value__",JC="__local_write_time__";function ux(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QC])===null||n===void 0?void 0:n.stringValue)===YC}function X0(t){const e=t.mapValue.fields[XC];return ux(e)?X0(e):e}function Qf(t){const e=Ol(t.mapValue.fields[JC].timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const n0="(default)";class Xf{constructor(e,n){this.projectId=e,this.database=n||n0}static empty(){return new Xf("","")}get isDefaultDatabase(){return this.database===n0}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__type__",eP="__max__",Em={mapValue:{fields:{__type__:{stringValue:eP}}}},tP="__vector__",r0="value";function Ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ux(t)?4:vq(t)?9007199254740991:yq(t)?10:11:gt(28295,{value:t})}function So(t,e){if(t===e)return!0;const n=Ml(t);if(n!==Ml(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qf(t).isEqual(Qf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ol(i.timestampValue),a=Ol(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jl(i.bytesValue).isEqual(jl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mn(i.doubleValue),a=Mn(s.doubleValue);return o===a?t0(o)===t0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fh(t.arrayValue.values||[],e.arrayValue.values||[],So);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fE(o)!==fE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!So(o[l],a[l])))return!1;return!0}(t,e);default:return gt(52216,{left:t})}}function Jf(t,e){return(t.values||[]).find(n=>So(n,e))!==void 0}function Vh(t,e){if(t===e)return 0;const n=Ml(t),r=Ml(e);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Mn(s.integerValue||s.doubleValue),l=Mn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mE(t.timestampValue,e.timestampValue);case 4:return mE(Qf(t),Qf(e));case 5:return C2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=jl(s),l=jl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Pt(a[u],l[u]);if(c!==0)return c}return Pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Pt(Mn(s.latitude),Mn(o.latitude));return a!==0?a:Pt(Mn(s.longitude),Mn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},m=o.fields||{},p=(a=d[r0])===null||a===void 0?void 0:a.arrayValue,_=(l=m[r0])===null||l===void 0?void 0:l.arrayValue,b=Pt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:gE(p,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Em.mapValue&&o===Em.mapValue)return 0;if(s===Em.mapValue)return 1;if(o===Em.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const m=C2(l[d],c[d]);if(m!==0)return m;const p=Vh(a[l[d]],u[c[d]]);if(p!==0)return p}return Pt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw gt(23264,{Pe:n})}}function mE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pt(t,e);const n=Ol(t),r=Ol(e),i=Pt(n.seconds,r.seconds);return i!==0?i:Pt(n.nanos,r.nanos)}function gE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vh(n[i],r[i]);if(s)return s}return Pt(n.length,r.length)}function Bh(t){return P2(t)}function P2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ol(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=P2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${P2(n.fields[o])}`;return i+"}"}(t.mapValue):gt(61005,{value:t})}function tg(t){switch(Ml(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=X0(t);return e?16+tg(e):16;case 5:return 2*t.stringValue.length;case 6:return jl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+tg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ql(r.fields,(s,o)=>{i+=s.length+tg(o)}),i}(t.mapValue);default:throw gt(13486,{value:t})}}function yE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L2(t){return!!t&&"integerValue"in t}function cx(t){return!!t&&"arrayValue"in t}function vE(t){return!!t&&"nullValue"in t}function wE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ng(t){return!!t&&"mapValue"in t}function yq(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZC])===null||n===void 0?void 0:n.stringValue)===tP}function pf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pf(n)}setAll(e){let n=_r.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ql(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yi(pf(this.value))}}function nP(t){const e=[];return Ql(t.fields,(n,r)=>{const i=new _r([n]);if(ng(r)){const s=nP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ur(e,0,_t.min(),_t.min(),_t.min(),yi.empty(),0)}static newFoundDocument(e,n,r,i){return new Ur(e,1,n,_t.min(),r,i,0)}static newNoDocument(e,n){return new Ur(e,2,n,_t.min(),_t.min(),yi.empty(),0)}static newUnknownDocument(e,n){return new Ur(e,3,n,_t.min(),_t.min(),yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.position=e,this.inclusive=n}}function xE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=Vh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!So(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n="asc"){this.field=e,this.dir=n}}function wq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{}class Jn extends rP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bq(e,n,r):n==="array-contains"?new Eq(e,r):n==="in"?new Aq(e,r):n==="not-in"?new Tq(e,r):n==="array-contains-any"?new Iq(e,r):new Jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _q(e,r):new Sq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vh(n,this.value)):n!==null&&Ml(this.value)===Ml(n)&&this.matchesComparison(Vh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends rP{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vs(e,n)}matches(e){return iP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iP(t){return t.op==="and"}function sP(t){return xq(t)&&iP(t)}function xq(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function R2(t){if(t instanceof Jn)return t.field.canonicalString()+t.op.toString()+Bh(t.value);if(sP(t))return t.filters.map(e=>R2(e)).join(",");{const e=t.filters.map(n=>R2(n)).join(",");return`${t.op}(${e})`}}function oP(t,e){return t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.field.isEqual(i.field)&&So(r.value,i.value)}(t,e):t instanceof Vs?function(r,i){return i instanceof Vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oP(o,i.filters[a]),!0):!1}(t,e):void gt(19439)}function aP(t){return t instanceof Jn?function(n){return`${n.field.canonicalString()} ${n.op} ${Bh(n.value)}`}(t):t instanceof Vs?function(n){return n.op.toString()+" {"+n.getFilters().map(aP).join(" ,")+"}"}(t):"Filter"}class bq extends Jn{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class _q extends Jn{constructor(e,n){super(e,"in",n),this.keys=lP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sq extends Jn{constructor(e,n){super(e,"not-in",n),this.keys=lP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>at.fromName(r.referenceValue))}class Eq extends Jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cx(n)&&Jf(n.arrayValue,this.value)}}class Aq extends Jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jf(this.value.arrayValue,n)}}class Tq extends Jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jf(this.value.arrayValue,n)}}class Iq extends Jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function _E(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nq(t,e,n,r,i,s,o)}function hx(t){const e=It(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Q0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bh(r)).join(",")),e.Ie=n}return e.Ie}function dx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}function D2(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kq(t,e,n,r,i,s,o,a){return new rd(t,e,n,r,i,s,o,a)}function fx(t){return new rd(t)}function SE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uP(t){return t.collectionGroup!==null}function mf(t){const e=It(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new sr(_r.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Zf(s,r))}),n.has(_r.keyField().canonicalString())||e.Ee.push(new Zf(_r.keyField(),r))}return e.Ee}function xo(t){const e=It(t);return e.de||(e.de=Cq(e,mf(t))),e.de}function Cq(t,e){if(t.limitType==="F")return _E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zf(i.field,s)});const n=t.endAt?new i0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new i0(t.startAt.position,t.startAt.inclusive):null;return _E(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function O2(t,e){const n=t.filters.concat([e]);return new rd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function s0(t,e,n){return new rd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function J0(t,e){return dx(xo(t),xo(e))&&t.limitType===e.limitType}function cP(t){return`${hx(xo(t))}|lt:${t.limitType}`}function Fc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aP(i)).join(", ")}]`),Q0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bh(i)).join(",")),`Target(${r})`}(xo(t))}; limitType=${t.limitType})`}function Z0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of mf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,mf(r),i)||r.endAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,mf(r),i))}(t,e)}function Pq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hP(t){return(e,n)=>{let r=!1;for(const i of mf(t)){const s=Lq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lq(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Vh(l,u):gt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq=new Tn(at.comparator);function fa(){return Rq}const dP=new Tn(at.comparator);function Qd(...t){let e=dP;for(const n of t)e=e.insert(n.key,n);return e}function fP(t){let e=dP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ou(){return gf()}function pP(){return gf()}function gf(){return new nc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Dq=new Tn(at.comparator),Oq=new sr(at.comparator);function Ft(...t){let e=Oq;for(const n of t)e=e.add(n);return e}const jq=new sr(Pt);function Mq(){return jq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t0(e)?"-0":e}}function mP(t){return{integerValue:""+t}}function Fq(t,e){return dq(e)?mP(e):px(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this._=void 0}}function Vq(t,e,n){return t instanceof o0?function(i,s){const o={fields:{[QC]:{stringValue:YC},[JC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ux(s)&&(s=X0(s)),s&&(o.fields[XC]=s),{mapValue:o}}(n,e):t instanceof Uh?yP(t,e):t instanceof ep?vP(t,e):function(i,s){const o=gP(i,s),a=EE(o)+EE(i.Re);return L2(o)&&L2(i.Re)?mP(a):px(i.serializer,a)}(t,e)}function Bq(t,e,n){return t instanceof Uh?yP(t,e):t instanceof ep?vP(t,e):n}function gP(t,e){return t instanceof a0?function(r){return L2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class o0 extends e1{}class Uh extends e1{constructor(e){super(),this.elements=e}}function yP(t,e){const n=wP(e);for(const r of t.elements)n.some(i=>So(i,r))||n.push(r);return{arrayValue:{values:n}}}class ep extends e1{constructor(e){super(),this.elements=e}}function vP(t,e){let n=wP(e);for(const r of t.elements)n=n.filter(i=>!So(i,r));return{arrayValue:{values:n}}}class a0 extends e1{constructor(e,n){super(),this.serializer=e,this.Re=n}}function EE(t){return Mn(t.integerValue||t.doubleValue)}function wP(t){return cx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.field=e,this.transform=n}}function zq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uh&&i instanceof Uh||r instanceof ep&&i instanceof ep?Fh(r.elements,i.elements,So):r instanceof a0&&i instanceof a0?So(r.Re,i.Re):r instanceof o0&&i instanceof o0}(t.transform,e.transform)}class qq{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class t1{}function xP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mx(t.key,hs.none()):new Sp(t.key,t.data,hs.none());{const n=t.data,r=yi.empty();let i=new sr(_r.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xl(t.key,r,new Fi(i.toArray()),hs.none())}}function $q(t,e,n){t instanceof Sp?function(i,s,o){const a=i.value.clone(),l=TE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xl?function(i,s,o){if(!rg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=TE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(bP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yf(t,e,n,r){return t instanceof Sp?function(s,o,a,l){if(!rg(s.precondition,o))return a;const u=s.value.clone(),c=IE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xl?function(s,o,a,l){if(!rg(s.precondition,o))return a;const u=IE(s.fieldTransforms,l,o),c=o.data;return c.setAll(bP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return rg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Hq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gP(r.transform,i||null);s!=null&&(n===null&&(n=yi.empty()),n.set(r.field,s))}return n||null}function AE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fh(r,i,(s,o)=>zq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sp extends t1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xl extends t1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TE(t,e,n){const r=new Map;Kt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Bq(o,a,n[i]))}return r}function IE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Vq(s,o,e))}return r}class mx extends t1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wq extends t1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$q(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&Fh(this.mutations,e.mutations,(n,r)=>AE(n,r))&&Fh(this.baseMutations,e.baseMutations,(n,r)=>AE(n,r))}}class gx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Dq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,Vt;function Qq(t){switch(t){case Ce.OK:return gt(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return gt(15467,{code:t})}}function _P(t){if(t===void 0)return da("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Yn.OK:return Ce.OK;case Yn.CANCELLED:return Ce.CANCELLED;case Yn.UNKNOWN:return Ce.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return Ce.INTERNAL;case Yn.UNAVAILABLE:return Ce.UNAVAILABLE;case Yn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Yn.NOT_FOUND:return Ce.NOT_FOUND;case Yn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Yn.ABORTED:return Ce.ABORTED;case Yn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Yn.DATA_LOSS:return Ce.DATA_LOSS;default:return gt(39323,{code:t})}}(Vt=Yn||(Yn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=new Al([4294967295,4294967295],0);function NE(t){const e=$C().encode(t),n=new jC;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Al([n,r],0),new Al([i,s],0)]}class yx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xd(`Invalid padding: ${n}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Al.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Al.fromNumber(r)));return i.compare(Xq)===1&&(i=new Al([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=NE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yx(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=NE(e),[r,i]=kE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ep.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new n1(_t.min(),i,new Tn(Pt),fa(),Ft())}}class Ep{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ep(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class SP{constructor(e,n){this.targetId=e,this.Ce=n}}class EP{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CE{constructor(){this.Fe=0,this.Me=PE(),this.xe=Tr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ft(),n=Ft(),r=Ft();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:gt(38017,{changeType:s})}}),new Ep(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=PE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Jq{constructor(e){this.ze=e,this.je=new Map,this.He=fa(),this.Je=Am(),this.Ye=Am(),this.Ze=new Tn(Pt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(D2(s))if(r===0){const o=new at(s.path);this.tt(n,o,Ur.newNoDocument(o,_t.min()))}else Kt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=jl(r).toUint8Array()}catch(l){if(l instanceof KC)return Mh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yx(o,i,s)}catch(l){return Mh(l instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&D2(a.target)){const l=new at(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Ur.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Ft();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new n1(e,n,this.Ze,this.He,r);return this.He=fa(),this.Je=Am(),this.Ye=Am(),this.Ze=new Tn(Pt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new CE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new sr(Pt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new sr(Pt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new CE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Am(){return new Tn(at.comparator)}function PE(){return new Tn(at.comparator)}const Zq={asc:"ASCENDING",desc:"DESCENDING"},e$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t$={and:"AND",or:"OR"};class n${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function j2(t,e){return t.useProto3Json||Q0(e)?e:{value:e}}function l0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r$(t,e){return l0(t,e.toTimestamp())}function bo(t){return Kt(!!t,49232),_t.fromTimestamp(function(n){const r=Ol(n);return new ir(r.seconds,r.nanos)}(t))}function vx(t,e){return M2(t,e).canonicalString()}function M2(t,e){const n=function(i){return new vn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TP(t){const e=vn.fromString(t);return Kt(PP(e),10190,{key:e.toString()}),e}function F2(t,e){return vx(t.databaseId,e.path)}function jy(t,e){const n=TP(e);if(n.get(1)!==t.databaseId.projectId)throw new et(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new et(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(NP(n))}function IP(t,e){return vx(t.databaseId,e)}function i$(t){const e=TP(t);return e.length===4?vn.emptyPath():NP(e)}function V2(t){return new vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NP(t){return Kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LE(t,e,n){return{name:F2(t,e),fields:n.value.mapValue.fields}}function s$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:gt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Kt(c===void 0||typeof c=="string",58123),Tr.fromBase64String(c||"")):(Kt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Tr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ce.UNKNOWN:_P(u.code);return new et(c,u.message||"")}(o);n=new EP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jy(t,r.document.name),s=bo(r.document.updateTime),o=r.document.createTime?bo(r.document.createTime):_t.min(),a=new yi({mapValue:{fields:r.document.fields}}),l=Ur.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ig(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jy(t,r.document),s=r.readTime?bo(r.readTime):_t.min(),o=Ur.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ig([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jy(t,r.document),s=r.removedTargetIds||[];n=new ig([],s,i,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Yq(i,s),a=r.targetId;n=new SP(a,o)}}return n}function o$(t,e){let n;if(e instanceof Sp)n={update:LE(t,e.key,e.value)};else if(e instanceof mx)n={delete:F2(t,e.key)};else if(e instanceof Xl)n={update:LE(t,e.key,e.data),updateMask:m$(e.fieldMask)};else{if(!(e instanceof Wq))return gt(16599,{ft:e.type});n={verify:F2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof o0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ep)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof a0)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw gt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:r$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gt(27497)}(t,e.precondition)),n}function a$(t,e){return t&&t.length>0?(Kt(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?bo(i.updateTime):bo(s);return o.isEqual(_t.min())&&(o=bo(s)),new qq(o,i.transformResults||[])}(n,e))):[]}function l$(t,e){return{documents:[IP(t,e.path)]}}function u$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IP(t,i);const s=function(u){if(u.length!==0)return CP(Vs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:Vc(m.field),direction:d$(m.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=j2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function c$(t){let e=i$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kt(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const m=kP(d);return m instanceof Vs&&sP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(_){return new Zf(Bc(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,Q0(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,p=d.values||[];return new i0(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const m=!d.before,p=d.values||[];return new i0(p,m)}(n.endAt)),kq(e,i,o,s,a,"F",l,u)}function h$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bc(n.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bc(n.unaryFilter.field);return Jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bc(n.unaryFilter.field);return Jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bc(n.unaryFilter.field);return Jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jn.create(Bc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vs.create(n.compositeFilter.filters.map(r=>kP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(n.compositeFilter.op))}(t):gt(30097,{filter:t})}function d$(t){return Zq[t]}function f$(t){return e$[t]}function p$(t){return t$[t]}function Vc(t){return{fieldPath:t.canonicalString()}}function Bc(t){return _r.fromServerFormat(t.fieldPath)}function CP(t){return t instanceof Jn?function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:f$(n.op),value:n.value}}}(t):t instanceof Vs?function(n){const r=n.getFilters().map(i=>CP(i));return r.length===1?r[0]:{compositeFilter:{op:p$(n.op),filters:r}}}(t):gt(54877,{filter:t})}function m$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i,s=_t.min(),o=_t.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.wt=e}}function y$(t){const e=c$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?s0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.Cn=new w$}addToCollectionParentIndex(e,n){return this.Cn.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(Dl.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(Dl.min())}updateCollectionGroup(e,n,r){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class w${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sr(vn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sr(vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LP=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(LP,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new zh(0)}static lr(){return new zh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="LruGarbageCollector",x$=1048576;function OE([t,e],[n,r]){const i=Pt(t,n);return i===0?Pt(e,r):i}class b${constructor(e){this.Er=e,this.buffer=new sr(OE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ze(DE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nd(n)?Ze(DE,"Ignoring IndexedDB error during garbage collection: ",n):await td(n)}await this.mr(3e5)})}}class S${constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Pe.resolve(Y0.le);const r=new b$(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(RE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Mc()<=Mt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function E$(t,e){return new S$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.changes=new nc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yf(r.mutation,i,Fi.empty(),ir.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ft()){const i=Ou();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ou();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fa();const o=gf(),a=function(){return gf()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Xl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),yf(c.mutation,u,c.mutation.getFieldMask(),ir.now())):o.set(u.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new T$(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gf();let i=new Tn((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Fi.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ft()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=pP();c.forEach(m=>{if(!s.has(m)){const p=xP(n.get(m),r.get(m));p!==null&&d.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Pe.resolve(Ou());let a=Yf,l=s;return o.next(u=>Pe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Pe.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ft())).next(c=>({batchId:a,changes:fP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(r=>{let i=Qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qd();return this.indexManager.getCollectionParents(e,s).next(a=>Pe.forEach(a,l=>{const u=function(d,m){return new rd(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ur.newInvalidDocument(c)))});let a=Qd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&yf(c.mutation,u,Fi.empty(),ir.now()),Z0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Pe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bo(i.createTime)}}(n)),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:y$(i.bundledQuery),readTime:bo(i.readTime)}}(n)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.overlays=new Tn(at.comparator),this.Qr=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ou();return Pe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),Pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),Pe.resolve()}getOverlaysForCollection(e,n,r){const i=Ou(),s=n.length+1,o=new at(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Tn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ou(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ou(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Pe.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kq(n,r));let s=this.Qr.get(n);s===void 0&&(s=Ft(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.$r=new sr(ur.Ur),this.Kr=new sr(ur.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ur(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ur(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new at(new vn([])),r=new ur(n,e),i=new ur(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new at(new vn([])),r=new ur(n,e),i=new ur(n,e+1);let s=Ft();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ur(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return at.comparator(e.key,n.key)||Pt(e.Zr,n.Zr)}static Wr(e,n){return Pt(e.Zr,n.Zr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new sr(ur.Ur)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gq(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new ur(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Pe.resolve(o)}lookupMutationBatch(e,n){return Pe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return Pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?lx:this.nr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),Pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sr(Pt);return n.forEach(i=>{const s=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),Pe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new ur(new at(s),0);let a=new sr(Pt);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),Pe.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Pe.forEach(n.mutations,i=>{const s=new ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ur(n,0),i=this.Xr.firstAfterOrEqual(r);return Pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.ii=e,this.docs=function(){return new Tn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Pe.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(n))}getEntries(e,n){let r=fa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ur.newInvalidDocument(i))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fa();const o=n.path,a=new at(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lq(aq(c),r)<=0||(i.has(c.key)||Z0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Pe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){gt(9500)}si(e,n){return Pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R$(this)}getSize(e){return Pe.resolve(this.size)}}class R$ extends A${constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Pe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.persistence=e,this.oi=new nc(n=>hx(n),dx),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this._i=0,this.ai=new wx,this.targetCount=0,this.ui=zh.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Pe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new zh(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.Tr(n),Pe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Pe.waitFor(s).next(()=>i)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Pe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Pe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Pe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Pe.resolve(r)}containsKey(e,n){return Pe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.ci={},this.overlays={},this.li=new Y0(0),this.hi=!1,this.hi=!0,this.Pi=new C$,this.referenceDelegate=e(this),this.Ti=new D$(this),this.indexManager=new v$,this.remoteDocumentCache=function(i){return new L$(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new g$(n),this.Ei=new N$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new P$(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new O$(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return Pe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class O$ extends cq{constructor(e){super(),this.currentSequenceNumber=e}}class xx{constructor(e){this.persistence=e,this.Vi=new wx,this.mi=null}static fi(e){return new xx(e)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Pe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.gi,r=>{const i=at.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,_t.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Pe.or([()=>Pe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class u0{constructor(e,n){this.persistence=e,this.yi=new nc(r=>fq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=E$(this,n)}static fi(e,n){return new u0(e,n)}di(){}Ai(e){return Pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Pe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?Pe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,_t.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Pe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tg(e.data.value)),n}Dr(e,n,r){return Pe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return Pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gV()?8:hq(Gr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new j$;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Mc()<=Mt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Fc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Pe.resolve()):(Mc()<=Mt.DEBUG&&Ze("QueryEngine","Query:",Fc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Mc()<=Mt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Fc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(n))):Pe.resolve())}ws(e,n){if(SE(n))return Pe.resolve(null);let r=xo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=s0(n,null,"F"),r=xo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ft(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,s0(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,i){return SE(n)||i.isEqual(_t.min())?Pe.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?Pe.resolve(null):(Mc()<=Mt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fc(n)),this.Fs(e,o,n,oq(i,Yf)).next(a=>a))})}vs(e,n){let r=new sr(hP(e));return n.forEach((i,s)=>{Z0(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return Mc()<=Mt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Fc(n)),this.ys.getDocumentsMatchingQuery(e,n,Dl.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="LocalStore",F$=3e8;class V${constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Tn(Pt),this.Os=new nc(s=>hx(s),dx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I$(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function B$(t,e,n,r){return new V$(t,e,n,r)}async function DP(t,e){const n=It(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function U$(t,e){const n=It(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,m=d.keys();let p=Pe.resolve();return m.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(b=>{const I=u.docVersions.get(_);Kt(I!==null,48541),b.version.compareTo(I)<0&&(d.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OP(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function z$(t,e){const n=It(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const m=i.get(d);if(!m)return;a.push(n.Ti.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(s,c.addedDocuments,d)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Tr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(b,I,w){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=F$?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,p,c)&&a.push(n.Ti.updateTargetData(s,p))});let l=fa(),u=Ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(q$(s,o,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(_t.min())){const c=n.Ti.getLastRemoteSnapshotVersion(s).next(d=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Pe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function q$(t,e,n){let r=Ft(),i=Ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fa();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_t.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ze(_x,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function $$(t,e){const n=It(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H$(t,e){const n=It(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,Pe.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new hl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function B2(t,e,n){const r=It(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!nd(o))throw o;Ze(_x,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function jE(t,e,n){const r=It(t);let i=_t.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=It(l),m=d.Os.get(c);return m!==void 0?Pe.resolve(d.xs.get(m)):d.Ti.getTargetData(u,c)}(r,o,xo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:_t.min(),n?s:Ft())).next(a=>(W$(r,Pq(e),a),{documents:a,$s:s})))}function W$(t,e,n){let r=t.Ns.get(e)||_t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class ME{constructor(){this.activeTargetIds=Mq()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G${constructor(){this.xo=new ME,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class VE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ze(FE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ze(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function U2(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="RestConnection",Y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q${get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===n0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=U2(),a=this.jo(e,n.toUriEncodedString());Ze(My,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),c=gp(u);return this.Jo(e,a,l,r,c).then(d=>(Ze(My,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Mh(My,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ed}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=Y$[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="WebChannelConnection";class J$ extends Q${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=U2();return new Promise((a,l)=>{const u=new MC;u.setWithCredentials(!0),u.listenOnce(FC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case eg.NO_ERROR:const d=u.getResponseJson();Ze(Rr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case eg.TIMEOUT:Ze(Rr,`RPC '${e}' ${o} timed out`),l(new et(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case eg.HTTP_ERROR:const m=u.getStatus();if(Ze(Rr,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const b=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(S)>=0?S:Ce.UNKNOWN}(_.status);l(new et(b,_.message))}else l(new et(Ce.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new et(Ce.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ze(Rr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ze(Rr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=U2(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UC(),a=BC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ze(Rr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let m=!1,p=!1;const _=new X$({Zo:I=>{p?Ze(Rr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(Ze(Rr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),Ze(Rr,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},Xo:()=>d.close()}),b=(I,w,S)=>{I.listen(w,A=>{try{S(A)}catch(B){setTimeout(()=>{throw B},0)}})};return b(d,Yd.EventType.OPEN,()=>{p||(Ze(Rr,`RPC '${e}' stream ${i} transport opened.`),_.__())}),b(d,Yd.EventType.CLOSE,()=>{p||(p=!0,Ze(Rr,`RPC '${e}' stream ${i} transport closed`),_.u_())}),b(d,Yd.EventType.ERROR,I=>{p||(p=!0,Mh(Rr,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),_.u_(new et(Ce.UNAVAILABLE,"The operation could not be completed")))}),b(d,Yd.EventType.MESSAGE,I=>{var w;if(!p){const S=I.data[0];Kt(!!S,16349);const A=S,B=(A==null?void 0:A.error)||((w=A[0])===null||w===void 0?void 0:w.error);if(B){Ze(Rr,`RPC '${e}' stream ${i} received error:`,B);const K=B.status;let W=function(R){const M=Yn[R];if(M!==void 0)return _P(M)}(K),j=B.message;W===void 0&&(W=Ce.INTERNAL,j="Unknown error status: "+K+" with message "+B.message),p=!0,_.u_(new et(W,j)),d.close()}else Ze(Rr,`RPC '${e}' stream ${i} received:`,S),_.c_(S)}}),b(a,VC.STAT_EVENT,I=>{I.stat===k2.PROXY?Ze(Rr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===k2.NOPROXY&&Ze(Rr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}function Fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){return new n$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class MP{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new jP(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new et(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ze(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Ze(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z$ extends MP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=s$(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?bo(o.readTime):_t.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=V2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=D2(l)?{documents:l$(s,l)}:{query:u$(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AP(s,o.resumeToken);const u=j2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_t.min())>0){a.readTime=l0(s,o.snapshotVersion.toTimestamp());const u=j2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=h$(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=V2(this.serializer),n.removeTarget=e,this.L_(n)}}class eH extends MP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=a$(e.writeResults,e.commitTime),r=bo(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=V2(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>o$(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{}class nH extends tH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new et(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,M2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new et(Ce.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,M2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(Ce.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class rH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(da(n),this.oa=!1):Ze("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="RemoteStore";class iH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{rc(this)&&(Ze(Yu,"Restarting streams for network reachability change."),await async function(l){const u=It(l);u.Ta.add(4),await Ap(u),u.da.set("Unknown"),u.Ta.delete(4),await i1(u)}(this))})}),this.da=new rH(r,i)}}async function i1(t){if(rc(t))for(const e of t.Ia)await e(!0)}async function Ap(t){for(const e of t.Ia)await e(!1)}function FP(t,e){const n=It(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Tx(n)?Ax(n):id(n).M_()&&Ex(n,e))}function Sx(t,e){const n=It(t),r=id(n);n.Pa.delete(e),r.M_()&&VP(n,e),n.Pa.size===0&&(r.M_()?r.N_():rc(n)&&n.da.set("Unknown"))}function Ex(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}id(t).H_(e)}function VP(t,e){t.Aa.Ke(e),id(t).J_(e)}function Ax(t){t.Aa=new Jq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),id(t).start(),t.da._a()}function Tx(t){return rc(t)&&!id(t).F_()&&t.Pa.size>0}function rc(t){return It(t).Ta.size===0}function BP(t){t.Aa=void 0}async function sH(t){t.da.set("Online")}async function oH(t){t.Pa.forEach((e,n)=>{Ex(t,e)})}async function aH(t,e){BP(t),Tx(t)?(t.da.ca(e),Ax(t)):t.da.set("Unknown")}async function lH(t,e,n){if(t.da.set("Online"),e instanceof EP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){Ze(Yu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await c0(t,r)}else if(e instanceof ig?t.Aa.Xe(e):e instanceof SP?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(_t.min()))try{const r=await OP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Pa.get(u);c&&s.Pa.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Pa.get(l);if(!c)return;s.Pa.set(l,c.withResumeToken(Tr.EMPTY_BYTE_STRING,c.snapshotVersion)),VP(s,l);const d=new hl(c.target,l,u,c.sequenceNumber);Ex(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ze(Yu,"Failed to raise snapshot:",r),await c0(t,r)}}async function c0(t,e,n){if(!nd(e))throw e;t.Ta.add(1),await Ap(t),t.da.set("Offline"),n||(n=()=>OP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze(Yu,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await i1(t)})}function UP(t,e){return e().catch(n=>c0(t,n,e))}async function s1(t){const e=It(t),n=Fl(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:lx;for(;uH(e);)try{const i=await $$(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,cH(e,i)}catch(i){await c0(e,i)}zP(e)&&qP(e)}function uH(t){return rc(t)&&t.ha.length<10}function cH(t,e){t.ha.push(e);const n=Fl(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function zP(t){return rc(t)&&!Fl(t).F_()&&t.ha.length>0}function qP(t){Fl(t).start()}async function hH(t){Fl(t).ta()}async function dH(t){const e=Fl(t);for(const n of t.ha)e.Z_(n.mutations)}async function fH(t,e,n){const r=t.ha.shift(),i=gx.from(r,e,n);await UP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await s1(t)}async function pH(t,e){e&&Fl(t).Y_&&await async function(r,i){if(function(o){return Qq(o)&&o!==Ce.ABORTED}(i.code)){const s=r.ha.shift();Fl(r).O_(),await UP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await s1(r)}}(t,e),zP(t)&&qP(t)}async function UE(t,e){const n=It(t);n.asyncQueue.verifyOperationInProgress(),Ze(Yu,"RemoteStore received new credentials");const r=rc(n);n.Ta.add(3),await Ap(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await i1(n)}async function mH(t,e){const n=It(t);e?(n.Ta.delete(2),await i1(n)):e||(n.Ta.add(2),await Ap(n),n.da.set("Unknown"))}function id(t){return t.Ra||(t.Ra=function(n,r,i){const s=It(n);return s.ra(),new Z$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:sH.bind(null,t),n_:oH.bind(null,t),i_:aH.bind(null,t),j_:lH.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Tx(t)?Ax(t):t.da.set("Unknown")):(await t.Ra.stop(),BP(t))})),t.Ra}function Fl(t){return t.Va||(t.Va=function(n,r,i){const s=It(n);return s.ra(),new eH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:hH.bind(null,t),i_:pH.bind(null,t),X_:dH.bind(null,t),ea:fH.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await s1(t)):(await t.Va.stop(),t.ha.length>0&&(Ze(Yu,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ix(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nx(t,e){if(da("AsyncQueue",`${e}: ${t}`),nd(t))return new et(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{static emptySet(e){return new vh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=Qd(),this.sortedSet=new Tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.ma=new Tn(at.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):gt(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class qh{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qh(e,n,vh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class yH{constructor(){this.queries=qE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=It(n),s=i.queries;i.queries=qE(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new et(Ce.ABORTED,"Firestore shutting down"))}}function qE(){return new nc(t=>cP(t),J0)}async function $P(t,e){const n=It(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new gH,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Nx(o,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&kx(n)}async function HP(t,e){const n=It(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vH(t,e){const n=It(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&kx(n)}function wH(t,e,n){const r=It(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function kx(t){t.ba.forEach(e=>{e.next()})}var z2,$E;($E=z2||(z2={})).Ca="default",$E.Cache="cache";class WP{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==z2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.key=e}}class KP{constructor(e){this.key=e}}class xH{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ft(),this.mutatedKeys=Ft(),this.Ha=hP(e),this.Ja=new vh(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new zE,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const m=i.get(c),p=Z0(this.query,d)?d:null,_=!!m&&this.mutatedKeys.has(m.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;m&&p?m.data.isEqual(p.data)?_!==b&&(r.track({type:3,doc:p}),I=!0):this.eu(m,p)||(r.track({type:2,doc:p}),I=!0,(l&&this.Ha(p,l)>0||u&&this.Ha(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),I=!0):m&&!p&&(r.track({type:1,doc:m}),I=!0,(l||u)&&(a=!0)),I&&(p?(o=o.add(p),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((c,d)=>function(p,_){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:I})}};return b(p)-b(_)}(c.type,d.type)||this.Ha(c.doc,d.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new qh(this.query,e.Ja,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new zE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ft(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new KP(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new GP(r))}),n}su(e){this.Ga=e.$s,this.ja=Ft();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return qh.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Cx="SyncEngine";class bH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _H{constructor(e){this.key=e,this._u=!1}}class SH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new nc(a=>cP(a),J0),this.cu=new Map,this.lu=new Set,this.hu=new Tn(at.comparator),this.Pu=new Map,this.Tu=new wx,this.Iu={},this.Eu=new Map,this.du=zh.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function EH(t,e,n=!0){const r=e6(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await YP(r,e,n,!0),i}async function AH(t,e){const n=e6(t);await YP(n,e,!0,!1)}async function YP(t,e,n,r){const i=await H$(t.localStore,xo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await TH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FP(t.remoteStore,i),a}async function TH(t,e,n,r,i){t.Ru=(d,m,p)=>async function(b,I,w,S){let A=I.view.Za(w);A.Cs&&(A=await jE(b.localStore,I.query,!1).then(({documents:j})=>I.view.Za(j,A)));const B=S&&S.targetChanges.get(I.targetId),K=S&&S.targetMismatches.get(I.targetId)!=null,W=I.view.applyChanges(A,b.isPrimaryClient,B,K);return WE(b,I.targetId,W.ru),W.snapshot}(t,d,m,p);const s=await jE(t.localStore,e,!0),o=new xH(e,s.$s),a=o.Za(s.documents),l=Ep.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);WE(t,n,u.ru);const c=new bH(e,n,o);return t.uu.set(e,c),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function IH(t,e,n){const r=It(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!J0(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sx(r.remoteStore,i.targetId),q2(r,i.targetId)}).catch(td)):(q2(r,i.targetId),await B2(r.localStore,i.targetId,!0))}async function NH(t,e){const n=It(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sx(n.remoteStore,r.targetId))}async function kH(t,e,n){const r=jH(t);try{const i=await function(o,a){const l=It(o),u=ir.now(),c=a.reduce((p,_)=>p.add(_.key),Ft());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=fa(),b=Ft();return l.Bs.getEntries(p,c).next(I=>{_=I,_.forEach((w,S)=>{S.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(I=>{d=I;const w=[];for(const S of a){const A=Hq(S,d.get(S.key).overlayedDocument);A!=null&&w.push(new Xl(S.key,A,nP(A.value.mapValue),hs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(I=>{m=I;const w=I.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(p,I.batchId,w)})}).then(()=>({batchId:m.batchId,changes:fP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Tn(Pt)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Tp(r,i.changes),await s1(r.remoteStore)}catch(i){const s=Nx(i,"Failed to persist write");n.reject(s)}}async function QP(t,e){const n=It(t);try{const r=await z$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(Kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?Kt(o._u,14607):i.removedDocuments.size>0&&(Kt(o._u,42227),o._u=!1))}),await Tp(n,r,e)}catch(r){await td(r)}}function HE(t,e,n){const r=It(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=It(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const m of d.ya)m.Da(a)&&(u=!0)}),u&&kx(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CH(t,e,n){const r=It(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new Tn(at.comparator);o=o.insert(s,Ur.newNoDocument(s,_t.min()));const a=Ft().add(s),l=new n1(_t.min(),new Map,new Tn(Pt),o,a);await QP(r,l),r.hu=r.hu.remove(s),r.Pu.delete(e),Px(r)}else await B2(r.localStore,e,!1).then(()=>q2(r,e,n)).catch(td)}async function PH(t,e){const n=It(t),r=e.batch.batchId;try{const i=await U$(n.localStore,e);JP(n,r,null),XP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tp(n,i)}catch(i){await td(i)}}async function LH(t,e,n){const r=It(t);try{const i=await function(o,a){const l=It(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Kt(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);JP(r,e,n),XP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tp(r,i)}catch(i){await td(i)}}function XP(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function JP(t,e,n){const r=It(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function q2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||ZP(t,r)})}function ZP(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Sx(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Px(t))}function WE(t,e,n){for(const r of n)r instanceof GP?(t.Tu.addReference(r.key,e),RH(t,r)):r instanceof KP?(Ze(Cx,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||ZP(t,r.key)):gt(19791,{mu:r})}function RH(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Ze(Cx,"New document in limbo: "+n),t.lu.add(r),Px(t))}function Px(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new at(vn.fromString(e)),r=t.du.next();t.Pu.set(r,new _H(n)),t.hu=t.hu.insert(n,r),FP(t.remoteStore,new hl(xo(fx(n.path)),r,"TargetPurposeLimboResolution",Y0.le))}}async function Tp(t,e,n){const r=It(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=bx.Rs(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.au.j_(i),await async function(l,u){const c=It(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Pe.forEach(u,m=>Pe.forEach(m.ds,p=>c.persistence.referenceDelegate.addReference(d,m.targetId,p)).next(()=>Pe.forEach(m.As,p=>c.persistence.referenceDelegate.removeReference(d,m.targetId,p)))))}catch(d){if(!nd(d))throw d;Ze(_x,"Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const p=c.xs.get(m),_=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(_);c.xs=c.xs.insert(m,b)}}}(r.localStore,s))}async function DH(t,e){const n=It(t);if(!n.currentUser.isEqual(e)){Ze(Cx,"User change. New user:",e.toKey());const r=await DP(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new et(Ce.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tp(n,r.ks)}}function OH(t,e){const n=It(t),r=n.Pu.get(e);if(r&&r._u)return Ft().add(r.key);{let i=Ft();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function e6(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CH.bind(null,e),e.au.j_=vH.bind(null,e.eventManager),e.au.Vu=wH.bind(null,e.eventManager),e}function jH(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LH.bind(null,e),e}class h0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=r1(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return B$(this.persistence,new M$,e.initialUser,this.serializer)}yu(e){return new RP(xx.fi,this.serializer)}pu(e){return new G$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}h0.provider={build:()=>new h0};class MH extends h0{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Kt(this.persistence.referenceDelegate instanceof u0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _$(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new RP(r=>u0.fi(r,n),this.serializer)}}class $2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DH.bind(null,this.syncEngine),await mH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yH}()}createDatastore(e){const n=r1(e.databaseInfo.databaseId),r=function(s){return new J$(s)}(e.databaseInfo);return function(s,o,a,l){return new nH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new iH(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HE(this.syncEngine,n,0),function(){return VE.C()?new VE:new K$}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new SH(i,s,o,a,l,u);return c&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=It(i);Ze(Yu,"RemoteStore shutting down."),s.Ta.add(5),await Ap(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$2.provider={build:()=>new $2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="FirestoreClient";class FH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vr.UNAUTHENTICATED,this.clientId=HC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ze(Vl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze(Vl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vy(t,e){t.asyncQueue.verifyOperationInProgress(),Ze(Vl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VH(t);Ze(Vl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UE(e.remoteStore,i)),t._onlineComponents=e}async function VH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze(Vl,"Using user provided OfflineComponentProvider");try{await Vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mh("Error using user provided cache. Falling back to memory cache: "+n),await Vy(t,new h0)}}else Ze(Vl,"Using default OfflineComponentProvider"),await Vy(t,new MH(void 0));return t._offlineComponents}async function n6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze(Vl,"Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(Ze(Vl,"Using default OnlineComponentProvider"),await GE(t,new $2))),t._onlineComponents}function BH(t){return n6(t).then(e=>e.syncEngine)}async function r6(t){const e=await n6(t),n=e.eventManager;return n.onListen=EH.bind(null,e.syncEngine),n.onUnlisten=IH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NH.bind(null,e.syncEngine),n}function UH(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new t6({next:m=>{c.Cu(),o.enqueueAndForget(()=>HP(s,d));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new et(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new et(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new WP(fx(a.path),c,{includeMetadataChanges:!0,La:!0});return $P(s,d)}(await r6(t),t.asyncQueue,e,n,r)),r.promise}function zH(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new t6({next:m=>{c.Cu(),o.enqueueAndForget(()=>HP(s,d)),m.fromCache&&l.source==="server"?u.reject(new et(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new WP(a,c,{includeMetadataChanges:!0,La:!0});return $P(s,d)}(await r6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e,n){if(!n)throw new et(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qH(t,e,n,r){if(e===!0&&r===!0)throw new et(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YE(t){if(!at.isDocumentKey(t))throw new et(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QE(t){if(at.isDocumentKey(t))throw new et(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":gt(12329,{type:typeof t})}function Bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new et(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=o1(t);throw new et(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="firestore.googleapis.com",XE=!0;class JE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new et(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o6,this.ssl=XE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x$)throw new et(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Xz;switch(r.type){case"firstParty":return new tq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KE.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),KE.delete(n),r.terminate())}(this),Promise.resolve()}}function $H(t,e,n,r={}){var i;t=Bs(t,a1);const s=gp(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(Kk(`https://${l}`),Yk("Firestore",!0)),o.host!==o6&&o.host!==l&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Rl(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Vr.MOCK_USER;else{c=aV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new et(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Vr(m)}t._authCredentials=new Jz(new qC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jl(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class Tl extends Jl{constructor(e,n,r){super(e,n,fx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new at(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function Sr(t,e,...n){if(t=or(t),s6("collection","path",e),t instanceof a1){const r=vn.fromString(e,...n);return QE(r),new Tl(t,null,r)}{if(!(t instanceof ri||t instanceof Tl))throw new et(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return QE(r),new Tl(t.firestore,null,r)}}function ii(t,e,...n){if(t=or(t),arguments.length===1&&(e=HC.newId()),s6("doc","path",e),t instanceof a1){const r=vn.fromString(e,...n);return YE(r),new ri(t,null,new at(r))}{if(!(t instanceof ri||t instanceof Tl))throw new et(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return YE(r),new ri(t.firestore,t instanceof Tl?t.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class eA{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new jP(this,"async_queue_retry"),this.ec=()=>{const r=Fy();r&&Ze(ZE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Fy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ia;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!nd(e))throw e;Ze(ZE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,da("INTERNAL UNHANDLED ERROR: ",tA(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=Ix.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&gt(47125,{_c:tA(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function tA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ic extends a1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eA(e),this._firestoreClient=void 0,await e}}}function HH(t,e){const n=typeof t=="object"?t:Zk(),r=typeof t=="string"?t:n0,i=Yw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sV("firestore");s&&$H(i,...s)}return i}function Lx(t){if(t._terminated)throw new et(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WH(t),t._firestoreClient}function WH(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new gq(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,i6(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FH(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $h(Tr.fromBase64String(e))}catch(n){throw new et(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $h(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new et(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new et(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new et(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=/^__.*__$/;class KH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sp(e,this.data,n,this.fieldTransforms)}}class a6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{hc:t})}}class c1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new c1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return d0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(l6(this.hc)&&GH.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class YH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||r1(e)}gc(e,n,r,i=!1){return new c1({hc:e,methodName:n,fc:r,path:_r.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h1(t){const e=t._freezeSettings(),n=r1(t._databaseId);return new YH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u6(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);jx("Data must be an object, but it was:",o,r);const a=c6(r,o);let l,u;if(s.merge)l=new Fi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const m=H2(e,d,n);if(!o.contains(m))throw new et(Ce.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);d6(c,m)||c.push(m)}l=new Fi(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new KH(new yi(a),l,u)}class d1 extends u1{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof d1}}function QH(t,e,n){return new c1({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ox extends u1{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=QH(this,e,!0),r=this.yc.map(s=>sd(s,n)),i=new Uh(r);return new Uq(e.path,i)}isEqual(e){return e instanceof Ox&&Rl(this.yc,e.yc)}}function XH(t,e,n,r){const i=t.gc(1,e,n);jx("Data must be an object, but it was:",i,r);const s=[],o=yi.empty();Ql(r,(l,u)=>{const c=Mx(e,l,n);u=or(u);const d=i.Ac(c);if(u instanceof d1)s.push(c);else{const m=sd(u,d);m!=null&&(s.push(c),o.set(c,m))}});const a=new Fi(s);return new a6(o,a,i.fieldTransforms)}function JH(t,e,n,r,i,s){const o=t.gc(1,e,n),a=[H2(e,r,n)],l=[i];if(s.length%2!=0)throw new et(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(H2(e,s[m])),l.push(s[m+1]);const u=[],c=yi.empty();for(let m=a.length-1;m>=0;--m)if(!d6(u,a[m])){const p=a[m];let _=l[m];_=or(_);const b=o.Ac(p);if(_ instanceof d1)u.push(p);else{const I=sd(_,b);I!=null&&(u.push(p),c.set(p,I))}}const d=new Fi(u);return new a6(c,d,o.fieldTransforms)}function ZH(t,e,n,r=!1){return sd(n,t.gc(r?4:3,e))}function sd(t,e){if(h6(t=or(t)))return jx("Unsupported field value:",e,t),c6(t,e);if(t instanceof u1)return function(r,i){if(!l6(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=sd(a,i.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Fq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ir.fromDate(r);return{timestampValue:l0(i.serializer,s)}}if(r instanceof ir){const s=new ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:l0(i.serializer,s)}}if(r instanceof Rx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $h)return{bytesValue:AP(i.serializer,r._byteString)};if(r instanceof ri){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dx)return function(o,a){return{mapValue:{fields:{[ZC]:{stringValue:tP},[r0]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return px(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${o1(r)}`)}(t,e)}function c6(t,e){const n={};return GC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,(r,i)=>{const s=sd(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function h6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof Rx||t instanceof $h||t instanceof ri||t instanceof u1||t instanceof Dx)}function jx(t,e,n){if(!h6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=o1(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function H2(t,e,n){if((e=or(e))instanceof l1)return e._internalPath;if(typeof e=="string")return Mx(t,e);throw d0("Field path arguments must be of type string or ",t,!1,void 0,n)}const eW=new RegExp("[~\\*/\\[\\]]");function Mx(t,e,n){if(e.search(eW)>=0)throw d0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new l1(...e.split("."))._internalPath}catch{throw d0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function d0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new et(Ce.INVALID_ARGUMENT,a+t+l)}function d6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tW extends f6{data(){return super.data()}}function f1(t,e){return typeof e=="string"?Mx(t,e):e instanceof l1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new et(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fx{}class Vx extends Fx{}function Ds(t,e,...n){let r=[];e instanceof Fx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Bx).length,a=s.filter(l=>l instanceof p1).length;if(o>1||o>0&&a>0)throw new et(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class p1 extends Vx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new p1(e,n,r)}_apply(e){const n=this._parse(e);return p6(e._query,n),new Jl(e.firestore,e.converter,O2(e._query,n))}_parse(e){const n=h1(e.firestore);return function(s,o,a,l,u,c,d){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){rA(d,c);const _=[];for(const b of d)_.push(nA(l,s,b));m={arrayValue:{values:_}}}else m=nA(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rA(d,c),m=ZH(a,o,d,c==="in"||c==="not-in");return Jn.create(u,c,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,n){const r=e,i=f1("where",t);return p1._create(i,r,n)}class Bx extends Fx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)p6(o,l),o=O2(o,l)}(e._query,n),new Jl(e.firestore,e.converter,O2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ux extends Vx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ux(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zf(s,o)}(e._query,this._field,this._direction);return new Jl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new rd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function rW(t,e="asc"){const n=e,r=f1("orderBy",t);return Ux._create(r,n)}class zx extends Vx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zx(e,n,r)}_apply(e){return new Jl(e.firestore,e.converter,s0(e._query,this._limit,this._limitType))}}function iW(t){return zx._create("limit",t,"F")}function nA(t,e,n){if(typeof(n=or(n))=="string"){if(n==="")throw new et(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uP(e)&&n.indexOf("/")!==-1)throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vn.fromString(n));if(!at.isDocumentKey(r))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yE(t,new at(r))}if(n instanceof ri)return yE(t,n._key);throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o1(n)}.`)}function rA(t,e){if(!Array.isArray(t)||t.length===0)throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new et(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sW{convertValue(e,n="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ql(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[r0].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Mn(o.doubleValue));return new Dx(s)}convertGeoPoint(e){return new Rx(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qf(e));default:return null}}convertTimestamp(e){const n=Ol(e);return new ir(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vn.fromString(e);Kt(PP(r),9688,{name:e});const i=new Xf(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(n)||da(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g6 extends f6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sg extends g6{data(e={}){return super.data(e)}}class oW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sg(this._firestore,this._userDataWriter,r.key,r,new Jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new et(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new sg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new sg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:aW(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){t=Bs(t,ri);const e=Bs(t.firestore,ic);return UH(Lx(e),t._key).then(n=>uW(e,t,n))}class y6 extends sW{constructor(e){super(),this.firestore=e}convertBytes(e){return new $h(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function us(t){t=Bs(t,Jl);const e=Bs(t.firestore,ic),n=Lx(e),r=new y6(e);return nW(t._query),zH(n,t._query).then(i=>new oW(e,r,t,i))}function Hh(t,e,n){t=Bs(t,ri);const r=Bs(t.firestore,ic),i=m6(t.converter,e,n);return m1(r,[u6(h1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hs.none())])}function qx(t,e,n,...r){t=Bs(t,ri);const i=Bs(t.firestore,ic),s=h1(i);let o;return o=typeof(e=or(e))=="string"||e instanceof l1?JH(s,"updateDoc",t._key,e,n,r):XH(s,"updateDoc",t._key,e),m1(i,[o.toMutation(t._key,hs.exists(!0))])}function lW(t){return m1(Bs(t.firestore,ic),[new mx(t._key,hs.none())])}function $x(t,e){const n=Bs(t.firestore,ic),r=ii(t),i=m6(t.converter,e);return m1(n,[u6(h1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hs.exists(!1))]).then(()=>r)}function m1(t,e){return function(r,i){const s=new ia;return r.asyncQueue.enqueueAndForget(async()=>kH(await BH(r),i,s)),s.promise}(Lx(t),e)}function uW(t,e,n){const r=n.docs.get(e._key),i=new y6(t);return new g6(t,i,e._key,r,new Jd(n.hasPendingWrites,n.fromCache),e.converter)}function cW(...t){return new Ox("arrayUnion",t)}(function(e,n=!0){(function(i){ed=i})(Jh),jh(new Hu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ic(new Zz(r.getProvider("auth-internal")),new nq(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new et(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),El(sE,oE,e),El(sE,oE,"esm2017")})();const hW={apiKey:"AIzaSyCwvgerlNUuOIDK2TGhRN9j2aygG6CdpAM",authDomain:"medilink-6e93a.firebaseapp.com",projectId:"medilink-6e93a",storageBucket:"medilink-6e93a.firebasestorage.app",messagingSenderId:"273101035846",appId:"1:273101035846:web:8129e41bda810823b7ad47"},v6=Jk(hW),sa=Yz(v6),Zt=HH(v6);EC(sa,W0).catch(t=>{console.error("Error setting Firebase persistence:",t)});const Wi=Uk(t=>({user:null,isLoading:!0,setUser:e=>t({user:e,isLoading:!1}),initializeAuth:()=>{t({isLoading:!0});const e=FU(sa,async n=>{if(n)try{const r=await tp(ii(Zt,"users",n.uid));if(r.exists()){const i=r.data();t({user:{id:n.uid,name:i.name||n.displayName||"Unknown",email:i.email||n.email,role:i.role||"patient"},isLoading:!1})}else t({user:{id:n.uid,name:n.displayName||"Unknown",email:n.email||void 0,role:"patient"},isLoading:!1})}catch(r){console.error("Error fetching user data:",r),t({user:null,isLoading:!1})}else t({user:null,isLoading:!1})});return()=>e()}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Lt=(t,e)=>{const n=ne.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>ne.createElement("svg",{ref:c,...dW,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${fW(t)}`,a].join(" "),...u},[...e.map(([d,m])=>ne.createElement(d,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Lt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Lt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Lt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Lt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=Lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Lt("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Lt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Lt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Lt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Lt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Lt("MonitorCheck",[["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Lt("MonitorDot",[["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}],["path",{d:"M22 12v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h9",key:"1fet9y"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Lt("MonitorX",[["path",{d:"m14.5 12.5-5-5",key:"1jahn5"}],["path",{d:"m9.5 12.5 5-5",key:"1k2t7b"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Lt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Lt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=Lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Lt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=Lt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=Lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PW=()=>{const t=ec(),n=Ym(p=>p.notifications).filter(p=>!p.read).length,[r,i]=ne.useState(!1),[s,o]=ne.useState(!1),{user:a,setUser:l}=Wi(),u=ga(),c=async()=>{try{await VU(sa),l(null),i(!1),o(!1),u("/login")}catch(p){console.error("Logout Error:",p)}},d=()=>{o(!s)},m=[{to:"/",icon:xW,label:"Home"},{to:"/doctors",icon:oh,label:"Doctors"},{to:"/community",icon:T6,label:"Community"},{to:"/chat-history",icon:Hx,label:"AI Chat"},...a&&a.role==="admin-1"?[{to:"/admin",icon:TW,label:"Admin Dashboard"}]:[]];return v.jsxs("nav",{className:"fixed top-0 left-0 right-0 bg-gray-900/90 border-b border-cyan-500/30 z-50 backdrop-blur-md shadow-[0_0_10px_rgba(34,211,238,0.3)]",children:[v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"flex items-center justify-between h-16",children:[v.jsxs(lo,{to:"/",className:"flex items-center space-x-2",children:[v.jsx(Yx,{className:"w-8 h-8 text-cyan-400"}),v.jsx("span",{className:"text-xl font-bold neon-text",children:"MediLink"})]}),v.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[m.map(({to:p,icon:_,label:b})=>v.jsxs(lo,{to:p,className:"relative group",children:[v.jsxs("div",{className:`flex items-center ${t.pathname===p?"text-cyan-400 neon-text":"text-gray-300"} space-x-2 hover:text-cyan-400 transition-colors`,children:[v.jsx(_,{className:"w-5 h-5"}),v.jsx("span",{children:b})]}),t.pathname===p&&v.jsx(ct.div,{layoutId:"navbar-indicator",className:"absolute bottom-[-2px] left-0 right-0 h-0.5 bg-cyan-400 shadow-[0_0_5px_rgba(34,211,238,0.5)]",initial:!1,transition:{type:"spring",stiffness:300,damping:20}})]},p)),v.jsx(lo,{to:"/notifications",className:"relative",children:v.jsxs("div",{className:"relative group",children:[v.jsx(iA,{className:`w-6 h-6 hover:text-cyan-400 transition-colors ${t.pathname==="/notifications"?"text-cyan-400 neon-text":"text-gray-300"}`}),n>0&&v.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500/50 animate-pulse group-hover:animate-none backdrop-blur-sm text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n})]})}),a?v.jsxs("div",{className:"relative flex items-center space-x-4",children:[v.jsx("button",{onClick:d,className:"text-cyan-400 hover:text-cyan-200 transition-colors","aria-label":"User profile",children:v.jsx(np,{className:"w-6 h-6"})}),s&&v.jsxs(ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-12 right-0 bg-gray-800/90 border border-cyan-500/50 rounded-lg p-4 w-64 backdrop-blur-md shadow-[0_0_10px_rgba(34,211,238,0.3)]",children:[v.jsx("p",{className:"text-cyan-400 neon-text font-bold",children:a.name}),v.jsx("p",{className:"text-gray-400 text-sm",children:a.email||"No email available"}),v.jsxs("p",{className:"text-gray-400 text-sm",children:["Role: ",a.role]}),v.jsxs("div",{className:"mt-4 flex space-x-2",children:[v.jsxs("button",{onClick:c,className:"cyber-button flex-1 flex items-center justify-center space-x-2 text-gray-900",children:[v.jsx(By,{className:"w-4 h-4"}),v.jsx("span",{children:"Logout"})]}),v.jsx("button",{onClick:d,className:"flex-1 text-gray-400 hover:text-cyan-400 text-sm underline",children:"Close"})]})]})]}):v.jsxs(lo,{to:"/login",className:"cyber-button py-2 px-4 text-gray-900 hover:bg-cyan-400 transition-colors",children:[v.jsx(W2,{className:"w-5 h-5 inline-block mr-2"}),"Login"]})]}),v.jsx("button",{onClick:()=>i(!r),className:"lg:hidden text-gray-300 z-50 hover:text-cyan-400 transition-colors",children:r?v.jsx(I6,{className:"w-6 h-6 z-50"}):v.jsx(bW,{className:"w-6 h-6"})})]})}),v.jsx(ct.div,{initial:{x:"100%"},animate:{x:r?0:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 bottom-0 w-3/4 bg-gray-900/95 p-6 lg:hidden border-l border-cyan-500/30",children:v.jsxs("div",{className:"flex flex-col space-y-6",children:[m.map(({to:p,icon:_,label:b})=>v.jsxs(lo,{to:p,onClick:()=>i(!1),className:`flex ${t.pathname===p?"text-cyan-400 neon-text":"text-gray-300"} items-center space-x-2 hover:text-cyan-400 transition-colors`,children:[v.jsx(_,{className:"w-6 h-6"}),v.jsx("span",{children:b})]},p)),v.jsxs(lo,{to:"/notifications",onClick:()=>i(!1),className:`relative flex items-center space-x-2 ${t.pathname==="/notifications"?"text-cyan-400 neon-text":"text-gray-300"} hover:text-cyan-400 transition-colors`,children:[v.jsx(iA,{className:"w-6 h-6"}),v.jsx("span",{children:"Notifications"}),n>0&&v.jsx("span",{className:"absolute top-1 left-24 text-gray-300 bg-red-500/50 text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n})]}),a?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative flex items-center space-x-2",children:[v.jsxs("button",{onClick:d,className:"text-cyan-400 hover:text-cyan-200 transition-colors","aria-label":"User profile",children:[v.jsx(np,{className:"w-6 h-6"}),v.jsx("span",{className:"text-gray-300 hover:text-cyan-400",children:"Profile"})]}),s&&v.jsxs(ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-10 left-0 bg-gray-800/90 border border-cyan-500/50 rounded-lg p-4 w-64 backdrop-blur-md shadow-[0_0_10px_rgba(34,211,238,0.3)]",children:[v.jsx("p",{className:"text-cyan-400 neon-text font-bold",children:a.name}),v.jsx("p",{className:"text-gray-400 text-sm",children:a.email||"No email available"}),v.jsxs("p",{className:"text-gray-400 text-sm",children:["Role: ",a.role]}),v.jsxs("div",{className:"mt-4 flex space-x-2",children:[v.jsxs("button",{onClick:c,className:"cyber-button flex-1 flex items-center justify-center space-x-2 text-gray-900",children:[v.jsx(By,{className:"w-4 h-4"}),v.jsx("span",{children:"Logout"})]}),v.jsx("button",{onClick:d,className:"flex-1 text-gray-400 hover:text-cyan-400 text-sm underline",children:"Close"})]})]})]}),v.jsxs("button",{onClick:c,className:"flex items-center space-x-2 text-gray-300 hover:text-cyan-400 transition-colors",children:[v.jsx(By,{className:"w-6 h-6"}),v.jsx("span",{children:"Logout"})]})]}):v.jsxs(lo,{to:"/login",onClick:()=>i(!1),className:"flex items-center space-x-2 cyber-button py-2 px-4 text-gray-900 hover:bg-cyan-400 transition-colors",children:[v.jsx(W2,{className:"w-6 h-6 inline-block mr-2"}),v.jsx("span",{children:"Login"})]})]})})]})},LW=({message:t,type:e,onClose:n})=>{const[r,i]=ne.useState(!1),[s,o]=ne.useState(!1),a={success:"from-green-500/20 to-green-700/20 text-green-300 border border-green-500",error:"from-red-500/20 to-red-700/20 text-red-300 border border-red-500",info:"from-cyan-500/20 to-cyan-700/20 text-cyan-300 border border-cyan-500"},l={success:"bg-gradient-to-r from-transparent via-green-500/30 to-transparent ",error:"bg-gradient-to-r from-transparent via-red-500/30 to-transparent ",info:"bg-gradient-to-r from-transparent via-cyan-500/30 to-transparent "},u={success:"text-green-300 hover:text-green-100",error:"text-red-300 hover:text-red-100",info:"text-cyan-300 hover:text-cyan-100"},c={success:"bg-gradient-to-r from-green-400 to-transparent ",error:"bg-gradient-to-r from-red-400 to-transparent ",info:"bg-gradient-to-r from-cyan-400 to-transparent "};ne.useEffect(()=>{if(!s){const p=setInterval(()=>{m(_=>_<=0?(clearInterval(p),n(),0):_-2)},100);return()=>clearInterval(p)}},[s,n]);const[d,m]=ne.useState(100);return v.jsxs(ct.div,{initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.8},transition:{type:"spring",stiffness:200,damping:20},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:`absolute top-20 w-96 right-8 z-50 px-6 py-4 overflow-hidden rounded-lg bg-gradient-to-br ${a[e]} backdrop-blur-lg shadow-lg`,children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs(ct.div,{className:"mr-4",animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:[e==="success"&&v.jsx(_W,{className:"w-6 h-6 text-green-300"}),e==="error"&&v.jsx(EW,{className:"w-6 h-6 text-red-300"}),e==="info"&&v.jsx(SW,{className:"w-6 h-6 text-cyan-300"})]}),v.jsxs("div",{className:"text-lg font-semibold overflow-hidden",children:[r?t:t.substring(0,50)+"..."," "]}),v.jsx("button",{onClick:()=>i(p=>!p),className:`ml-5 transition-transform transform hover:scale-110 ${u[e]}`,children:r?v.jsx(Kx,{className:"w-6 h-6"}):v.jsx(Gx,{className:"w-6 h-6"})}),v.jsx("button",{onClick:n,className:`ml-5 transition-transform transform hover:scale-110 ${u[e]}`,children:v.jsx(I6,{className:"w-6 h-6"})})]}),v.jsx("div",{className:`absolute bottom-0  h-[5px] left-0 w-full bg-transparent ${c[e]}`,style:{width:`${d}%`,transition:"width 0.1s ease"}}),v.jsx("div",{className:`absolute inset-0 ${l[e]} `,style:{transform:"translateX(-100%)",animation:"slide-highlight 2s linear infinite"}})]})},RW=()=>{const[t,e]=ne.useState(null),n=(i,s)=>{e({message:i,type:s})},r=()=>{e(null)};return v.jsxs("div",{children:[v.jsx("button",{onClick:()=>n("Everything is running smoothly!","success"),children:"Show Success Alert"}),v.jsx("button",{onClick:()=>n("Something went wrong!","error"),children:"Show Error Alert"}),v.jsx("button",{onClick:()=>n("Check out the new updates.","info"),children:"Show Info Alert"}),v.jsx(jk,{children:t&&v.jsx(LW,{message:t.message,type:t.type,onClose:r})})]})},DW=[{icon:oh,title:"Doctor Rankings",description:"Rate and review healthcare professionals based on your experience.",link:"/doctors"},{icon:T6,title:"Community",description:"Join discussions and share your healthcare journey with others.",link:"/community"},{icon:Hx,title:"AI Assistant",description:"Get instant help with finding the right healthcare provider.",link:"/chat-history"},{icon:Wx,title:"Request Medical Center Admin",description:"Apply to manage a medical center and add doctors to MediLink.",link:"/reg"}],OW=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[v.jsx(RW,{}),v.jsx("h1",{className:"text-5xl font-bold neon-text",children:"Welcome to MediLink"}),v.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"The future of healthcare ratings is here. Connect with top medical professionals and make informed decisions about your health."})]}),v.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-8 mt-12",children:DW.map((t,e)=>v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.2},children:v.jsx(lo,{to:t.link,children:v.jsxs("div",{className:"cyber-card p-6 h-full hover:scale-105 transition-transform duration-300",children:[v.jsx(t.icon,{className:"w-12 h-12 text-cyan-400 mb-4"}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),v.jsx("p",{className:"text-gray-400",children:t.description})]})})},t.title))}),v.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"cyber-card p-8 mt-12",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Why Choose MediLink?"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Transparent Ratings"}),v.jsx("p",{className:"text-gray-400",children:"Our platform ensures authentic reviews from verified patients."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"AI-Powered Matching"}),v.jsx("p",{className:"text-gray-400",children:"Let our AI help you find the perfect healthcare provider."})]})]})]})]}),jW=({doctor:t})=>{const{user:e}=Wi(),[n,r]=ne.useState(!1),[i,s]=ne.useState(!1),o=async()=>{if(!(!e||e.role!=="admin-1")){s(!0);try{const a=ii(Zt,"doctors",t.id),l=t.availability.status==="Available"?"Unavailable":"Available";await qx(a,{"availability.status":l,isAvailable:l==="Available",updatedAt:new Date().toISOString(),updatedBy:e.id}),r(!1)}catch(a){console.error("Error updating availability:",a)}finally{s(!1)}}};return v.jsxs("div",{className:"relative mt-2",children:[v.jsx("button",{onClick:()=>r(!0),className:`px-2 py-1 rounded text-sm font-medium text-white transition-all duration-200 ${t.availability.status==="Available"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-600"}`,children:t.availability.status}),v.jsx(jk,{children:n&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:v.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 p-5 rounded-md shadow-lg border border-cyan-500/30",children:[v.jsx("h3",{className:"text-md font-bold text-cyan-50 mb-3",children:"Confirm Availability"}),v.jsxs("p",{className:"text-gray-400 mb-4",children:["Set ",t.name," to ",t.availability.status==="Available"?"Unavailable":"Available","?"]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>r(!1),className:"px-3 py-1 bg-gray-800 text-cyan-50 rounded hover:bg-gray-700 transition",children:"Cancel"}),v.jsx("button",{onClick:o,disabled:i,className:`px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition ${i?"opacity-60 cursor-not-allowed":""}`,children:i?"Updating...":"Confirm"})]})]})})})]})},N6=({doctor:t,userId:e,onClose:n})=>{const{user:r}=Wi(),[i,s]=ne.useState(""),[o,a]=ne.useState(!1),[l,u]=ne.useState(null),c=async d=>{if(d.preventDefault(),!e||!r){u("User not authenticated. Please log in.");return}if(!i){u("Please select a date and time.");return}a(!0);try{const m=ii(Zt,"users",e),p=await tp(m),_=p.exists()&&(p.data().name||r.displayName)||"Anonymous",b=p.exists()&&(p.data().email||r.email)||"Unknown",I=ii(Zt,"counters","bookingCounter"),w=await tp(I);let S=1;w.exists()&&(S=w.data().lastNumber+1),await Hh(I,{lastNumber:S},{merge:!0});const A=ii(Sr(Zt,"bookings"));await Hh(A,{userId:e,userName:_,userEmail:b,doctorId:t.id,doctorName:t.name,medicalCenterId:t.medicalCenterId,dateTime:i,createdAt:new Date().toISOString(),status:"booked",bookingNumber:S}),n()}catch(m){u(m.message||"Failed to create booking."),console.error(m)}finally{a(!1)}};return v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:v.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 p-6 rounded-md shadow-lg border border-cyan-500/30 max-w-md w-full",children:[v.jsxs("h3",{className:"text-xl font-bold neon-text mb-4",children:["Book Appointment with ",t.name]}),l&&v.jsx("p",{className:"text-red-400 bg-red-900/20 border border-red-500/30 p-2 rounded-lg mb-4",children:l}),v.jsxs("form",{onSubmit:c,children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-gray-400 block mb-2",children:"Select Date & Time"}),v.jsx("input",{type:"datetime-local",value:i,onChange:d=>s(d.target.value),className:"w-full p-3 rounded-lg bg-gray-800 text-cyan-50 border border-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0})]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{type:"button",onClick:n,className:"px-3 py-1 bg-gray-800 text-cyan-50 rounded hover:bg-gray-700 transition",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:o,className:`px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition ${o?"opacity-60 cursor-not-allowed":""}`,children:o?"Booking...":"Confirm Booking"})]})]})]})})},MW=()=>{const{user:t}=Wi(),[e,n]=ne.useState([]),[r,i]=ne.useState([]),[s,o]=ne.useState(!0),[a,l]=ne.useState(null),[u,c]=ne.useState(""),[d,m]=ne.useState(""),[p,_]=ne.useState(""),[b,I]=ne.useState(""),[w,S]=ne.useState(""),[A,B]=ne.useState(null);ne.useEffect(()=>{(async()=>{try{const M=Ds(Sr(Zt,"doctors"),br("availability.status","==","Available")),C=(await us(M)).docs.map(D=>{var X;return{id:D.id,...D.data(),conditions:Array.isArray(D.data().conditions)?D.data().conditions:[],specialty:D.data().specialty||"Unknown",location:D.data().location||"Unknown",medicalCenterName:D.data().medicalCenterName||"Unknown",isAvailable:((X=D.data().availability)==null?void 0:X.status)==="Available"}});console.log("Fetched doctors:",C),n(C),i(C)}catch(M){console.error("Error fetching doctors:",M),l(M.message||"Failed to fetch doctors.")}finally{o(!1)}})()},[]),ne.useEffect(()=>{(()=>{let M=[...e];u&&(M=M.filter(T=>T.name.toLowerCase().includes(u.toLowerCase()))),d&&(M=M.filter(T=>T.specialty.toLowerCase()===d.toLowerCase())),p&&(M=M.filter(T=>T.location.toLowerCase()===p.toLowerCase())),b&&(M=M.filter(T=>T.conditions.some(C=>C.toLowerCase().includes(b.toLowerCase())))),w&&(M=M.filter(T=>T.medicalCenterId===w)),M.sort((T,C)=>C.rating-T.rating),i(M)})()},[u,d,p,b,w,e]);const K=e.length?Array.from(new Set(e.filter(R=>typeof R.specialty=="string").map(R=>R.specialty))).sort():[],W=e.length?Array.from(new Set(e.filter(R=>typeof R.location=="string").map(R=>R.location))).sort():[],j=e.length?Array.from(new Set(e.filter(R=>Array.isArray(R.conditions)).flatMap(R=>R.conditions))).sort():[],N=e.length?Array.from(new Set(e.map(R=>({id:R.medicalCenterId,name:R.medicalCenterName||"Unknown"})))).sort((R,M)=>(R.name||"Unknown").localeCompare(M.name||"Unknown")):[];return s?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:"Loading..."}):v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gray-900 text-cyan-50 p-8",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsx("h1",{className:"text-4xl font-bold neon-text mb-8 text-center",children:"Find a Doctor"}),v.jsxs("div",{className:"mb-8 flex space-y-4 md:space-y-0 md:space-x-4 flex-col md:flex-row",children:[v.jsx("input",{type:"text",placeholder:"Search by doctor name...",value:u,onChange:R=>c(R.target.value),className:"w-full p-3 rounded-lg bg-gray-800 text-cyan-50 border border-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),v.jsxs("select",{value:d,onChange:R=>m(R.target.value),className:"w-full p-3 rounded-lg bg-gray-800 text-cyan-50 border border-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:K.length===0,children:[v.jsx("option",{value:"",children:"All Specialties"}),K.map((R,M)=>v.jsx("option",{value:R,children:R},`specialty-${M}`))]}),v.jsxs("select",{value:p,onChange:R=>_(R.target.value),className:"w-full p-3 rounded-lg bg-gray-800 text-cyan-50 border border-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:W.length===0,children:[v.jsx("option",{value:"",children:"All Locations"}),W.map((R,M)=>v.jsx("option",{value:R,children:R},`location-${M}`))]}),v.jsxs("select",{value:b,onChange:R=>I(R.target.value),className:"w-full p-3 rounded-lg bg-gray-800 text-cyan-50 border border-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:j.length===0,children:[v.jsx("option",{value:"",children:"All Conditions"}),j.map((R,M)=>v.jsx("option",{value:R,children:R},`condition-${M}`))]}),v.jsxs("select",{value:w,onChange:R=>S(R.target.value),className:"w-full p-3 rounded-lg bg-gray-800 text-cyan-50 border border-cyan-500/30 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:N.length===0,children:[v.jsx("option",{value:"",children:"All Hospitals"}),N.map((R,M)=>v.jsx("option",{value:R.id,children:R.name},`hospital-${M}`))]})]}),a&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 bg-red-900/20 border border-red-500/30 p-3 rounded-lg text-center mb-4",children:a}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(R=>v.jsxs("div",{children:[v.jsx(lo,{to:`/doctors/details/${R.id}`,children:v.jsxs(ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"cyber-card p-6 hover:scale-105 transition-transform",children:[v.jsx("img",{src:R.image,alt:R.name,className:"w-full h-48 object-cover rounded-lg mb-4"}),v.jsx("h3",{className:"text-xl font-bold neon-text",children:R.name}),v.jsx("p",{className:"text-gray-400",children:R.specialty}),v.jsxs("p",{className:"text-gray-400",children:["Medical Center: ",R.medicalCenterName]}),v.jsxs("p",{className:"text-gray-400",children:["Rating: ",R.rating," (",R.reviews," reviews)"]}),v.jsxs("p",{className:"text-gray-400",children:["Location: ",R.location]}),v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-gray-400 font-bold",children:"Procedures:"}),v.jsx("ul",{className:"list-disc list-inside text-gray-400",children:R.procedures.map((M,T)=>v.jsx("li",{children:M},`procedure-${T}`))})]}),v.jsxs("div",{className:"mt-2",children:[v.jsx("p",{className:"text-gray-400 font-bold",children:"Conditions:"}),v.jsx("ul",{className:"list-disc list-inside text-gray-400",children:R.conditions.map((M,T)=>v.jsx("li",{children:M},`condition-${T}`))})]}),v.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[v.jsx(NW,{className:"w-5 h-5 text-cyan-400"}),v.jsx("p",{className:"text-gray-400",children:"View Details"})]})]})}),(t==null?void 0:t.role)==="admin-1"?v.jsx(jW,{doctor:R}):v.jsx("button",{onClick:()=>B(R),className:"mt-2 w-full bg-cyan-600 text-white py-2 rounded hover:bg-cyan-700 transition",children:"Book Appointment"})]},R.id))}),r.length===0&&v.jsx("div",{className:"text-center text-gray-400 mt-8",children:"No doctors found matching your criteria. Try adjusting your search filters."}),A&&t&&v.jsx(N6,{doctor:A,userId:t.id,onClose:()=>B(null)})]})})};function Us(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Qu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const k6=6048e5,FW=864e5;let VW={};function g1(){return VW}function rp(t,e){var a,l,u,c;const n=g1(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Us(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function f0(t){return rp(t,{weekStartsOn:1})}function C6(t){const e=Us(t),n=e.getFullYear(),r=Qu(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=f0(r),s=Qu(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=f0(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function sA(t){const e=Us(t);return e.setHours(0,0,0,0),e}function oA(t){const e=Us(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function BW(t,e){const n=sA(t),r=sA(e),i=+n-oA(n),s=+r-oA(r);return Math.round((i-s)/FW)}function UW(t){const e=C6(t),n=Qu(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),f0(n)}function zW(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qW(t){if(!zW(t)&&typeof t!="number")return!1;const e=Us(t);return!isNaN(Number(e))}function $W(t){const e=Us(t),n=Qu(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WW=(t,e,n)=>{let r;const i=HW[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const GW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QW={date:Uy({formats:GW,defaultWidth:"full"}),time:Uy({formats:KW,defaultWidth:"full"}),dateTime:Uy({formats:YW,defaultWidth:"full"})},XW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JW=(t,e,n,r)=>XW[t];function Od(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const ZW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oG={ordinalNumber:sG,era:Od({values:ZW,defaultWidth:"wide"}),quarter:Od({values:eG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Od({values:tG,defaultWidth:"wide"}),day:Od({values:nG,defaultWidth:"wide"}),dayPeriod:Od({values:rG,defaultWidth:"wide",formattingValues:iG,defaultFormattingWidth:"wide"})};function jd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?lG(a,d=>d.test(o)):aG(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function aG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function uG(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const cG=/^(\d+)(th|st|nd|rd)?/i,hG=/\d+/i,dG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fG={any:[/^b/i,/^(a|c)/i]},pG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mG={any:[/1/i,/2/i,/3/i,/4/i]},gG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_G={ordinalNumber:uG({matchPattern:cG,parsePattern:hG,valueCallback:t=>parseInt(t,10)}),era:jd({matchPatterns:dG,defaultMatchWidth:"wide",parsePatterns:fG,defaultParseWidth:"any"}),quarter:jd({matchPatterns:pG,defaultMatchWidth:"wide",parsePatterns:mG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jd({matchPatterns:gG,defaultMatchWidth:"wide",parsePatterns:yG,defaultParseWidth:"any"}),day:jd({matchPatterns:vG,defaultMatchWidth:"wide",parsePatterns:wG,defaultParseWidth:"any"}),dayPeriod:jd({matchPatterns:xG,defaultMatchWidth:"any",parsePatterns:bG,defaultParseWidth:"any"})},SG={code:"en-US",formatDistance:WW,formatLong:QW,formatRelative:JW,localize:oG,match:_G,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EG(t){const e=Us(t);return BW(e,$W(e))+1}function AG(t){const e=Us(t),n=+f0(e)-+UW(e);return Math.round(n/k6)+1}function P6(t,e){var c,d,m,p;const n=Us(t),r=n.getFullYear(),i=g1(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Qu(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=rp(o,e),l=Qu(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=rp(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function TG(t,e){var a,l,u,c;const n=g1(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=P6(t,e),s=Qu(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),rp(s,e)}function IG(t,e){const n=Us(t),r=+rp(n,e)-+TG(n,e);return Math.round(r/k6)+1}function Jt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ya={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Jt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Jt(n+1,2)},d(t,e){return Jt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Jt(t.getHours()%12||12,e.length)},H(t,e){return Jt(t.getHours(),e.length)},m(t,e){return Jt(t.getMinutes(),e.length)},s(t,e){return Jt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Jt(i,e.length)}},Lc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ya.y(t,e)},Y:function(t,e,n,r){const i=P6(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Jt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Jt(s,e.length)},R:function(t,e){const n=C6(t);return Jt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Jt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Jt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Jt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ya.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Jt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=IG(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Jt(i,e.length)},I:function(t,e,n){const r=AG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Jt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ya.d(t,e)},D:function(t,e,n){const r=EG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Jt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Jt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Jt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Jt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Lc.noon:r===0?i=Lc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Lc.evening:r>=12?i=Lc.afternoon:r>=4?i=Lc.morning:i=Lc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ya.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ya.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Jt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ya.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ya.s(t,e)},S:function(t,e){return Ya.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return uA(r);case"XXXX":case"XX":return Tu(r);case"XXXXX":case"XXX":default:return Tu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return uA(r);case"xxxx":case"xx":return Tu(r);case"xxxxx":case"xxx":default:return Tu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lA(r,":");case"OOOO":default:return"GMT"+Tu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lA(r,":");case"zzzz":default:return"GMT"+Tu(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Jt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Jt(r,e.length)}};function lA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Jt(s,2)}function uA(t,e){return t%60===0?(t>0?"-":"+")+Jt(Math.abs(t)/60,2):Tu(t,e)}function Tu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Jt(Math.trunc(r/60),2),s=Jt(r%60,2);return n+i+e+s}const cA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},L6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},NG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return cA(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",cA(r,e)).replace("{{time}}",L6(i,e))},kG={p:L6,P:NG},CG=/^D+$/,PG=/^Y+$/,LG=["D","DD","YY","YYYY"];function RG(t){return CG.test(t)}function DG(t){return PG.test(t)}function OG(t,e,n){const r=jG(t,e,n);if(console.warn(r),LG.includes(t))throw new RangeError(r)}function jG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VG=/^'([^]*?)'?$/,BG=/''/g,UG=/[a-zA-Z]/;function ah(t,e,n){var c,d,m,p;const r=g1(),i=r.locale??SG,s=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Us(t);if(!qW(a))throw new RangeError("Invalid time value");let l=e.match(FG).map(_=>{const b=_[0];if(b==="p"||b==="P"){const I=kG[b];return I(_,i.formatLong)}return _}).join("").match(MG).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:zG(_)};if(aA[b])return{isToken:!0,value:_};if(b.match(UG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(DG(b)||RG(b))&&OG(b,e,String(t));const I=aA[b[0]];return I(a,b,i.localize,u)}).join("")}function zG(t){const e=t.match(VG);return e?e[1].replace(BG,"'"):t}const qG=()=>{const{id:t}=oN(),[e,n]=ne.useState(null),[r,i]=ne.useState([]),[s,o]=ne.useState(!1),[a,l]=ne.useState(!0),[u,c]=ne.useState(null),[d,m]=ne.useState(!1),[p,_]=ne.useState(!1),[b,I]=ne.useState(0),[w,S]=ne.useState(""),A=ga(),{user:B}=Wi();ne.useEffect(()=>{(async()=>{var j,N,R,M,T,C,D;if(!t){c("No doctor ID provided."),l(!1);return}try{const X=ii(Zt,"doctors",t),fe=await tp(X);if(fe.exists()){const O=fe.data();n({id:fe.id,name:O.name||"Dr. Unknown",specialty:O.specialty||"Unknown Specialty",rating:O.rating||0,reviews:O.reviews||0,ratings:O.ratings||[],location:O.location||"Unknown Location",image:O.image||"https://via.placeholder.com/300",bio:O.bio||"No bio available.",education:O.education||"No education details available.",experience:O.experience||"No experience details available.",procedures:O.procedures||[],availability:{status:((j=O.availability)==null?void 0:j.status)||"Unknown",nextSlot:((N=O.availability)==null?void 0:N.nextSlot)||"Not available",schedule:((R=O.availability)==null?void 0:R.schedule)||[]},pharmacies:O.pharmacies||[],privateClinic:{name:((M=O.privateClinic)==null?void 0:M.name)||"No clinic name",address:((T=O.privateClinic)==null?void 0:T.address)||"No address",facilities:((C=O.privateClinic)==null?void 0:C.facilities)||[],appointments:((D=O.privateClinic)==null?void 0:D.appointments)||"Not available"},medicalCenterId:O.medicalCenterId||"",medicalCenterName:O.medicalCenterName||"Unknown"})}else c("Doctor not found.");if(B){const O=Ds(Sr(Zt,"bookings"),br("userId","==",B.id),br("doctorId","==",t),br("status","==","booked")),L=await us(O);o(!L.empty)}const pe=Ds(Sr(Zt,"bookings"),br("doctorId","==",t),br("status","==","booked")),Z=(await us(pe)).docs.map(O=>O.data().userId),le=Ds(Sr(Zt,"reviews"),br("doctorId","==",t),br("userId","in",Z.length>0?Z:["none"])),_e=(await us(le)).docs.map(O=>({id:O.id,userId:O.data().userId,doctorId:O.data().doctorId,rating:O.data().rating,reviewText:O.data().reviewText,createdAt:O.data().createdAt,userName:O.data().userName||"Anonymous"}));i(_e)}catch(X){c(X.message||"Failed to fetch doctor details or reviews.")}finally{l(!1)}})()},[t,B]);const K=async()=>{if(!e||!B||!b||!w){c("Please provide both a rating and a review.");return}if(!s){c("You must book an appointment with this doctor to submit a review.");return}try{const W={userId:B.id,doctorId:e.id,rating:b,reviewText:w,createdAt:new Date().toISOString(),userName:B.displayName||"Anonymous"},j=await $x(Sr(Zt,"reviews"),W),N=ii(Zt,"doctors",e.id),R=[...e.ratings||[],b],M=R.reduce((T,C)=>T+C,0)/R.length;await qx(N,{ratings:cW(b),rating:M,reviews:(e.reviews||0)+1}),n({...e,ratings:R,rating:M,reviews:e.reviews+1}),i([...r,{id:j.id,...W}]),I(0),S(""),_(!1),alert("Review submitted successfully!")}catch(W){c("Failed to submit review. Please try again."),console.error(W)}};return a?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:v.jsx(ct.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full"})}):u||!e?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:v.jsx("div",{className:"text-red-400 bg-red-900/20 border border-red-500/30 p-4 rounded-lg text-center",children:u||"Doctor not found."})}):v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-gray-900 text-cyan-50 p-4 md:p-8",children:v.jsxs("div",{className:"container mx-auto max-w-5xl",children:[v.jsx("div",{className:"cyber-card bg-gray-800/80 backdrop-blur-sm p-8 rounded-xl border border-cyan-500/30 shadow-lg",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs(ct.div,{initial:{scale:.8},animate:{scale:1},className:"relative",children:[v.jsx("img",{src:e.image,alt:e.name,className:"w-full h-80 object-cover rounded-xl border border-cyan-400/50"}),v.jsx("div",{className:"absolute top-4 left-4 bg-cyan-500/80 text-white px-3 py-1 rounded-full text-sm",children:e.specialty})]}),v.jsxs("div",{className:"md:col-span-2 space-y-4",children:[v.jsx("h1",{className:"text-4xl font-bold neon-text text-cyan-400",children:e.name}),v.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[v.jsx(E6,{className:"w-5 h-5"}),v.jsxs("span",{children:[e.location," | ",e.medicalCenterName]})]}),v.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400",children:[v.jsx(oh,{className:"w-5 h-5"}),v.jsxs("span",{children:[e.rating.toFixed(1)," (",e.reviews," reviews)"]})]}),v.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.bio}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("button",{onClick:()=>{if(!B){A("/login");return}m(!0)},className:"cyber-button flex items-center space-x-2 px-6 py-3",children:[v.jsx(w6,{className:"w-5 h-5"}),v.jsx("span",{children:"Book Appointment"})]}),s&&v.jsxs("button",{onClick:()=>{if(!B){A("/login");return}_(!0)},className:"cyber-button flex items-center space-x-2 px-6 py-3",children:[v.jsx(oh,{className:"w-5 h-5"}),v.jsx("span",{children:"Add Review"})]})]})]})]})}),v.jsxs("div",{className:"mt-8 cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Reviews"}),r.length>0?v.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.map(W=>v.jsxs("div",{className:"border-b border-cyan-500/20 pb-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(oh,{className:"w-5 h-5 text-yellow-400"}),v.jsxs("span",{className:"text-yellow-400",children:[W.rating,"/5"]}),v.jsxs("span",{className:"text-gray-400",children:["by ",W.userName]})]}),v.jsx("p",{className:"text-gray-300 mt-2",children:W.reviewText}),v.jsx("p",{className:"text-gray-500 text-sm",children:ah(new Date(W.createdAt),"MMM dd, yyyy")})]},W.id))}):v.jsx("p",{className:"text-gray-300",children:"No reviews yet from booked users."})]}),v.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Education & Experience"}),v.jsxs("div",{className:"space-y-4 text-gray-300",children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(pW,{className:"w-5 h-5 mt-1"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Education"}),v.jsx("p",{children:e.education})]})]}),v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx(mW,{className:"w-5 h-5 mt-1"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Experience"}),v.jsx("p",{children:e.experience})]})]})]})]}),v.jsxs("div",{className:"cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Procedures"}),v.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:e.procedures.map((W,j)=>v.jsx("li",{children:W},j))})]})]}),v.jsxs("div",{className:"mt-8 cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Availability"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-gray-300",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Status"}),v.jsx("p",{children:e.availability.status})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Next Slot"}),v.jsx("p",{children:e.availability.nextSlot})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Schedule"}),v.jsx("p",{children:e.availability.schedule.join(", ")})]})]})]}),v.jsxs("div",{className:"mt-8 cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Pharmacies"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-300",children:e.pharmacies.map((W,j)=>v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:W.name}),v.jsx("p",{children:W.address}),v.jsxs("p",{children:["Hours: ",W.hours]}),v.jsxs("p",{children:["Specialties: ",W.specialties.join(", ")]})]},j))})]}),v.jsxs("div",{className:"mt-8 cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Private Clinic"}),v.jsxs("div",{className:"text-gray-300 space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"font-semibold",children:"Name:"})," ",e.privateClinic.name]}),v.jsxs("p",{children:[v.jsx("span",{className:"font-semibold",children:"Address:"})," ",e.privateClinic.address]}),v.jsxs("p",{children:[v.jsx("span",{className:"font-semibold",children:"Facilities:"})," ",e.privateClinic.facilities.join(", ")]}),v.jsxs("p",{children:[v.jsx("span",{className:"font-semibold",children:"Appointments:"})," ",e.privateClinic.appointments]})]})]}),d&&B&&v.jsx(N6,{doctor:e,userId:B.id,onClose:()=>m(!1)}),p&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"cyber-card bg-gray-800 p-6 rounded-xl max-w-md w-full",children:[v.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4",children:["Add Review for ",e.name]}),v.jsx("p",{className:"text-gray-300 mb-4",children:"Rate and write your review:"}),u&&v.jsx("p",{className:"text-red-400 bg-red-900/20 border border-red-500/30 p-2 rounded-lg mb-4",children:u}),v.jsx("div",{className:"flex items-center space-x-2 mb-4",children:[1,2,3,4,5].map(W=>v.jsx(oh,{className:`w-6 h-6 cursor-pointer ${W<=b?"text-yellow-400":"text-gray-500"}`,onClick:()=>I(W)},W))}),v.jsx("textarea",{className:"w-full bg-gray-700 text-gray-100 p-2 rounded-lg border border-cyan-500/30 focus:outline-none focus:border-cyan-400",rows:4,placeholder:"Write your review...",value:w,onChange:W=>S(W.target.value)}),v.jsxs("div",{className:"flex space-x-4 mt-4",children:[v.jsx("button",{className:"cyber-button flex-1",onClick:K,disabled:!b||!w,children:"Submit Review"}),v.jsx("button",{className:"cyber-button bg-gray-600 flex-1",onClick:()=>{I(0),S(""),_(!1),c(null)},children:"Cancel"})]})]})})]})})},$G=[{id:1,author:"Dr. Chen",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=100&h=100",content:"Neural enhancement procedure was successful! The patient is showing great progress.",likes:42,comments:12,timeAgo:"2 hours ago"}],HG=()=>{const[t,e]=ne.useState(""),[n,r]=ne.useState($G),[i,s]=ne.useState(null),o=()=>{if(t.trim()){const l={id:n.length+1,author:"Anonymous Doctor",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=100&h=100",content:t,likes:0,comments:0,timeAgo:"Just now"};r([l,...n]),e("")}},a=l=>{s(i===l?null:l)};return v.jsxs("div",{className:"space-y-8",children:[v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6",children:v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("img",{src:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=100&h=100",alt:"Your avatar",className:"w-10 h-10 rounded-full"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("textarea",{value:t,onChange:l=>e(l.target.value),placeholder:"Share your medical insights...",className:"w-full px-4 py-2 bg-gray-800 border border-cyan-500/30 rounded-lg focus:outline-none focus:border-cyan-400 resize-none",rows:3}),v.jsx("div",{className:"flex justify-end mt-2",children:v.jsxs("button",{onClick:o,className:"cyber-button flex items-center space-x-2",children:[v.jsx(Xx,{className:"w-4 h-4"}),v.jsx("span",{children:"Post"})]})})]})]})}),v.jsx("div",{className:"space-y-6",children:n.map((l,u)=>v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},className:"cyber-card p-6",children:v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("img",{src:l.avatar,alt:l.author,className:"w-10 h-10 rounded-full"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"font-bold text-cyan-400",children:l.author}),v.jsx("span",{className:"text-sm text-gray-400",children:l.timeAgo})]}),v.jsx("p",{className:"text-gray-300 mb-4",children:i===l.id?l.content:`${l.content.slice(0,100)}...`}),v.jsx("button",{className:"text-cyan-400 flex items-center",onClick:()=>a(l.id),children:i===l.id?v.jsxs(v.Fragment,{children:[v.jsx(Kx,{className:"w-4 h-4"})," Collapse"]}):v.jsxs(v.Fragment,{children:[v.jsx(Gx,{className:"w-4 h-4"})," Read More"]})}),v.jsxs("div",{className:"flex items-center space-x-6 mt-4",children:[v.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors",children:[v.jsx(b6,{className:"w-4 h-4"}),v.jsx("span",{children:l.likes})]}),v.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors",children:[v.jsx(Yx,{className:"w-4 h-4"}),v.jsx("span",{children:l.comments})]}),v.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors",children:[v.jsx(A6,{className:"w-4 h-4"}),v.jsx("span",{children:"Share"})]})]})]})]})},l.id))})]})},WG=[{id:1,author:"Patient_123",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100&h=100",content:"Ive been dealing with persistent headaches lately. Looking for advice or recommendations for good neurologists.",likes:15,comments:5,timeAgo:"3 hours ago"}],GG=()=>{const[t,e]=ne.useState(""),[n,r]=ne.useState(WG),[i,s]=ne.useState(null),o=()=>{if(t.trim()){const l={id:n.length+1,author:"Anonymous Patient",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100&h=100",content:t,likes:0,comments:0,timeAgo:"Just now"};r([l,...n]),e("")}},a=l=>{s(i===l?null:l)};return v.jsxs("div",{className:"space-y-8",children:[v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6",children:v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("img",{src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100&h=100",alt:"Your avatar",className:"w-10 h-10 rounded-full"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("textarea",{value:t,onChange:l=>e(l.target.value),placeholder:"Share your health concerns...",className:"w-full px-4 py-2 bg-gray-800 border border-cyan-500/30 rounded-lg focus:outline-none focus:border-cyan-400 resize-none",rows:3}),v.jsx("div",{className:"flex justify-end mt-2",children:v.jsxs("button",{onClick:o,className:"cyber-button flex items-center space-x-2",children:[v.jsx(Xx,{className:"w-4 h-4"}),v.jsx("span",{children:"Post"})]})})]})]})}),v.jsx("div",{className:"space-y-6",children:n.map((l,u)=>v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},className:"cyber-card p-6",children:v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("img",{src:l.avatar,alt:l.author,className:"w-10 h-10 rounded-full"}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("h3",{className:"font-bold text-cyan-400",children:l.author}),v.jsx("span",{className:"text-sm text-gray-400",children:l.timeAgo})]}),v.jsx("p",{className:"text-gray-300 mb-4",children:i===l.id?l.content:`${l.content.slice(0,100)}...`}),v.jsx("button",{className:"text-cyan-400 flex items-center",onClick:()=>a(l.id),children:i===l.id?v.jsxs(v.Fragment,{children:[v.jsx(Kx,{className:"w-4 h-4"})," Collapse"]}):v.jsxs(v.Fragment,{children:[v.jsx(Gx,{className:"w-4 h-4"})," Read More"]})}),v.jsxs("div",{className:"flex items-center space-x-6 mt-4",children:[v.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors",children:[v.jsx(b6,{className:"w-4 h-4"}),v.jsx("span",{children:l.likes})]}),v.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors",children:[v.jsx(Yx,{className:"w-4 h-4"}),v.jsx("span",{children:l.comments})]}),v.jsxs("button",{className:"flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors",children:[v.jsx(A6,{className:"w-4 h-4"}),v.jsx("span",{children:"Share"})]})]})]})]})},l.id))})]})},KG=()=>{const[t,e]=ne.useState("Doctors"),n=[{id:"Doctors",label:"Doctors' Community"},{id:"Patients",label:"Patients' Problems"}];return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"relative",children:[v.jsx("nav",{className:"flex justify-center space-x-8 bg-gray-900/90 py-4 border-b border-cyan-500/30",children:n.map(r=>v.jsx("div",{onClick:()=>e(r.id),className:`cursor-pointer relative text-gray-400 text-lg font-bold transition-all duration-300 hover:text-cyan-400 ${t===r.id?"text-cyan-400":""}`,children:r.label},r.id))}),v.jsx(ct.div,{layoutId:"active-tab-indicator",className:"absolute bottom-0 h-1 neon-glow bg-cyan-400 rounded-md",initial:!1,animate:{left:`${n.findIndex(r=>r.id===t)*50}%`,width:"50%"},transition:{type:"spring",stiffness:200,damping:20}})]}),v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5},children:t==="Doctors"?v.jsx(HG,{}):v.jsx(GG,{})},t)]})};var hA;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(hA||(hA={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(dA||(dA={}));var fA;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(fA||(fA={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=["user","model","function","system"];var mA;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(mA||(mA={}));var gA;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gA||(gA={}));var yA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(yA||(yA={}));var vA;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(vA||(vA={}));var vf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(vf||(vf={}));var wA;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(wA||(wA={}));var xA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(xA||(xA={}));var bA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bA||(bA={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Rc extends zr{constructor(e,n){super(e),this.response=n}}class R6 extends zr{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Il extends zr{}class D6 extends zr{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG="https://generativelanguage.googleapis.com",QG="v1beta",XG="0.24.0",JG="genai-js";var Xu;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Xu||(Xu={}));class ZG{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||QG;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||YG}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function eK(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${JG}/${XG}`),e.join(" ")}async function tK(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",eK(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Il(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Il(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Il(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function nK(t,e,n,r,i,s){const o=new ZG(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},oK(s)),{method:"POST",headers:await tK(o),body:i})}}async function Ip(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:l}=await nK(t,e,n,r,i,s);return rK(a,l,o)}async function rK(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){iK(i,t)}return r.ok||await sK(r,t),r}function iK(t,e){let n=t;throw n.name==="AbortError"?(n=new D6(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof R6||t instanceof Il||(n=new zr(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function sK(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new R6(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function oK(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),og(t.candidates[0]))throw new Rc(`${nl(t)}`,t);return aK(t)}else if(t.promptFeedback)throw new Rc(`Text not available. ${nl(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),og(t.candidates[0]))throw new Rc(`${nl(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),_A(t)[0]}else if(t.promptFeedback)throw new Rc(`Function call not available. ${nl(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),og(t.candidates[0]))throw new Rc(`${nl(t)}`,t);return _A(t)}else if(t.promptFeedback)throw new Rc(`Function call not available. ${nl(t)}`,t)},t}function aK(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function _A(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const lK=[vf.RECITATION,vf.SAFETY,vf.LANGUAGE];function og(t){return!!t.finishReason&&lK.includes(t.finishReason)}function nl(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];og(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function ip(t){return this instanceof ip?(this.v=t,this):new ip(t)}function uK(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(p){return new Promise(function(_,b){s.push([m,p,_,b])>1||a(m,p)})})}function a(m,p){try{l(r[m](p))}catch(_){d(s[0][3],_)}}function l(m){m.value instanceof ip?Promise.resolve(m.value.v).then(u,c):d(s[0][2],m)}function u(m){a("next",m)}function c(m){a("throw",m)}function d(m,p){m(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function cK(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=fK(e),[r,i]=n.tee();return{stream:dK(r),response:hK(i)}}async function hK(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Jx(pK(e));e.push(i)}}function dK(t){return uK(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield ip(n.read());if(i)break;yield yield ip(Jx(r))}})}function fK(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new zr("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(SA),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new zr(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(SA)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new D6("Request aborted when reading from the stream"):a=new zr("Error reading from the stream"),a})}}})}function pK(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e,n,r){const i=await Ip(e,Xu.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return cK(i)}async function j6(t,e,n,r){const s=await(await Ip(e,Xu.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Jx(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function sp(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return mK(e)}function mK(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new zr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new zr("No content is provided for sending chat message.");return r?e:n}function gK(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Il("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=sp(t);r.contents=[s]}return{generateContentRequest:r}}function EA(t){let e;return t.contents?e=t:e={contents:[sp(t)]},t.systemInstruction&&(e.systemInstruction=M6(t.systemInstruction)),e}function yK(t){return typeof t=="string"||Array.isArray(t)?{content:sp(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],vK={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function wK(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new zr(`First content should be with role 'user', got ${r}`);if(!pA.includes(r))throw new zr(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(pA)}`);if(!Array.isArray(i))throw new zr("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new zr("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of AA)l in a&&(s[l]+=1);const o=vK[r];for(const a of AA)if(!o.includes(a)&&s[a]>0)throw new zr(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function TA(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="SILENT_ERROR";class xK{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(wK(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const u=sp(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>j6(this._apiKey,this.model,c,d)).then(p=>{var _;if(TA(p.response)){this._history.push(u);const b=Object.assign({parts:[],role:"model"},(_=p.response.candidates)===null||_===void 0?void 0:_[0].content);this._history.push(b)}else{const b=nl(p.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}m=p}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const u=sp(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n),m=O6(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>m).catch(p=>{throw new Error(IA)}).then(p=>p.response).then(p=>{if(TA(p)){this._history.push(u);const _=Object.assign({},p.candidates[0].content);_.role||(_.role="model"),this._history.push(_)}else{const _=nl(p);_&&console.warn(`sendMessageStream() was unsuccessful. ${_}. Inspect response object for details.`)}}).catch(p=>{p.message!==IA&&console.error(p)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bK(t,e,n,r){return(await Ip(e,Xu.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(t,e,n,r){return(await Ip(e,Xu.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function SK(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Ip(e,Xu.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=M6(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=EA(e),s=Object.assign(Object.assign({},this._requestOptions),n);return j6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=EA(e),s=Object.assign(Object.assign({},this._requestOptions),n);return O6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new xK(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=gK(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return bK(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=yK(e),i=Object.assign(Object.assign({},this._requestOptions),n);return _K(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return SK(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new zr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NA(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Il("Cached content must contain a `name` field.");if(!e.model)throw new Il("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new Il(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new NA(this.apiKey,s,r)}}const AK=({sessions:t,activeSession:e,isSidebarOpen:n,setActiveSession:r,toggleSidebar:i})=>v.jsxs(ct.div,{initial:{x:n?0:-300},animate:{x:n?0:-260},transition:{duration:.3},className:`fixed lg:relative z-40 top-0 left-0 h-full w-64 cyber-card p-4 flex flex-col lg:block ${n?"z-50":"lg:flex"}`,children:[v.jsxs("button",{onClick:()=>console.log("Start new chat"),className:"cyber-button w-full mb-4 flex items-center justify-center space-x-2",children:[v.jsx(Qx,{className:"w-4 h-4"}),v.jsx("span",{children:"New Chat"})]}),v.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:t.map(s=>v.jsxs("div",{onClick:()=>r(s.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${e===s.id?"bg-cyan-900/30 border border-cyan-500/30":"hover:bg-gray-800"}`,children:[v.jsx("div",{className:"text-sm font-semibold mb-1",children:ah(new Date(s.date),"MMM d, yyyy")}),v.jsx("p",{className:"text-xs text-gray-400 truncate",children:s.preview})]},s.id))}),v.jsx("button",{onClick:i,className:"absolute h-20 lg:hidden top-1/2 bottom-1/2 -right-9 z-50 p-2 rounded-full bg-gray-800 border border-cyan-500 text-cyan-400 shadow-lg",children:n?v.jsx(yW,{size:20}):v.jsx(vW,{size:20})})]}),TK=({location:t,setLocation:e})=>v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-4",children:v.jsxs("div",{className:"flex items-center overflow-x-auto space-x-4",children:[v.jsxs("div",{className:"location flex items-center space-x-4",children:[v.jsx(E6,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"text",placeholder:"Enter your location...",className:"flex-1 max-sm:flex max-sm:w-28 px-4 py-2 bg-gray-800 border border-cyan-500/30 rounded-lg focus:outline-none focus:border-cyan-400",value:t,onChange:n=>e(n.target.value)})]}),v.jsx(lo,{to:"/report",children:v.jsxs("div",{className:"export-pdf flex items-center space-x-4 cyber-button",children:[v.jsx(x6,{className:"w-5 h-5 text-cyan-400"}),v.jsx("span",{children:"Export PDF"})]})})]})});function IK(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const NK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CK={};function kA(t,e){return(CK.jsx?kK:NK).test(t)}const PK=/[ \t\n\f\r]/g;function LK(t){return typeof t=="object"?t.type==="text"?CA(t.value):!1:CA(t)}function CA(t){return t.replace(PK,"")===""}class Np{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Np.prototype.normal={};Np.prototype.property={};Np.prototype.space=void 0;function F6(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Np(n,r,e)}function G2(t){return t.toLowerCase()}class Si{constructor(e,n){this.attribute=n,this.property=e}}Si.prototype.attribute="";Si.prototype.booleanish=!1;Si.prototype.boolean=!1;Si.prototype.commaOrSpaceSeparated=!1;Si.prototype.commaSeparated=!1;Si.prototype.defined=!1;Si.prototype.mustUseProperty=!1;Si.prototype.number=!1;Si.prototype.overloadedBoolean=!1;Si.prototype.property="";Si.prototype.spaceSeparated=!1;Si.prototype.space=void 0;let RK=0;const kt=sc(),Qn=sc(),V6=sc(),Ve=sc(),hn=sc(),wh=sc(),Di=sc();function sc(){return 2**++RK}const K2=Object.freeze(Object.defineProperty({__proto__:null,boolean:kt,booleanish:Qn,commaOrSpaceSeparated:Di,commaSeparated:wh,number:Ve,overloadedBoolean:V6,spaceSeparated:hn},Symbol.toStringTag,{value:"Module"})),zy=Object.keys(K2);class Zx extends Si{constructor(e,n,r,i){let s=-1;if(super(e,n),PA(this,"space",i),typeof r=="number")for(;++s<zy.length;){const o=zy[s];PA(this,zy[s],(r&K2[o])===K2[o])}}}Zx.prototype.defined=!0;function PA(t,e,n){n&&(t[e]=n)}function od(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Zx(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[G2(r)]=r,n[G2(s.attribute)]=r}return new Np(e,n,t.space)}const B6=od({properties:{ariaActiveDescendant:null,ariaAtomic:Qn,ariaAutoComplete:null,ariaBusy:Qn,ariaChecked:Qn,ariaColCount:Ve,ariaColIndex:Ve,ariaColSpan:Ve,ariaControls:hn,ariaCurrent:null,ariaDescribedBy:hn,ariaDetails:null,ariaDisabled:Qn,ariaDropEffect:hn,ariaErrorMessage:null,ariaExpanded:Qn,ariaFlowTo:hn,ariaGrabbed:Qn,ariaHasPopup:null,ariaHidden:Qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hn,ariaLevel:Ve,ariaLive:null,ariaModal:Qn,ariaMultiLine:Qn,ariaMultiSelectable:Qn,ariaOrientation:null,ariaOwns:hn,ariaPlaceholder:null,ariaPosInSet:Ve,ariaPressed:Qn,ariaReadOnly:Qn,ariaRelevant:null,ariaRequired:Qn,ariaRoleDescription:hn,ariaRowCount:Ve,ariaRowIndex:Ve,ariaRowSpan:Ve,ariaSelected:Qn,ariaSetSize:Ve,ariaSort:null,ariaValueMax:Ve,ariaValueMin:Ve,ariaValueNow:Ve,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function U6(t,e){return e in t?t[e]:e}function z6(t,e){return U6(t,e.toLowerCase())}const DK=od({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wh,acceptCharset:hn,accessKey:hn,action:null,allow:null,allowFullScreen:kt,allowPaymentRequest:kt,allowUserMedia:kt,alt:null,as:null,async:kt,autoCapitalize:null,autoComplete:hn,autoFocus:kt,autoPlay:kt,blocking:hn,capture:null,charSet:null,checked:kt,cite:null,className:hn,cols:Ve,colSpan:null,content:null,contentEditable:Qn,controls:kt,controlsList:hn,coords:Ve|wh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:kt,defer:kt,dir:null,dirName:null,disabled:kt,download:V6,draggable:Qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:kt,formTarget:null,headers:hn,height:Ve,hidden:kt,high:Ve,href:null,hrefLang:null,htmlFor:hn,httpEquiv:hn,id:null,imageSizes:null,imageSrcSet:null,inert:kt,inputMode:null,integrity:null,is:null,isMap:kt,itemId:null,itemProp:hn,itemRef:hn,itemScope:kt,itemType:hn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:kt,low:Ve,manifest:null,max:null,maxLength:Ve,media:null,method:null,min:null,minLength:Ve,multiple:kt,muted:kt,name:null,nonce:null,noModule:kt,noValidate:kt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:kt,optimum:Ve,pattern:null,ping:hn,placeholder:null,playsInline:kt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:kt,referrerPolicy:null,rel:hn,required:kt,reversed:kt,rows:Ve,rowSpan:Ve,sandbox:hn,scope:null,scoped:kt,seamless:kt,selected:kt,shadowRootClonable:kt,shadowRootDelegatesFocus:kt,shadowRootMode:null,shape:null,size:Ve,sizes:null,slot:null,span:Ve,spellCheck:Qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ve,step:null,style:null,tabIndex:Ve,target:null,title:null,translate:null,type:null,typeMustMatch:kt,useMap:null,value:Qn,width:Ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:hn,axis:null,background:null,bgColor:null,border:Ve,borderColor:null,bottomMargin:Ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:kt,declare:kt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ve,leftMargin:Ve,link:null,longDesc:null,lowSrc:null,marginHeight:Ve,marginWidth:Ve,noResize:kt,noHref:kt,noShade:kt,noWrap:kt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ve,rules:null,scheme:null,scrolling:Qn,standby:null,summary:null,text:null,topMargin:Ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:kt,disableRemotePlayback:kt,prefix:null,property:null,results:Ve,security:null,unselectable:null},space:"html",transform:z6}),OK=od({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Di,accentHeight:Ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ve,amplitude:Ve,arabicForm:null,ascent:Ve,attributeName:null,attributeType:null,azimuth:Ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ve,by:null,calcMode:null,capHeight:Ve,className:hn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ve,diffuseConstant:Ve,direction:null,display:null,dur:null,divisor:Ve,dominantBaseline:null,download:kt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ve,enableBackground:null,end:null,event:null,exponent:Ve,externalResourcesRequired:null,fill:null,fillOpacity:Ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wh,g2:wh,glyphName:wh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ve,horizOriginX:Ve,horizOriginY:Ve,id:null,ideographic:Ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ve,k:Ve,k1:Ve,k2:Ve,k3:Ve,k4:Ve,kernelMatrix:Di,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ve,overlineThickness:Ve,paintOrder:null,panose1:null,path:null,pathLength:Ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:hn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ve,pointsAtY:Ve,pointsAtZ:Ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Di,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Di,rev:Di,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Di,requiredFeatures:Di,requiredFonts:Di,requiredFormats:Di,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ve,specularExponent:Ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ve,strikethroughThickness:Ve,string:null,stroke:null,strokeDashArray:Di,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ve,strokeOpacity:Ve,strokeWidth:null,style:null,surfaceScale:Ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Di,tabIndex:Ve,tableValues:null,target:null,targetX:Ve,targetY:Ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Di,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ve,underlineThickness:Ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ve,values:null,vAlphabetic:Ve,vMathematical:Ve,vectorEffect:null,vHanging:Ve,vIdeographic:Ve,version:null,vertAdvY:Ve,vertOriginX:Ve,vertOriginY:Ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:U6}),q6=od({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),$6=od({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:z6}),H6=od({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),jK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},MK=/[A-Z]/g,LA=/-[a-z]/g,FK=/^data[-\w.:]+$/i;function VK(t,e){const n=G2(e);let r=e,i=Si;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&FK.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(LA,UK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!LA.test(s)){let o=s.replace(MK,BK);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Zx}return new i(r,e)}function BK(t){return"-"+t.toLowerCase()}function UK(t){return t.charAt(1).toUpperCase()}const zK=F6([B6,DK,q6,$6,H6],"html"),eb=F6([B6,OK,q6,$6,H6],"svg");function qK(t){return t.join(" ").trim()}var tb={},RA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,$K=/\n/g,HK=/^\s*/,WK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,GK=/^:\s*/,KK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,YK=/^[;\s]*/,QK=/^\s+|\s+$/g,XK=`
`,DA="/",OA="*",Nu="",JK="comment",ZK="declaration",eY=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(_){var b=_.match($K);b&&(n+=b.length);var I=_.lastIndexOf(XK);r=~I?_.length-I:r+_.length}function s(){var _={line:n,column:r};return function(b){return b.position=new o(_),u(),b}}function o(_){this.start=_,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(_){var b=new Error(e.source+":"+n+":"+r+": "+_);if(b.reason=_,b.filename=e.source,b.line=n,b.column=r,b.source=t,!e.silent)throw b}function l(_){var b=_.exec(t);if(b){var I=b[0];return i(I),t=t.slice(I.length),b}}function u(){l(HK)}function c(_){var b;for(_=_||[];b=d();)b!==!1&&_.push(b);return _}function d(){var _=s();if(!(DA!=t.charAt(0)||OA!=t.charAt(1))){for(var b=2;Nu!=t.charAt(b)&&(OA!=t.charAt(b)||DA!=t.charAt(b+1));)++b;if(b+=2,Nu===t.charAt(b-1))return a("End of comment missing");var I=t.slice(2,b-2);return r+=2,i(I),t=t.slice(b),r+=2,_({type:JK,comment:I})}}function m(){var _=s(),b=l(WK);if(b){if(d(),!l(GK))return a("property missing ':'");var I=l(KK),w=_({type:ZK,property:jA(b[0].replace(RA,Nu)),value:I?jA(I[0].replace(RA,Nu)):Nu});return l(YK),w}}function p(){var _=[];c(_);for(var b;b=m();)b!==!1&&(_.push(b),c(_));return _}return u(),p()};function jA(t){return t?t.replace(QK,Nu):Nu}var tY=fg&&fg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tb,"__esModule",{value:!0});tb.default=rY;var nY=tY(eY);function rY(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,nY.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var y1={};Object.defineProperty(y1,"__esModule",{value:!0});y1.camelCase=void 0;var iY=/^--[a-zA-Z0-9_-]+$/,sY=/-([a-z])/g,oY=/^[^-]+$/,aY=/^-(webkit|moz|ms|o|khtml)-/,lY=/^-(ms)-/,uY=function(t){return!t||oY.test(t)||iY.test(t)},cY=function(t,e){return e.toUpperCase()},MA=function(t,e){return"".concat(e,"-")},hY=function(t,e){return e===void 0&&(e={}),uY(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(lY,MA):t=t.replace(aY,MA),t.replace(sY,cY))};y1.camelCase=hY;var dY=fg&&fg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},fY=dY(tb),pY=y1;function Y2(t,e){var n={};return!t||typeof t!="string"||(0,fY.default)(t,function(r,i){r&&i&&(n[(0,pY.camelCase)(r,e)]=i)}),n}Y2.default=Y2;var mY=Y2;const gY=v0(mY),W6=G6("end"),nb=G6("start");function G6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yY(t){const e=nb(t),n=W6(t);if(e&&n)return{start:e,end:n}}function wf(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FA(t.position):"start"in t||"end"in t?FA(t):"line"in t||"column"in t?Q2(t):""}function Q2(t){return VA(t&&t.line)+":"+VA(t&&t.column)}function FA(t){return Q2(t&&t.start)+"-"+Q2(t&&t.end)}function VA(t){return t&&typeof t=="number"?t:1}class Kr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=wf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Kr.prototype.file="";Kr.prototype.name="";Kr.prototype.reason="";Kr.prototype.message="";Kr.prototype.stack="";Kr.prototype.column=void 0;Kr.prototype.line=void 0;Kr.prototype.ancestors=void 0;Kr.prototype.cause=void 0;Kr.prototype.fatal=void 0;Kr.prototype.place=void 0;Kr.prototype.ruleId=void 0;Kr.prototype.source=void 0;const rb={}.hasOwnProperty,vY=new Map,wY=/[A-Z]/g,xY=new Set(["table","tbody","thead","tfoot","tr"]),bY=new Set(["td","th"]),K6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _Y(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=CY(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=kY(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?eb:zK,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Y6(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function Y6(t,e,n){if(e.type==="element")return SY(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return EY(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return TY(t,e,n);if(e.type==="mdxjsEsm")return AY(t,e);if(e.type==="root")return IY(t,e,n);if(e.type==="text")return NY(t,e)}function SY(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=eb,t.schema=i),t.ancestors.push(e);const s=X6(t,e.tagName,!1),o=PY(t,e);let a=sb(t,e);return xY.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!LK(l):!0})),Q6(t,o,s,e),ib(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function EY(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}op(t,e.position)}function AY(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);op(t,e.position)}function TY(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=eb,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:X6(t,e.name,!0),o=LY(t,e),a=sb(t,e);return Q6(t,o,s,e),ib(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function IY(t,e,n){const r={};return ib(r,sb(t,e)),t.create(e,t.Fragment,r,n)}function NY(t,e){return e.value}function Q6(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function ib(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function kY(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function CY(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=nb(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function PY(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&rb.call(e.properties,i)){const s=RY(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&bY.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function LY(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else op(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else op(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function sb(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:vY;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=Y6(t,s,o);a!==void 0&&n.push(a)}return n}function RY(t,e,n){const r=VK(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?IK(n):qK(n)),r.property==="style"){let i=typeof n=="object"?n:DY(t,String(n));return t.stylePropertyNameCase==="css"&&(i=OY(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?jK[r.property]||r.property:r.attribute,n]}}function DY(t,e){try{return gY(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Kr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=K6+"#cannot-parse-style-attribute",i}}function X6(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=kA(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=kA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return rb.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);op(t)}function op(t,e){const n=new Kr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=K6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function OY(t){const e={};let n;for(n in t)rb.call(t,n)&&(e[jY(n)]=t[n]);return e}function jY(t){let e=t.replace(wY,MY);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function MY(t){return"-"+t.toLowerCase()}const qy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},FY={};function VY(t,e){const n=FY,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return J6(t,r,i)}function J6(t,e,n){if(BY(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return BA(t.children,e,n)}return Array.isArray(t)?BA(t,e,n):""}function BA(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=J6(t[i],e,n);return r.join("")}function BY(t){return!!(t&&typeof t=="object")}const UA=document.createElement("i");function ob(t){const e="&"+t+";";UA.innerHTML=e;const n=UA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Eo(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function as(t,e){return t.length>0?(Eo(t,t.length,0,e),t):e}const zA={}.hasOwnProperty;function UY(t){const e={};let n=-1;for(;++n<t.length;)zY(e,t[n]);return e}function zY(t,e){let n;for(n in e){const i=(zA.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){zA.call(i,o)||(i[o]=[]);const a=s[o];qY(i[o],Array.isArray(a)?a:a?[a]:[])}}}function qY(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Eo(t,0,0,r)}function Z6(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xh(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fo=Zl(/[A-Za-z]/),Vi=Zl(/[\dA-Za-z]/),$Y=Zl(/[#-'*+\--9=?A-Z^-~]/);function X2(t){return t!==null&&(t<32||t===127)}const J2=Zl(/\d/),HY=Zl(/[\dA-Fa-f]/),WY=Zl(/[!-/:-@[-`{-~]/);function wt(t){return t!==null&&t<-2}function _i(t){return t!==null&&(t<0||t===32)}function $t(t){return t===-2||t===-1||t===32}const GY=Zl(new RegExp("\\p{P}|\\p{S}","u")),KY=Zl(/\s/);function Zl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ad(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Vi(t.charCodeAt(n+1))&&Vi(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function fn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return $t(l)?(t.enter(n),a(l)):e(l)}function a(l){return $t(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const YY={tokenize:QY};function QY(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),fn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return wt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const XY={tokenize:JY},qA={tokenize:ZY};function JY(t){const e=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,l,u)(A)}return u(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const B=e.events.length;let K=B,W;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){W=e.events[K][1].end;break}w(r);let j=B;for(;j<e.events.length;)e.events[j][1].end={...W},j++;return Eo(e.events,K+1,0,e.events.slice(B)),e.events.length=j,u(A)}return a(A)}function u(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return _(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(qA,c,d)(A)}function c(A){return i&&S(),w(r),m(A)}function d(A){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(A)}function m(A){return e.containerState={},t.attempt(qA,p,_)(A)}function p(A){return r++,n.push([e.currentConstruct,e.containerState]),m(A)}function _(A){if(A===null){i&&S(),w(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(A)}function b(A){if(A===null){I(t.exit("chunkFlow"),!0),w(0),t.consume(A);return}return wt(A)?(t.consume(A),I(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(A),b)}function I(A,B){const K=e.sliceStream(A);if(B&&K.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(K),e.parser.lazy[A.start.line]){let W=i.events.length;for(;W--;)if(i.events[W][1].start.offset<o&&(!i.events[W][1].end||i.events[W][1].end.offset>o))return;const j=e.events.length;let N=j,R,M;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(R){M=e.events[N][1].end;break}R=!0}for(w(r),W=j;W<e.events.length;)e.events[W][1].end={...M},W++;Eo(e.events,N+1,0,e.events.slice(j)),e.events.length=W}}function w(A){let B=n.length;for(;B-- >A;){const K=n[B];e.containerState=K[1],K[0].exit.call(e,t)}n.length=A}function S(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function ZY(t,e,n){return fn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $A(t){if(t===null||_i(t)||KY(t))return 1;if(GY(t))return 2}function ab(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Z2={name:"attention",resolveAll:eQ,tokenize:tQ};function eQ(t,e){let n=-1,r,i,s,o,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},m={...t[n][1].start};HA(d,-l),HA(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=as(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=as(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=as(u,ab(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=as(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=as(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Eo(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function tQ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$A(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),c=$A(l),d=!c||c===2&&i||n.includes(l),m=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!m)),u._close=!!(s===42?m:m&&(c||!d)),e(l)}}function HA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const nQ={name:"autolink",tokenize:rQ};function rQ(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return fo(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Vi(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Vi(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||X2(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):$Y(p)?(t.consume(p),u):n(p)}function c(p){return Vi(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):m(p)}function m(p){if((p===45||Vi(p))&&r++<63){const _=p===45?m:d;return t.consume(p),_}return n(p)}}const v1={partial:!0,tokenize:iQ};function iQ(t,e,n){return r;function r(s){return $t(s)?fn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||wt(s)?e(s):n(s)}}const eL={continuation:{tokenize:oQ},exit:aQ,name:"blockQuote",tokenize:sQ};function sQ(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return $t(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function oQ(t,e,n){const r=this;return i;function i(o){return $t(o)?fn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(eL,e,n)(o)}}function aQ(t){t.exit("blockQuote")}const tL={name:"characterEscape",tokenize:lQ};function lQ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return WY(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const nL={name:"characterReference",tokenize:uQ};function uQ(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Vi,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=HY,c):(t.enter("characterReferenceValue"),s=7,o=J2,c(d))}function c(d){if(d===59&&i){const m=t.exit("characterReferenceValue");return o===Vi&&!ob(r.sliceSerialize(m))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),c):n(d)}}const WA={partial:!0,tokenize:hQ},GA={concrete:!0,name:"codeFenced",tokenize:cQ};function cQ(t,e,n){const r=this,i={partial:!0,tokenize:K};let s=0,o=0,a;return l;function l(W){return u(W)}function u(W){const j=r.events[r.events.length-1];return s=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,a=W,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(W)}function c(W){return W===a?(o++,t.consume(W),c):o<3?n(W):(t.exit("codeFencedFenceSequence"),$t(W)?fn(t,d,"whitespace")(W):d(W))}function d(W){return W===null||wt(W)?(t.exit("codeFencedFence"),r.interrupt?e(W):t.check(WA,b,B)(W)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(W))}function m(W){return W===null||wt(W)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(W)):$t(W)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),fn(t,p,"whitespace")(W)):W===96&&W===a?n(W):(t.consume(W),m)}function p(W){return W===null||wt(W)?d(W):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(W))}function _(W){return W===null||wt(W)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(W)):W===96&&W===a?n(W):(t.consume(W),_)}function b(W){return t.attempt(i,B,I)(W)}function I(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),w}function w(W){return s>0&&$t(W)?fn(t,S,"linePrefix",s+1)(W):S(W)}function S(W){return W===null||wt(W)?t.check(WA,b,B)(W):(t.enter("codeFlowValue"),A(W))}function A(W){return W===null||wt(W)?(t.exit("codeFlowValue"),S(W)):(t.consume(W),A)}function B(W){return t.exit("codeFenced"),e(W)}function K(W,j,N){let R=0;return M;function M(fe){return W.enter("lineEnding"),W.consume(fe),W.exit("lineEnding"),T}function T(fe){return W.enter("codeFencedFence"),$t(fe)?fn(W,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):C(fe)}function C(fe){return fe===a?(W.enter("codeFencedFenceSequence"),D(fe)):N(fe)}function D(fe){return fe===a?(R++,W.consume(fe),D):R>=o?(W.exit("codeFencedFenceSequence"),$t(fe)?fn(W,X,"whitespace")(fe):X(fe)):N(fe)}function X(fe){return fe===null||wt(fe)?(W.exit("codeFencedFence"),j(fe)):N(fe)}}}function hQ(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const $y={name:"codeIndented",tokenize:fQ},dQ={partial:!0,tokenize:pQ};function fQ(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),fn(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):wt(u)?t.attempt(dQ,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||wt(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function pQ(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):wt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):fn(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):wt(o)?i(o):n(o)}}const mQ={name:"codeText",previous:yQ,resolve:gQ,tokenize:vQ};function gQ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function yQ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function vQ(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,c(d)):wt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||wt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class wQ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Md(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Md(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Md(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Md(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Md(this.left,n.reverse())}}}function Md(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function rL(t){const e={};let n=-1,r,i,s,o,a,l,u;const c=new wQ(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,xQ(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Eo(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function xQ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,m=-1,p=n,_=0,b=0;const I=[b];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++m<a.length;)a[m][0]==="exit"&&a[m-1][0]==="enter"&&a[m][1].type===a[m-1][1].type&&a[m][1].start.line!==a[m][1].end.line&&(b=m+1,I.push(b),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):I.pop(),m=I.length;m--;){const w=a.slice(I[m],I[m+1]),S=s.pop();l.push([S,S+w.length-1]),t.splice(S,2,w)}for(l.reverse(),m=-1;++m<l.length;)u[_+l[m][0]]=_+l[m][1],_+=l[m][1]-l[m][0]-1;return u}const bQ={resolve:SQ,tokenize:EQ},_Q={partial:!0,tokenize:AQ};function SQ(t){return rL(t),t}function EQ(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):wt(a)?t.check(_Q,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function AQ(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),fn(t,s,"linePrefix")}function s(o){if(o===null||wt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function iL(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(w){return w===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(w),t.exit(s),m):w===null||w===32||w===41||X2(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),b(w))}function m(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===62?(t.exit("chunkString"),t.exit(a),m(w)):w===null||w===60||wt(w)?n(w):(t.consume(w),w===92?_:p)}function _(w){return w===60||w===62||w===92?(t.consume(w),p):p(w)}function b(w){return!c&&(w===null||w===41||_i(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):c<u&&w===40?(t.consume(w),c++,b):w===41?(t.consume(w),c--,b):w===null||w===32||w===40||X2(w)?n(w):(t.consume(w),w===92?I:b)}function I(w){return w===40||w===41||w===92?(t.consume(w),b):b(w)}}function sL(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):wt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||wt(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!$t(p)),p===92?m:d)}function m(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function oL(t,e,n,r,i,s){let o;return a;function a(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,l):n(m)}function l(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(s),u(m))}function u(m){return m===o?(t.exit(s),l(o)):m===null?n(m):wt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),fn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(m))}function c(m){return m===o||m===null||wt(m)?(t.exit("chunkString"),u(m)):(t.consume(m),m===92?d:c)}function d(m){return m===o||m===92?(t.consume(m),c):c(m)}}function xf(t,e){let n;return r;function r(i){return wt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):$t(i)?fn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const TQ={name:"definition",tokenize:NQ},IQ={partial:!0,tokenize:kQ};function NQ(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return sL.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=xh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return _i(p)?xf(t,u)(p):u(p)}function u(p){return iL(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(IQ,d,d)(p)}function d(p){return $t(p)?fn(t,m,"whitespace")(p):m(p)}function m(p){return p===null||wt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function kQ(t,e,n){return r;function r(a){return _i(a)?xf(t,i)(a):n(a)}function i(a){return oL(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return $t(a)?fn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||wt(a)?e(a):n(a)}}const CQ={name:"hardBreakEscape",tokenize:PQ};function PQ(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return wt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const LQ={name:"headingAtx",resolve:RQ,tokenize:DQ};function RQ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Eo(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function DQ(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||_i(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||wt(c)?(t.exit("atxHeading"),e(c)):$t(c)?fn(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||_i(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const OQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KA=["pre","script","style","textarea"],jQ={concrete:!0,name:"htmlFlow",resolveTo:VQ,tokenize:BQ},MQ={partial:!0,tokenize:zQ},FQ={partial:!0,tokenize:UQ};function VQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function BQ(t,e,n){const r=this;let i,s,o,a,l;return u;function u(L){return c(L)}function c(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),d}function d(L){return L===33?(t.consume(L),m):L===47?(t.consume(L),s=!0,b):L===63?(t.consume(L),i=3,r.interrupt?e:z):fo(L)?(t.consume(L),o=String.fromCharCode(L),I):n(L)}function m(L){return L===45?(t.consume(L),i=2,p):L===91?(t.consume(L),i=5,a=0,_):fo(L)?(t.consume(L),i=4,r.interrupt?e:z):n(L)}function p(L){return L===45?(t.consume(L),r.interrupt?e:z):n(L)}function _(L){const J="CDATA[";return L===J.charCodeAt(a++)?(t.consume(L),a===J.length?r.interrupt?e:C:_):n(L)}function b(L){return fo(L)?(t.consume(L),o=String.fromCharCode(L),I):n(L)}function I(L){if(L===null||L===47||L===62||_i(L)){const J=L===47,ee=o.toLowerCase();return!J&&!s&&KA.includes(ee)?(i=1,r.interrupt?e(L):C(L)):OQ.includes(o.toLowerCase())?(i=6,J?(t.consume(L),w):r.interrupt?e(L):C(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):s?S(L):A(L))}return L===45||Vi(L)?(t.consume(L),o+=String.fromCharCode(L),I):n(L)}function w(L){return L===62?(t.consume(L),r.interrupt?e:C):n(L)}function S(L){return $t(L)?(t.consume(L),S):M(L)}function A(L){return L===47?(t.consume(L),M):L===58||L===95||fo(L)?(t.consume(L),B):$t(L)?(t.consume(L),A):M(L)}function B(L){return L===45||L===46||L===58||L===95||Vi(L)?(t.consume(L),B):K(L)}function K(L){return L===61?(t.consume(L),W):$t(L)?(t.consume(L),K):A(L)}function W(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),l=L,j):$t(L)?(t.consume(L),W):N(L)}function j(L){return L===l?(t.consume(L),l=null,R):L===null||wt(L)?n(L):(t.consume(L),j)}function N(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||_i(L)?K(L):(t.consume(L),N)}function R(L){return L===47||L===62||$t(L)?A(L):n(L)}function M(L){return L===62?(t.consume(L),T):n(L)}function T(L){return L===null||wt(L)?C(L):$t(L)?(t.consume(L),T):n(L)}function C(L){return L===45&&i===2?(t.consume(L),pe):L===60&&i===1?(t.consume(L),ae):L===62&&i===4?(t.consume(L),_e):L===63&&i===3?(t.consume(L),z):L===93&&i===5?(t.consume(L),le):wt(L)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(MQ,O,D)(L)):L===null||wt(L)?(t.exit("htmlFlowData"),D(L)):(t.consume(L),C)}function D(L){return t.check(FQ,X,O)(L)}function X(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),fe}function fe(L){return L===null||wt(L)?D(L):(t.enter("htmlFlowData"),C(L))}function pe(L){return L===45?(t.consume(L),z):C(L)}function ae(L){return L===47?(t.consume(L),o="",Z):C(L)}function Z(L){if(L===62){const J=o.toLowerCase();return KA.includes(J)?(t.consume(L),_e):C(L)}return fo(L)&&o.length<8?(t.consume(L),o+=String.fromCharCode(L),Z):C(L)}function le(L){return L===93?(t.consume(L),z):C(L)}function z(L){return L===62?(t.consume(L),_e):L===45&&i===2?(t.consume(L),z):C(L)}function _e(L){return L===null||wt(L)?(t.exit("htmlFlowData"),O(L)):(t.consume(L),_e)}function O(L){return t.exit("htmlFlow"),e(L)}}function UQ(t,e,n){const r=this;return i;function i(o){return wt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function zQ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(v1,e,n)}}const qQ={name:"htmlText",tokenize:$Q};function $Q(t,e,n){const r=this;let i,s,o;return a;function a(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),l}function l(z){return z===33?(t.consume(z),u):z===47?(t.consume(z),K):z===63?(t.consume(z),A):fo(z)?(t.consume(z),N):n(z)}function u(z){return z===45?(t.consume(z),c):z===91?(t.consume(z),s=0,_):fo(z)?(t.consume(z),S):n(z)}function c(z){return z===45?(t.consume(z),p):n(z)}function d(z){return z===null?n(z):z===45?(t.consume(z),m):wt(z)?(o=d,ae(z)):(t.consume(z),d)}function m(z){return z===45?(t.consume(z),p):d(z)}function p(z){return z===62?pe(z):z===45?m(z):d(z)}function _(z){const _e="CDATA[";return z===_e.charCodeAt(s++)?(t.consume(z),s===_e.length?b:_):n(z)}function b(z){return z===null?n(z):z===93?(t.consume(z),I):wt(z)?(o=b,ae(z)):(t.consume(z),b)}function I(z){return z===93?(t.consume(z),w):b(z)}function w(z){return z===62?pe(z):z===93?(t.consume(z),w):b(z)}function S(z){return z===null||z===62?pe(z):wt(z)?(o=S,ae(z)):(t.consume(z),S)}function A(z){return z===null?n(z):z===63?(t.consume(z),B):wt(z)?(o=A,ae(z)):(t.consume(z),A)}function B(z){return z===62?pe(z):A(z)}function K(z){return fo(z)?(t.consume(z),W):n(z)}function W(z){return z===45||Vi(z)?(t.consume(z),W):j(z)}function j(z){return wt(z)?(o=j,ae(z)):$t(z)?(t.consume(z),j):pe(z)}function N(z){return z===45||Vi(z)?(t.consume(z),N):z===47||z===62||_i(z)?R(z):n(z)}function R(z){return z===47?(t.consume(z),pe):z===58||z===95||fo(z)?(t.consume(z),M):wt(z)?(o=R,ae(z)):$t(z)?(t.consume(z),R):pe(z)}function M(z){return z===45||z===46||z===58||z===95||Vi(z)?(t.consume(z),M):T(z)}function T(z){return z===61?(t.consume(z),C):wt(z)?(o=T,ae(z)):$t(z)?(t.consume(z),T):R(z)}function C(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),i=z,D):wt(z)?(o=C,ae(z)):$t(z)?(t.consume(z),C):(t.consume(z),X)}function D(z){return z===i?(t.consume(z),i=void 0,fe):z===null?n(z):wt(z)?(o=D,ae(z)):(t.consume(z),D)}function X(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||_i(z)?R(z):(t.consume(z),X)}function fe(z){return z===47||z===62||_i(z)?R(z):n(z)}function pe(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function ae(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),Z}function Z(z){return $t(z)?fn(t,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):le(z)}function le(z){return t.enter("htmlTextData"),o(z)}}const lb={name:"labelEnd",resolveAll:KQ,resolveTo:YQ,tokenize:QQ},HQ={tokenize:XQ},WQ={tokenize:JQ},GQ={tokenize:ZQ};function KQ(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Eo(t,0,t.length,n),t}function YQ(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},c={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=as(a,t.slice(s+1,s+r+3)),a=as(a,[["enter",c,e]]),a=as(a,ab(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=as(a,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),a=as(a,t.slice(o+1)),a=as(a,[["exit",l,e]]),Eo(t,s,t.length,a),t}function QQ(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(m){return s?s._inactive?d(m):(o=r.parser.defined.includes(xh(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(HQ,c,o?c:d)(m):m===91?t.attempt(WQ,c,o?u:d)(m):o?c(m):d(m)}function u(m){return t.attempt(GQ,c,d)(m)}function c(m){return e(m)}function d(m){return s._balanced=!0,n(m)}}function XQ(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return _i(d)?xf(t,s)(d):s(d)}function s(d){return d===41?c(d):iL(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return _i(d)?xf(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?oL(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return _i(d)?xf(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function JQ(t,e,n){const r=this;return i;function i(a){return sL.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(xh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function ZQ(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const eX={name:"labelStartImage",resolveAll:lb.resolveAll,tokenize:tX};function tX(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const nX={name:"labelStartLink",resolveAll:lb.resolveAll,tokenize:rX};function rX(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Hy={name:"lineEnding",tokenize:iX};function iX(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),fn(t,e,"linePrefix")}}const ag={name:"thematicBreak",tokenize:sX};function sX(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||wt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),$t(u)?fn(t,a,"whitespace")(u):a(u))}}const pi={continuation:{tokenize:uX},exit:hX,name:"list",tokenize:lX},oX={partial:!0,tokenize:dX},aX={partial:!0,tokenize:cX};function lX(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const _=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:J2(p)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(ag,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return J2(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(v1,r.interrupt?n:c,t.attempt(oX,m,d))}function c(p){return r.containerState.initialBlankLine=!0,s++,m(p)}function d(p){return $t(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function uX(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(v1,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,fn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!$t(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(aX,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,fn(t,t.attempt(pi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function cX(t,e,n){const r=this;return fn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function hX(t){t.exit(this.containerState.type)}function dX(t,e,n){const r=this;return fn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!$t(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const YA={name:"setextUnderline",resolveTo:fX,tokenize:pX};function fX(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function pX(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),$t(u)?fn(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||wt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const mX={tokenize:gX};function gX(t){const e=this,n=t.attempt(v1,r,t.attempt(this.parser.constructs.flowInitial,i,fn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(bQ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const yX={resolveAll:lL()},vX=aL("string"),wX=aL("text");function aL(t){return{resolveAll:lL(t==="text"?xX:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let m=-1;if(d)for(;++m<d.length;){const p=d[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function lL(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function xX(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const bX={42:pi,43:pi,45:pi,48:pi,49:pi,50:pi,51:pi,52:pi,53:pi,54:pi,55:pi,56:pi,57:pi,62:eL},_X={91:TQ},SX={[-2]:$y,[-1]:$y,32:$y},EX={35:LQ,42:ag,45:[YA,ag],60:jQ,61:YA,95:ag,96:GA,126:GA},AX={38:nL,92:tL},TX={[-5]:Hy,[-4]:Hy,[-3]:Hy,33:eX,38:nL,42:Z2,60:[nQ,qQ],91:nX,92:[CQ,tL],93:lb,95:Z2,96:mQ},IX={null:[Z2,yX]},NX={null:[42,95]},kX={null:[]},CX=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:NX,contentInitial:_X,disable:kX,document:bX,flow:EX,flowInitial:SX,insideSpan:IX,string:AX,text:TX},Symbol.toStringTag,{value:"Module"}));function PX(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:j(K),check:j(W),consume:S,enter:A,exit:B,interrupt:j(W,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:_,parser:t,previous:null,sliceSerialize:m,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(T){return o=as(o,T),I(),o[o.length-1]!==null?[]:(N(e,0),u.events=ab(s,u.events,u),u.events)}function m(T,C){return RX(p(T),C)}function p(T){return LX(o,T)}function _(){const{_bufferIndex:T,_index:C,line:D,column:X,offset:fe}=r;return{_bufferIndex:T,_index:C,line:D,column:X,offset:fe}}function b(T){i[T.line]=T.column,M()}function I(){let T;for(;r._index<o.length;){const C=o[r._index];if(typeof C=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<C.length;)w(C.charCodeAt(r._bufferIndex));else w(C)}}function w(T){c=c(T)}function S(T){wt(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,M()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=T}function A(T,C){const D=C||{};return D.type=T,D.start=_(),u.events.push(["enter",D,u]),a.push(D),D}function B(T){const C=a.pop();return C.end=_(),u.events.push(["exit",C,u]),C}function K(T,C){N(T,C.from)}function W(T,C){C.restore()}function j(T,C){return D;function D(X,fe,pe){let ae,Z,le,z;return Array.isArray(X)?O(X):"tokenize"in X?O([X]):_e(X);function _e(re){return ge;function ge(we){const be=we!==null&&re[we],je=we!==null&&re.null,De=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(je)?je:je?[je]:[]];return O(De)(we)}}function O(re){return ae=re,Z=0,re.length===0?pe:L(re[Z])}function L(re){return ge;function ge(we){return z=R(),le=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?ee():re.tokenize.call(C?Object.assign(Object.create(u),C):u,l,J,ee)(we)}}function J(re){return T(le,z),fe}function ee(re){return z.restore(),++Z<ae.length?L(ae[Z]):pe}}}function N(T,C){T.resolveAll&&!s.includes(T)&&s.push(T),T.resolve&&Eo(u.events,C,u.events.length-C,T.resolve(u.events.slice(C),u)),T.resolveTo&&(u.events=T.resolveTo(u.events,u))}function R(){const T=_(),C=u.previous,D=u.currentConstruct,X=u.events.length,fe=Array.from(a);return{from:X,restore:pe};function pe(){r=T,u.previous=C,u.currentConstruct=D,u.events.length=X,a=fe,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function LX(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function RX(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function DX(t){const r={constructs:UY([CX,...(t||{}).extensions||[]]),content:i(YY),defined:[],document:i(XY),flow:i(mX),lazy:{},string:i(vX),text:i(wX)};return r;function i(s){return o;function o(a){return PX(r,s,a)}}}function OX(t){for(;!rL(t););return t}const QA=/[\0\t\n\r]/g;function jX(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,m,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(QA.lastIndex=d,u=QA.exec(s),m=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(m),!u){e=s.slice(d);break}if(p===10&&d===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<m&&(l.push(s.slice(d,m)),t+=m-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=m+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const MX=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FX(t){return t.replace(MX,VX)}function VX(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Z6(n.slice(s?2:1),s?16:10)}return ob(n)||t}const uL={}.hasOwnProperty;function BX(t,e,n){return typeof e!="string"&&(n=e,e=void 0),UX(n)(OX(DX(n).document().write(jX()(t,e,!0))))}function UX(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Me),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(Ee),blockQuote:s(je),characterEscape:R,characterReference:R,codeFenced:s(De),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(De,o),codeText:s($e,o),codeTextData:R,data:R,codeFlowValue:R,definition:s(qe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ot),hardBreakEscape:s(te),hardBreakTrailing:s(te),htmlFlow:s(yt,o),htmlFlowData:R,htmlText:s(yt,o),htmlTextData:R,image:s(rt),label:o,link:s(Me),listItem:s(Ke),listItemValue:m,listOrdered:s(Be,d),listUnordered:s(Be),paragraph:s(He),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ee),strong:s(st),thematicBreak:s(xt)},exit:{atxHeading:l(),atxHeadingSequence:K,autolink:l(),autolinkEmail:be,autolinkProtocol:we,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:re,characterReference:ge,codeFenced:l(I),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:_,codeFlowValue:M,codeIndented:l(w),codeText:l(fe),codeTextData:M,data:M,definition:l(),definitionDestinationString:B,definitionLabelString:S,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(D),htmlFlowData:M,htmlText:l(X),htmlTextData:M,image:l(ae),label:le,labelText:Z,lineEnding:T,link:l(pe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:z,resourceTitleString:_e,resource:O,setextHeading:l(N),setextHeadingLineSequence:j,setextHeadingText:W,strong:l(),thematicBreak:l()}};cL(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(me){let Te={type:"root",children:[]};const Ye={stack:[Te],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:n},Ue=[];let Je=-1;for(;++Je<me.length;)if(me[Je][1].type==="listOrdered"||me[Je][1].type==="listUnordered")if(me[Je][0]==="enter")Ue.push(Je);else{const ze=Ue.pop();Je=i(me,ze,Je)}for(Je=-1;++Je<me.length;){const ze=e[me[Je][0]];uL.call(ze,me[Je][1].type)&&ze[me[Je][1].type].call(Object.assign({sliceSerialize:me[Je][2].sliceSerialize},Ye),me[Je][1])}if(Ye.tokenStack.length>0){const ze=Ye.tokenStack[Ye.tokenStack.length-1];(ze[1]||XA).call(Ye,void 0,ze[0])}for(Te.position={start:Qa(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:Qa(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)Te=e.transforms[Je](Te)||Te;return Te}function i(me,Te,Ye){let Ue=Te-1,Je=-1,ze=!1,Ht,bt,qn,Rt;for(;++Ue<=Ye;){const Ct=me[Ue];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?Je++:Je--,Rt=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(Ht&&!Rt&&!Je&&!qn&&(qn=Ue),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!Je&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||Je===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(Ht){let Zn=Ue;for(bt=void 0;Zn--;){const St=me[Zn];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;bt&&(me[bt][1].type="lineEndingBlank",ze=!0),St[1].type="lineEnding",bt=Zn}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}qn&&(!bt||qn<bt)&&(Ht._spread=!0),Ht.end=Object.assign({},bt?me[bt][1].start:Ct[1].end),me.splice(bt||Ue,0,["exit",Ht,Ct[2]]),Ue++,Ye++}if(Ct[1].type==="listItemPrefix"){const Zn={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};Ht=Zn,me.splice(Ue,0,["enter",Zn,Ct[2]]),Ue++,Ye++,qn=void 0,Rt=!0}}}return me[Te][1]._spread=ze,Ye}function s(me,Te){return Ye;function Ye(Ue){a.call(this,me(Ue),Ue),Te&&Te.call(this,Ue)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(me,Te,Ye){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Te,Ye||void 0]),me.position={start:Qa(Te.start),end:void 0}}function l(me){return Te;function Te(Ye){me&&me.call(this,Ye),u.call(this,Ye)}}function u(me,Te){const Ye=this.stack.pop(),Ue=this.tokenStack.pop();if(Ue)Ue[0].type!==me.type&&(Te?Te.call(this,me,Ue[0]):(Ue[1]||XA).call(this,me,Ue[0]));else throw new Error("Cannot close `"+me.type+"` ("+wf({start:me.start,end:me.end})+"): its not open");Ye.position.end=Qa(me.end)}function c(){return VY(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(me){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function p(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=me}function _(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=me}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.value=me.replace(/(\r?\n|\r)$/g,"")}function S(me){const Te=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=Te,Ye.identifier=xh(this.sliceSerialize(me)).toLowerCase()}function A(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.title=me}function B(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.url=me}function K(me){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ye=this.sliceSerialize(me).length;Te.depth=Ye}}function W(){this.data.setextHeadingSlurpLineEnding=!0}function j(me){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function R(me){const Ye=this.stack[this.stack.length-1].children;let Ue=Ye[Ye.length-1];(!Ue||Ue.type!=="text")&&(Ue=ht(),Ue.position={start:Qa(me.start),end:void 0},Ye.push(Ue)),this.stack.push(Ue)}function M(me){const Te=this.stack.pop();Te.value+=this.sliceSerialize(me),Te.position.end=Qa(me.end)}function T(me){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ye=Te.children[Te.children.length-1];Ye.position.end=Qa(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(R.call(this,me),M.call(this,me))}function C(){this.data.atHardBreak=!0}function D(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.value=me}function X(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.value=me}function fe(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.value=me}function pe(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Te,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function ae(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Te,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function Z(me){const Te=this.sliceSerialize(me),Ye=this.stack[this.stack.length-2];Ye.label=FX(Te),Ye.identifier=xh(Te).toLowerCase()}function le(){const me=this.stack[this.stack.length-1],Te=this.resume(),Ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ye.type==="link"){const Ue=me.children;Ye.children=Ue}else Ye.alt=Te}function z(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.url=me}function _e(){const me=this.resume(),Te=this.stack[this.stack.length-1];Te.title=me}function O(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function J(me){const Te=this.resume(),Ye=this.stack[this.stack.length-1];Ye.label=Te,Ye.identifier=xh(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function ee(me){this.data.characterReferenceType=me.type}function re(me){const Te=this.sliceSerialize(me),Ye=this.data.characterReferenceType;let Ue;Ye?(Ue=Z6(Te,Ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ue=ob(Te);const Je=this.stack[this.stack.length-1];Je.value+=Ue}function ge(me){const Te=this.stack.pop();Te.position.end=Qa(me.end)}function we(me){M.call(this,me);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(me)}function be(me){M.call(this,me);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(me)}function je(){return{type:"blockquote",children:[]}}function De(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ot(){return{type:"emphasis",children:[]}}function Ee(){return{type:"heading",depth:0,children:[]}}function te(){return{type:"break"}}function yt(){return{type:"html",value:""}}function rt(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function Be(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function Ke(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function He(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function xt(){return{type:"thematicBreak"}}}function Qa(t){return{line:t.line,column:t.column,offset:t.offset}}function cL(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?cL(t,r):zX(t,r)}}function zX(t,e){let n;for(n in e)if(uL.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function XA(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+wf({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+wf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+wf({start:e.start,end:e.end})+") is still open")}function qX(t){const e=this;e.parser=n;function n(r){return BX(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function $X(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function HX(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function WX(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function GX(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KX(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YX(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ad(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function QX(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XX(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function hL(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function JX(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hL(t,e);const i={src:ad(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function ZX(t,e){const n={src:ad(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function eJ(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function tJ(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hL(t,e);const i={href:ad(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function nJ(t,e){const n={href:ad(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function rJ(t,e,n){const r=t.all(e),i=n?iJ(n):dL(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function iJ(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dL(n[r])}return e}function dL(t){const e=t.spread;return e??t.children.length>1}function sJ(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function oJ(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function aJ(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function lJ(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uJ(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=nb(e.children[1]),l=W6(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function cJ(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],m={},p=o?o[l]:void 0;p&&(m.align=p);let _={type:"element",tagName:s,properties:m,children:[]};d&&(_.children=t.all(d),t.patch(d,_),_=t.applyData(d,_)),u.push(_)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function hJ(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const JA=9,ZA=32;function dJ(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(e3(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(e3(e.slice(i),i>0,!1)),s.join("")}function e3(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===JA||s===ZA;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===JA||s===ZA;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function fJ(t,e){const n={type:"text",value:dJ(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function pJ(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const mJ={blockquote:$X,break:HX,code:WX,delete:GX,emphasis:KX,footnoteReference:YX,heading:QX,html:XX,imageReference:JX,image:ZX,inlineCode:eJ,linkReference:tJ,link:nJ,listItem:rJ,list:sJ,paragraph:oJ,root:aJ,strong:lJ,table:uJ,tableCell:hJ,tableRow:cJ,text:fJ,thematicBreak:pJ,toml:Im,yaml:Im,definition:Im,footnoteDefinition:Im};function Im(){}const fL=-1,w1=0,bf=1,p0=2,ub=3,cb=4,hb=5,db=6,pL=7,mL=8,t3=typeof self=="object"?self:globalThis,gJ=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case w1:case fL:return n(o,i);case bf:{const a=n([],i);for(const l of o)a.push(r(l));return a}case p0:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case ub:return n(new Date(o),i);case cb:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case hb:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case db:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case pL:{const{name:a,message:l}=o;return n(new t3[a](l),i)}case mL:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new t3[s](o),i)};return r},n3=t=>gJ(new Map,t)(0),Dc="",{toString:yJ}={},{keys:vJ}=Object,Fd=t=>{const e=typeof t;if(e!=="object"||!t)return[w1,e];const n=yJ.call(t).slice(8,-1);switch(n){case"Array":return[bf,Dc];case"Object":return[p0,Dc];case"Date":return[ub,Dc];case"RegExp":return[cb,Dc];case"Map":return[hb,Dc];case"Set":return[db,Dc];case"DataView":return[bf,n]}return n.includes("Array")?[bf,n]:n.includes("Error")?[pL,n]:[p0,n]},Nm=([t,e])=>t===w1&&(e==="function"||e==="symbol"),wJ=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Fd(o);switch(a){case w1:{let c=o;switch(l){case"bigint":a=mL,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([fL],o)}return i([a,c],o)}case bf:{if(l){let m=o;return l==="DataView"?m=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(o)),i([l,[...m]],o)}const c=[],d=i([a,c],o);for(const m of o)c.push(s(m));return d}case p0:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const m of vJ(o))(t||!Nm(Fd(o[m])))&&c.push([s(m),s(o[m])]);return d}case ub:return i([a,o.toISOString()],o);case cb:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case hb:{const c=[],d=i([a,c],o);for(const[m,p]of o)(t||!(Nm(Fd(m))||Nm(Fd(p))))&&c.push([s(m),s(p)]);return d}case db:{const c=[],d=i([a,c],o);for(const m of o)(t||!Nm(Fd(m)))&&c.push(s(m));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},r3=(t,{json:e,lossy:n}={})=>{const r=[];return wJ(!(e||n),!!e,new Map,r)(t),r},m0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?n3(r3(t,e)):structuredClone(t):(t,e)=>n3(r3(t,e));function xJ(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function bJ(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function _J(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||xJ,r=t.options.footnoteBackLabel||bJ,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),m=ad(d.toLowerCase());let p=0;const _=[],b=t.footnoteCounts.get(d);for(;b!==void 0&&++p<=b;){_.length>0&&_.push({type:"text",value:" "});let S=typeof n=="string"?n:n(l,p);typeof S=="string"&&(S={type:"text",value:S}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const I=c[c.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const S=I.children[I.children.length-1];S&&S.type==="text"?S.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(..._)}else c.push(..._);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(c,!0)};t.patch(u,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...m0(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const gL=function(t){if(t==null)return TJ;if(typeof t=="function")return x1(t);if(typeof t=="object")return Array.isArray(t)?SJ(t):EJ(t);if(typeof t=="string")return AJ(t);throw new Error("Expected function, string, or object as test")};function SJ(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=gL(t[n]);return x1(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function EJ(t){const e=t;return x1(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function AJ(t){return x1(e);function e(n){return n&&n.type===t}}function x1(t){return e;function e(n,r,i){return!!(IJ(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function TJ(){return!0}function IJ(t){return t!==null&&typeof t=="object"&&"type"in t}const yL=[],NJ=!0,i3=!1,kJ="skip";function CJ(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=gL(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=yL,_,b,I;if((!e||s(l,u,c[c.length-1]||void 0))&&(p=PJ(n(l,c)),p[0]===i3))return p;if("children"in l&&l.children){const w=l;if(w.children&&p[0]!==kJ)for(b=(r?w.children.length:-1)+o,I=c.concat(w);b>-1&&b<w.children.length;){const S=w.children[b];if(_=a(S,b,I)(),_[0]===i3)return _;b=typeof _[1]=="number"?_[1]:b+o}}return p}}}function PJ(t){return Array.isArray(t)?t:typeof t=="number"?[NJ,t]:t==null?yL:[t]}function vL(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),CJ(t,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const e5={}.hasOwnProperty,LJ={};function RJ(t,e){const n=e||LJ,r=new Map,i=new Map,s=new Map,o={...mJ,...n.handlers},a={all:u,applyData:OJ,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:DJ,wrap:MJ};return vL(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,m=String(c.identifier).toUpperCase();d.has(m)||d.set(m,c)}}),a;function l(c,d){const m=c.type,p=a.handlers[m];if(e5.call(a.handlers,m)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(m)){if("children"in c){const{children:b,...I}=c,w=m0(I);return w.children=a.all(c),w}return m0(c)}return(a.options.unknownHandler||jJ)(a,c,d)}function u(c){const d=[];if("children"in c){const m=c.children;let p=-1;for(;++p<m.length;){const _=a.one(m[p],c);if(_){if(p&&m[p-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=s3(_.value)),!Array.isArray(_)&&_.type==="element")){const b=_.children[0];b&&b.type==="text"&&(b.value=s3(b.value))}Array.isArray(_)?d.push(..._):d.push(_)}}}return d}}function DJ(t,e){t.position&&(e.position=yY(t))}function OJ(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,m0(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function jJ(t,e){const n=e.data||{},r="value"in e&&!(e5.call(n,"hProperties")||e5.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function MJ(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function s3(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function o3(t,e){const n=RJ(t,e),r=n.one(t,void 0),i=_J(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function FJ(t,e){return t&&"run"in t?async function(n,r){const i=o3(n,{file:r,...e});await t.run(i,r)}:function(n,r){return o3(n,{file:r,...t||e})}}function a3(t){if(t)throw t}var lg=Object.prototype.hasOwnProperty,wL=Object.prototype.toString,l3=Object.defineProperty,u3=Object.getOwnPropertyDescriptor,c3=function(e){return typeof Array.isArray=="function"?Array.isArray(e):wL.call(e)==="[object Array]"},h3=function(e){if(!e||wL.call(e)!=="[object Object]")return!1;var n=lg.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&lg.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||lg.call(e,i)},d3=function(e,n){l3&&n.name==="__proto__"?l3(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},f3=function(e,n){if(n==="__proto__")if(lg.call(e,n)){if(u3)return u3(e,n).value}else return;return e[n]},VJ=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=f3(a,n),i=f3(e,n),a!==i&&(c&&i&&(h3(i)||(s=c3(i)))?(s?(s=!1,o=r&&c3(r)?r:[]):o=r&&h3(r)?r:{},d3(a,{name:n,newValue:t(c,o,i)})):typeof i<"u"&&d3(a,{name:n,newValue:i}));return a};const Wy=v0(VJ);function t5(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function BJ(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?UJ(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function UJ(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ao={basename:zJ,dirname:qJ,extname:$J,join:HJ,sep:"/"};function zJ(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');kp(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function qJ(t){if(kp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function $J(t){kp(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function HJ(...t){let e=-1,n;for(;++e<t.length;)kp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":WJ(n)}function WJ(t){kp(t);const e=t.codePointAt(0)===47;let n=GJ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function GJ(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function kp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const KJ={cwd:YJ};function YJ(){return"/"}function n5(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function QJ(t){if(typeof t=="string")t=new URL(t);else if(!n5(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return XJ(t)}function XJ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Gy=["history","path","basename","stem","extname","dirname"];class xL{constructor(e){let n;e?n5(e)?n={path:e}:typeof e=="string"||JJ(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":KJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Gy.length;){const s=Gy[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Gy.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ao.basename(this.path):void 0}set basename(e){Yy(e,"basename"),Ky(e,"basename"),this.path=ao.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ao.dirname(this.path):void 0}set dirname(e){p3(this.basename,"dirname"),this.path=ao.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ao.extname(this.path):void 0}set extname(e){if(Ky(e,"extname"),p3(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ao.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){n5(e)&&(e=QJ(e)),Yy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ao.basename(this.path,this.extname):void 0}set stem(e){Yy(e,"stem"),Ky(e,"stem"),this.path=ao.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Kr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ky(t,e){if(t&&t.includes(ao.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ao.sep+"`")}function Yy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function p3(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function JJ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ZJ=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},eZ={}.hasOwnProperty;class fb extends ZJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=BJ()}copy(){const e=new fb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Wy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Jy("data",this.frozen),this.namespace[e]=n,this):eZ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Jy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=km(e),r=this.parser||this.Parser;return Qy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Qy("process",this.parser||this.Parser),Xy("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=km(e),l=r.parse(a);r.run(l,a,function(c,d,m){if(c||!d||!m)return u(c);const p=d,_=r.stringify(p,m);rZ(_)?m.value=_:m.result=_,u(c,m)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Qy("processSync",this.parser||this.Parser),Xy("processSync",this.compiler||this.Compiler),this.process(e,i),g3("processSync","process",n),r;function i(s,o){n=!0,a3(s),r=o}}run(e,n,r){m3(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=km(n);i.run(e,l,u);function u(c,d,m){const p=d||e;c?a(c):o?o(p):r(void 0,p,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),g3("runSync","run",r),i;function s(o,a){a3(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=km(n),i=this.compiler||this.Compiler;return Xy("stringify",i),m3(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Jy("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Wy(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,m=-1;for(;++d<r.length;)if(r[d][0]===u){m=d;break}if(m===-1)r.push([u,...c]);else if(c.length>0){let[p,..._]=c;const b=r[m][1];t5(b)&&t5(p)&&(p=Wy(!0,b,p)),r[m]=[u,p,..._]}}}}const tZ=new fb().freeze();function Qy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Xy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Jy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m3(t){if(!t5(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function g3(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function km(t){return nZ(t)?t:new xL(t)}function nZ(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function rZ(t){return typeof t=="string"||iZ(t)}function iZ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const sZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",y3=[],v3={allowDangerousHtml:!0},oZ=/^(https?|ircs?|mailto|xmpp)$/i,aZ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lZ(t){const e=uZ(t),n=cZ(t);return hZ(e.runSync(e.parse(n),n),t)}function uZ(t){const e=t.rehypePlugins||y3,n=t.remarkPlugins||y3,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...v3}:v3;return tZ().use(qX).use(n).use(FJ,r).use(e)}function cZ(t){const e=t.children||"",n=new xL;return typeof e=="string"&&(n.value=e),n}function hZ(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||dZ;for(const c of aZ)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+sZ+c.id,void 0);return vL(t,u),_Y(t,{Fragment:v.Fragment,components:i,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function u(c,d,m){if(c.type==="raw"&&m&&typeof d=="number")return o?m.children.splice(d,1):m.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in qy)if(Object.hasOwn(qy,p)&&Object.hasOwn(c.properties,p)){const _=c.properties[p],b=qy[p];(b===null||b.includes(c.tagName))&&(c.properties[p]=l(String(_||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,m)),p&&m&&typeof d=="number")return a&&c.children?m.children.splice(d,1,...c.children):m.children.splice(d,1),d}}}function dZ(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||oZ.test(t.slice(0,e))?t:""}const fZ=({chat:t,index:e,navigate:n})=>{const r=s=>{if(s.startsWith("#doctor:")){const o=s.split("#doctor:")[1];return n(`/doctors/details/${o}`),null}},i=s=>{const o=/\[([^\]]+)\]\(#doctor:([a-zA-Z0-9]+)\)/g;return s.replace(o,(a,l,u)=>`[${l}](#doctor:${u})`)};return v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},className:`flex ${t.type==="user"?"justify-end":"justify-start"}`,children:v.jsxs("div",{className:`flex items-start space-x-2 max-w-[80%] ${t.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 border border-cyan-500/30 flex items-center justify-center",children:t.type==="bot"?v.jsx(Hx,{className:"w-4 h-4 text-cyan-400"}):v.jsx(np,{className:"w-4 h-4 text-cyan-400"})}),v.jsxs("div",{className:`rounded-lg p-3 ${t.type==="user"?"bg-cyan-900/30 border border-cyan-500/30":"bg-gray-800 border border-gray-700"}`,children:[v.jsx(lZ,{components:{a:({href:s,children:o})=>v.jsx("a",{href:s,onClick:a=>{a.preventDefault(),r(s||"")},className:"text-cyan-400 hover:underline cursor-pointer",children:o})},children:i(t.content)}),v.jsx("span",{className:"text-xs text-gray-400 mt-1 block",children:t.timestamp})]})]})},t.id)},pZ=({message:t,setMessage:e,handleSendMessage:n})=>v.jsxs("div",{className:"mt-4 flex space-x-4",children:[v.jsx("input",{type:"text",placeholder:"Tell me about your symptoms...",className:"flex-1 px-4 py-2 bg-gray-800 border border-cyan-500/30 rounded-lg focus:outline-none focus:border-cyan-400",value:t,onChange:r=>e(r.target.value),onKeyPress:r=>r.key==="Enter"&&n()}),v.jsx("button",{className:"cyber-button",onClick:n,children:v.jsx(Xx,{className:"w-5 h-5"})})]}),mZ=[{id:"1",date:"2024-03-10",preview:"Consultation about neural enhancement..."},{id:"2",date:"2024-03-08",preview:"Questions about cognitive therapy..."}],gZ=()=>{const[t,e]=ne.useState(""),[n,r]=ne.useState(""),[i,s]=ne.useState("1"),[o,a]=ne.useState(!0),{user:l}=Wi(),u=ga(),[c,d]=ne.useState([{id:1,type:"bot",content:"!  MediLink AI,    .      ?",timestamp:ah(new Date,"hh:mm a")}]),[m,p]=ne.useState([]),[_,b]=ne.useState(""),[I,w]=ne.useState([]),[S,A]=ne.useState(!0),[B,K]=ne.useState(null),[W,j]=ne.useState([]),[N,R]=ne.useState(0),[M,T]=ne.useState(!0);ne.useEffect(()=>{l||u("/login")},[l,u]),ne.useEffect(()=>{(async()=>{try{const ae=Sr(Zt,"doctors"),le=(await us(ae)).docs.map(z=>{const _e=z.data();return{id:z.id,name:_e.name||"Unknown",specialty:_e.specialty||"Unknown",rating:_e.rating||0,reviews:_e.reviews||0,location:_e.location||"Unknown",image:_e.image||"",bio:_e.bio||"",education:_e.education||"",experience:_e.experience||"",procedures:Array.isArray(_e.procedures)?_e.procedures:[],conditions:Array.isArray(_e.conditions)?_e.conditions:[],availability:_e.availability||{status:"",nextSlot:"",schedule:[]},pharmacies:Array.isArray(_e.pharmacies)?_e.pharmacies:[],privateClinic:_e.privateClinic||{name:"",address:"",facilities:[],appointments:""},medicalCenterId:_e.medicalCenterId||"",medicalCenterName:_e.medicalCenterName||""}});w(le)}catch(ae){console.error("Error fetching doctors:",ae),K("     .    .")}finally{A(!1)}})()},[]);const D=new EK("AIzaSyBD_aOnEig3WlB-d6vahalfQPkWEDq0Wgk").getGenerativeModel({model:"gemini-2.0-flash"});ne.useEffect(()=>{const pe=()=>{window.innerWidth>=1024?a(!0):a(!1)};return window.addEventListener("resize",pe),pe(),()=>window.removeEventListener("resize",pe)},[]);const X=()=>a(!o),fe=async()=>{if(!t.trim())return;const pe={id:c.length+1,type:"user",content:t,timestamp:ah(new Date,"hh:mm a")};d(ae=>[...ae,pe]),e("");try{const ae=t.trim().toLowerCase(),Z=ae.includes("doctor")||ae.includes("doctors")||ae.includes("")||ae.includes(""),le=ae.includes(" ")||ae.includes(" ");let z="",_e="",O=[];if(M&&!Z&&!le?(p(ee=>[...ee,ae]),z=`
          Your name is MediLink. You are a friendly health buddy responding in Sinhala. The user reported symptoms: "${[...m,ae].join(", ")}".
          Analyze the symptoms to identify the most likely medical condition. If the symptoms are insufficient to determine a condition, ask for more symptoms in Sinhala with a question like "   ?  :  , ,      ." If enough symptoms are provided to identify a condition, respond with "    : [Condition]" and provide brief advice related to the condition. Do not suggest doctors unless explicitly asked.
          Example: If the user says "  " and then " ,   ," identify " " and respond with "    :  .    ,   ,    ,     .    ,   ."
        `):!Z&&!le?(p(ee=>[...ee,ae]),z=`
          Your name is MediLink. You are a friendly health buddy responding in Sinhala. The user previously reported symptoms: "${m.join(", ")}". Their latest response is: "${ae}".
          Analyze all symptoms ("${[...m,ae].join(", ")}") to confirm or refine the identified medical condition. Respond with "    : [Condition]" and provide advice related to the condition. If the condition is unclear, state "    " and ask for more symptoms with "   ?  :  , ,      ." Do not suggest doctors unless explicitly asked.
        `):(T(!1),z=`
          Your name is MediLink. You are a friendly health buddy responding in Sinhala. The user reported symptoms: "${m.join(", ")}". Their latest response is: "${ae}".
          Doctor data: ${JSON.stringify(I)}
          User location: "${n||"unknown"}"
          The user has requested doctors. Analyze the symptoms to identify the most relevant medical condition or specialty. Recommend one doctor whose specialty or conditions match the identified condition and is located in or near the user's location (if provided). If no location is provided or no doctors match, prioritize a relevant specialty. If no specific match, suggest a general practitioner. Provide the doctor's details in the format: "[Doctor Name](#doctor:DoctorID) (: Specialty, : Location, : Education, : Experience,  : Bio)". Respond in Sinhala.
        `),_e=await(await D.generateContent(z)).response.text(),Z||le)if(O=I.filter(ee=>{const re=ee.specialty.toLowerCase().includes(_)||ee.specialty.toLowerCase().includes(ae)||ee.conditions.some(we=>m.some(be=>be.includes(we.toLowerCase()))||ae.includes(we.toLowerCase())),ge=!n||ee.location.toLowerCase().includes(n.toLowerCase());return re&&ge}).sort((ee,re)=>re.rating-ee.rating),O.length===0&&(O=I.filter(ee=>(ee.specialty.toLowerCase().includes("general practitioner")||ee.specialty.toLowerCase().includes("family medicine"))&&(!n||ee.location.toLowerCase().includes(n.toLowerCase()))).sort((ee,re)=>re.rating-ee.rating)),j(O),O.length>0){const ee=le?(N+1)%O.length:0;R(ee);const re=O[ee];_e+=`

     ,      :
[${re.name}](#doctor:${re.id}) (: ${re.specialty}, : ${re.location}, : ${re.education}, : ${re.experience},  : ${re.bio})

        .      .      , " "   .`}else _e+=`

 ${n||" "}       ,       .  ?`;else[...m,ae].length>=2&&(T(!1),b([...m,ae].join(", ")));const J={id:c.length+2,type:"bot",content:_e,timestamp:ah(new Date,"hh:mm a")};d(ee=>[...ee,J])}catch(ae){console.error("Error with Gemini AI:",ae);const Z={id:c.length+2,type:"bot",content:"!  .    .",timestamp:ah(new Date,"hh:mm a")};d(le=>[...le,Z])}};return S?v.jsx("div",{className:"h-[calc(100vh-6rem)] flex items-center justify-center bg-gray-900 text-cyan-50",children:"   ..."}):B?v.jsx("div",{className:"h-[calc(100vh-6rem)] flex items-center justify-center bg-gray-900 text-red-400",children:B}):v.jsxs("div",{className:"h-[calc(100vh-6rem)] flex flex-col lg:flex-row lg:space-x-4",children:[v.jsx(AK,{sessions:mZ,activeSession:i,isSidebarOpen:o,setActiveSession:s,toggleSidebar:X}),v.jsxs("div",{className:"flex-1 flex flex-col space-y-4 px-4 lg:px-0",children:[v.jsx(TK,{location:n,setLocation:r}),v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 cyber-card p-4 overflow-hidden",children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pb-4",children:c.map((pe,ae)=>v.jsx(fZ,{chat:pe,index:ae,navigate:u},pe.id))}),v.jsx(pZ,{message:t,setMessage:e,handleSendMessage:fe})]})})]})]})},yZ=()=>{const t=Ym(r=>r.notifications),e=Ym(r=>r.markAsRead),n=Ym(r=>r.markAllAsRead);return v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsx("h1",{className:"text-3xl font-semibold mb-4 text-white",children:"Notifications"}),v.jsx("button",{onClick:n,className:"mb-6 px-6 py-3 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors",children:"Mark All as Read"}),v.jsx("div",{className:"space-y-6",children:t.length===0?v.jsx("p",{className:"text-gray-400",children:"No notifications to show."}):t.map((r,i)=>v.jsxs(ct.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{delay:i*.2},className:`p-6 border rounded-lg shadow-lg ${r.read?"bg-gray-800":"bg-gray-900"} ${r.read?"":"border-l-4 border-cyan-400"}`,children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:r.timestamp}),v.jsx("p",{className:"text-lg font-medium text-white",children:r.message})]}),r.read?v.jsx(gW,{className:"w-5 h-5 text-green-400"}):v.jsx(CW,{className:"w-5 h-5 text-red-500"})]}),!r.read&&v.jsx("div",{className:"mt-4",children:v.jsx("button",{onClick:()=>e(r.id),className:"px-6 py-2 text-sm bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-colors",children:"Mark as Read"})})]},r.id))})]})},vZ=()=>{const[t,e]=ne.useState(""),[n,r]=ne.useState(""),[i,s]=ne.useState(null),[o,a]=ne.useState(!1),l=ga(),{user:u,setUser:c,isLoading:d}=Wi();ne.useEffect(()=>{EC(sa,W0).catch(b=>{console.error("Error setting persistence:",b)}),!d&&u&&l(u.role==="admin-1"?"/admin":"/")},[u,d,l]);const m=async(b,I,w)=>{try{const S=await tp(ii(Zt,"users",b));if(S.exists()){const A=S.data();return{id:b,name:I||A.name||w,email:A.email||w,role:A.role||"patient"}}else{const A={id:b,name:I||w,email:w,role:"patient"};return await Hh(ii(Zt,"users",b),A),A}}catch(S){return console.error("Error fetching/creating user role:",S),{id:b,name:I||w,email:w,role:"patient"}}},p=async()=>{a(!0),s(null);const b=new ho;try{const I=await DC(sa,b),w=await m(I.user.uid,I.user.displayName,I.user.email||"");c(w),l(w.role==="admin-1"?"/admin":"/")}catch(I){console.error("Google Sign-In Error:",{code:I.code,message:I.message,details:I}),s(I.message||"Failed to sign in with Google.")}finally{a(!1)}},_=async b=>{b.preventDefault(),a(!0),s(null);try{const I=await OU(sa,t,n),w=await m(I.user.uid,I.user.displayName,t);c(w),l(w.role==="admin-1"?"/admin":"/")}catch(I){console.error("Email/Password Sign-In Error:",{code:I.code,message:I.message,details:I}),s(I.message||"Failed to sign in with email/password.")}finally{a(!1)}};return v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:v.jsxs("div",{className:"cyber-card p-8 max-w-md w-full",children:[v.jsx("h2",{className:"text-3xl font-bold neon-text mb-6 text-center",children:"MediLink Login"}),i&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 bg-red-900/20 border border-red-500/30 p-3 rounded-lg text-center mb-4",children:i}),v.jsxs("form",{onSubmit:_,className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(S6,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:b=>e(b.target.value),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(_6,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:b=>r(b.target.value),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("button",{type:"submit",disabled:o||d,className:"cyber-button w-full flex items-center justify-center space-x-2",children:[v.jsx(W2,{className:"w-5 h-5"}),v.jsx("span",{children:o||d?"Logging in...":"Sign In"})]})]}),v.jsxs("div",{className:"my-6 flex items-center",children:[v.jsx("div",{className:"flex-1 h-px bg-cyan-500/30"}),v.jsx("span",{className:"mx-4 text-gray-400",children:"or"}),v.jsx("div",{className:"flex-1 h-px bg-cyan-500/30"})]}),v.jsxs("button",{onClick:p,disabled:o||d,className:"cyber-button w-full flex items-center justify-center space-x-2",children:[v.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M12.24 10.493v2.808h4.633c-.186 1.24-.76 2.28-1.704 2.976l2.784 2.136c1.704-1.584 2.688-3.84 2.688-6.312 0-.672-.072-1.32-.192-1.944h-8.209zm-1.128-2.808v2.808h-4.632c.192 1.248.768 2.28 1.704 2.976l-2.784 2.136c-1.704-1.584-2.688-3.84-2.688-6.312 0-.672.072-1.32.192-1.944h8.208zm1.128-2.808c-3.84 0-7.104 2.496-8.304 6h16.608c-1.2-3.504-4.464-6-8.304-6zm0-2.4c5.328 0 9.672 4.344 9.672 9.672s-4.344 9.672-9.672 9.672-9.672-4.344-9.672-9.672 4.344-9.672 9.672-9.672z"})}),v.jsx("span",{children:o||d?"Processing...":"Sign in with Google"})]}),v.jsxs("p",{className:"mt-4 text-center text-gray-400",children:["Don't have an account?"," ",v.jsx("a",{href:"/reg",className:"text-cyan-400 hover:underline",children:"Register"})]})]})})},wZ="modulepreload",xZ=function(t){return"/"+t},w3={},r5=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=xZ(l),l in w3)return;w3[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":wZ,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((m,p)=>{d.addEventListener("load",m),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}var qr=Uint8Array,Bi=Uint16Array,pb=Int32Array,b1=new qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_1=new qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i5=new qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bL=function(t,e){for(var n=new Bi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new pb(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},_L=bL(b1,2),SL=_L.b,s5=_L.r;SL[28]=258,s5[258]=28;var EL=bL(_1,0),bZ=EL.b,x3=EL.r,o5=new Bi(32768);for(var wn=0;wn<32768;++wn){var Xa=(wn&43690)>>1|(wn&21845)<<1;Xa=(Xa&52428)>>2|(Xa&13107)<<2,Xa=(Xa&61680)>>4|(Xa&3855)<<4,o5[wn]=((Xa&65280)>>8|(Xa&255)<<8)>>1}var _o=function(t,e,n){for(var r=t.length,i=0,s=new Bi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Bi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Bi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,m=d|(1<<c)-1;d<=m;++d)a[o5[d]>>l]=u}else for(a=new Bi(r),i=0;i<r;++i)t[i]&&(a[i]=o5[o[t[i]-1]++]>>15-t[i]);return a},Bl=new qr(288);for(var wn=0;wn<144;++wn)Bl[wn]=8;for(var wn=144;wn<256;++wn)Bl[wn]=9;for(var wn=256;wn<280;++wn)Bl[wn]=7;for(var wn=280;wn<288;++wn)Bl[wn]=8;var ap=new qr(32);for(var wn=0;wn<32;++wn)ap[wn]=5;var _Z=_o(Bl,9,0),SZ=_o(Bl,9,1),EZ=_o(ap,5,0),AZ=_o(ap,5,1),Zy=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Is=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},ev=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},mb=function(t){return(t+7)/8|0},AL=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new qr(t.subarray(e,n))},TZ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cs=function(t,e,n){var r=new Error(e||TZ[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Cs),!n)throw r;return r},IZ=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new qr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new qr(i*3));var u=function(De){var $e=n.length;if(De>$e){var qe=new qr(Math.max($e*2,De));qe.set(n),n=qe}},c=e.f||0,d=e.p||0,m=e.b||0,p=e.l,_=e.d,b=e.m,I=e.n,w=i*8;do{if(!p){c=Is(t,d,1);var S=Is(t,d+1,3);if(d+=3,S)if(S==1)p=SZ,_=AZ,b=9,I=5;else if(S==2){var W=Is(t,d,31)+257,j=Is(t,d+10,15)+4,N=W+Is(t,d+5,31)+1;d+=14;for(var R=new qr(N),M=new qr(19),T=0;T<j;++T)M[i5[T]]=Is(t,d+T*3,7);d+=j*3;for(var C=Zy(M),D=(1<<C)-1,X=_o(M,C,1),T=0;T<N;){var fe=X[Is(t,d,D)];d+=fe&15;var A=fe>>4;if(A<16)R[T++]=A;else{var pe=0,ae=0;for(A==16?(ae=3+Is(t,d,3),d+=2,pe=R[T-1]):A==17?(ae=3+Is(t,d,7),d+=3):A==18&&(ae=11+Is(t,d,127),d+=7);ae--;)R[T++]=pe}}var Z=R.subarray(0,W),le=R.subarray(W);b=Zy(Z),I=Zy(le),p=_o(Z,b,1),_=_o(le,I,1)}else Cs(1);else{var A=mb(d)+4,B=t[A-4]|t[A-3]<<8,K=A+B;if(K>i){l&&Cs(0);break}a&&u(m+B),n.set(t.subarray(A,K),m),e.b=m+=B,e.p=d=K*8,e.f=c;continue}if(d>w){l&&Cs(0);break}}a&&u(m+131072);for(var z=(1<<b)-1,_e=(1<<I)-1,O=d;;O=d){var pe=p[ev(t,d)&z],L=pe>>4;if(d+=pe&15,d>w){l&&Cs(0);break}if(pe||Cs(2),L<256)n[m++]=L;else if(L==256){O=d,p=null;break}else{var J=L-254;if(L>264){var T=L-257,ee=b1[T];J=Is(t,d,(1<<ee)-1)+SL[T],d+=ee}var re=_[ev(t,d)&_e],ge=re>>4;re||Cs(3),d+=re&15;var le=bZ[ge];if(ge>3){var ee=_1[ge];le+=ev(t,d)&(1<<ee)-1,d+=ee}if(d>w){l&&Cs(0);break}a&&u(m+131072);var we=m+J;if(m<le){var be=s-le,je=Math.min(le,we);for(be+m<0&&Cs(3);m<je;++m)n[m]=r[be+m]}for(;m<we;++m)n[m]=n[m-le]}}e.l=p,e.p=O,e.b=m,e.f=c,p&&(c=1,e.m=b,e.d=_,e.n=I)}while(!c);return m!=n.length&&o?AL(n,0,m):n.subarray(0,m)},$o=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Vd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},tv=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:IL,l:0};if(i==1){var o=new qr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(K,W){return K.f-W.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new Bi(m+1),_=a5(n[c-1],p,0);if(_>e){var r=0,b=0,I=_-e,w=1<<I;for(s.sort(function(W,j){return p[j.s]-p[W.s]||W.f-j.f});r<i;++r){var S=s[r].s;if(p[S]>e)b+=w-(1<<_-p[S]),p[S]=e;else break}for(b>>=I;b>0;){var A=s[r].s;p[A]<e?b-=1<<e-p[A]++-1:++r}for(;r>=0&&b;--r){var B=s[r].s;p[B]==e&&(--p[B],++b)}_=e}return{t:new qr(p),l:_}},a5=function(t,e,n){return t.s==-1?Math.max(a5(t.l,e,n+1),a5(t.r,e,n+1)):e[t.s]=n},b3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Bi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Bd=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},TL=function(t,e,n){var r=n.length,i=mb(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},_3=function(t,e,n,r,i,s,o,a,l,u,c){$o(e,c++,n),++i[256];for(var d=tv(i,15),m=d.t,p=d.l,_=tv(s,15),b=_.t,I=_.l,w=b3(m),S=w.c,A=w.n,B=b3(b),K=B.c,W=B.n,j=new Bi(19),N=0;N<S.length;++N)++j[S[N]&31];for(var N=0;N<K.length;++N)++j[K[N]&31];for(var R=tv(j,7),M=R.t,T=R.l,C=19;C>4&&!M[i5[C-1]];--C);var D=u+5<<3,X=Bd(i,Bl)+Bd(s,ap)+o,fe=Bd(i,m)+Bd(s,b)+o+14+3*C+Bd(j,M)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&D<=X&&D<=fe)return TL(e,c,t.subarray(l,l+u));var pe,ae,Z,le;if($o(e,c,1+(fe<X)),c+=2,fe<X){pe=_o(m,p,0),ae=m,Z=_o(b,I,0),le=b;var z=_o(M,T,0);$o(e,c,A-257),$o(e,c+5,W-1),$o(e,c+10,C-4),c+=14;for(var N=0;N<C;++N)$o(e,c+3*N,M[i5[N]]);c+=3*C;for(var _e=[S,K],O=0;O<2;++O)for(var L=_e[O],N=0;N<L.length;++N){var J=L[N]&31;$o(e,c,z[J]),c+=M[J],J>15&&($o(e,c,L[N]>>5&127),c+=L[N]>>12)}}else pe=_Z,ae=Bl,Z=EZ,le=ap;for(var N=0;N<a;++N){var ee=r[N];if(ee>255){var J=ee>>18&31;Vd(e,c,pe[J+257]),c+=ae[J+257],J>7&&($o(e,c,ee>>23&31),c+=b1[J]);var re=ee&31;Vd(e,c,Z[re]),c+=le[re],re>3&&(Vd(e,c,ee>>5&8191),c+=_1[re])}else Vd(e,c,pe[ee]),c+=ae[ee]}return Vd(e,c,pe[256]),c+ae[256]},NZ=new pb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),IL=new qr(0),kZ=function(t,e,n,r,i,s){var o=s.z||t.length,a=new qr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=NZ[e-1],m=d>>13,p=d&8191,_=(1<<n)-1,b=s.p||new Bi(32768),I=s.h||new Bi(_+1),w=Math.ceil(n/3),S=2*w,A=function(ot){return(t[ot]^t[ot+1]<<w^t[ot+2]<<S)&_},B=new pb(25e3),K=new Bi(288),W=new Bi(32),j=0,N=0,R=s.i||0,M=0,T=s.w||0,C=0;R+2<o;++R){var D=A(R),X=R&32767,fe=I[D];if(b[X]=fe,I[D]=X,T<=R){var pe=o-R;if((j>7e3||M>24576)&&(pe>423||!u)){c=_3(t,l,0,B,K,W,N,M,C,R-C,c),M=j=N=0,C=R;for(var ae=0;ae<286;++ae)K[ae]=0;for(var ae=0;ae<30;++ae)W[ae]=0}var Z=2,le=0,z=p,_e=X-fe&32767;if(pe>2&&D==A(R-_e))for(var O=Math.min(m,pe)-1,L=Math.min(32767,R),J=Math.min(258,pe);_e<=L&&--z&&X!=fe;){if(t[R+Z]==t[R+Z-_e]){for(var ee=0;ee<J&&t[R+ee]==t[R+ee-_e];++ee);if(ee>Z){if(Z=ee,le=_e,ee>O)break;for(var re=Math.min(_e,ee-2),ge=0,ae=0;ae<re;++ae){var we=R-_e+ae&32767,be=b[we],je=we-be&32767;je>ge&&(ge=je,fe=we)}}}X=fe,fe=b[X],_e+=X-fe&32767}if(le){B[M++]=268435456|s5[Z]<<18|x3[le];var De=s5[Z]&31,$e=x3[le]&31;N+=b1[De]+_1[$e],++K[257+De],++W[$e],T=R+Z,++j}else B[M++]=t[R],++K[t[R]]}}for(R=Math.max(R,T);R<o;++R)B[M++]=t[R],++K[t[R]];c=_3(t,l,u,B,K,W,N,M,C,R-C,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=I,s.p=b,s.i=R,s.w=T)}else{for(var R=s.w||0;R<o+u;R+=65535){var qe=R+65535;qe>=o&&(l[c/8|0]=u,qe=o),c=TL(l,c+1,t.subarray(R,qe))}s.i=o}return AL(a,0,r+mb(c)+i)},NL=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},CZ=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new qr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return kZ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},kL=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},PZ=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=NL();i.p(e.dictionary),kL(t,2,i.d())}},LZ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Cs(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Cs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function l5(t,e){e||(e={});var n=NL();n.p(t);var r=CZ(t,e,e.dictionary?6:2,4);return PZ(r,e),kL(r,r.length-4,n.d()),r}function RZ(t,e){return IZ(t.subarray(LZ(t,e),-4),{i:2},e,e)}var DZ=typeof TextDecoder<"u"&&new TextDecoder,OZ=0;try{DZ.decode(IL,{stream:!0}),OZ=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nv(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var an={log:nv,warn:function(t){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):nv.call(null,arguments))},error:function(t){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):nv(t))}};function rv(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Iu(r.response,e,n)},r.onerror=function(){an.error("could not download file")},r.send()}function S3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _f,u5,Iu=pt.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?S3(i.href)?rv(t,e,n):Cm(i,i.target="_blank"):Cm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(S3(t))rv(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Cm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:en(s)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return rv(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=pt.URL||pt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function CL(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iv(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Dr(n,r,i,s,e[0],7,-680876936),s=Dr(s,n,r,i,e[1],12,-389564586),i=Dr(i,s,n,r,e[2],17,606105819),r=Dr(r,i,s,n,e[3],22,-1044525330),n=Dr(n,r,i,s,e[4],7,-176418897),s=Dr(s,n,r,i,e[5],12,1200080426),i=Dr(i,s,n,r,e[6],17,-1473231341),r=Dr(r,i,s,n,e[7],22,-45705983),n=Dr(n,r,i,s,e[8],7,1770035416),s=Dr(s,n,r,i,e[9],12,-1958414417),i=Dr(i,s,n,r,e[10],17,-42063),r=Dr(r,i,s,n,e[11],22,-1990404162),n=Dr(n,r,i,s,e[12],7,1804603682),s=Dr(s,n,r,i,e[13],12,-40341101),i=Dr(i,s,n,r,e[14],17,-1502002290),n=Or(n,r=Dr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Or(s,n,r,i,e[6],9,-1069501632),i=Or(i,s,n,r,e[11],14,643717713),r=Or(r,i,s,n,e[0],20,-373897302),n=Or(n,r,i,s,e[5],5,-701558691),s=Or(s,n,r,i,e[10],9,38016083),i=Or(i,s,n,r,e[15],14,-660478335),r=Or(r,i,s,n,e[4],20,-405537848),n=Or(n,r,i,s,e[9],5,568446438),s=Or(s,n,r,i,e[14],9,-1019803690),i=Or(i,s,n,r,e[3],14,-187363961),r=Or(r,i,s,n,e[8],20,1163531501),n=Or(n,r,i,s,e[13],5,-1444681467),s=Or(s,n,r,i,e[2],9,-51403784),i=Or(i,s,n,r,e[7],14,1735328473),n=jr(n,r=Or(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=jr(s,n,r,i,e[8],11,-2022574463),i=jr(i,s,n,r,e[11],16,1839030562),r=jr(r,i,s,n,e[14],23,-35309556),n=jr(n,r,i,s,e[1],4,-1530992060),s=jr(s,n,r,i,e[4],11,1272893353),i=jr(i,s,n,r,e[7],16,-155497632),r=jr(r,i,s,n,e[10],23,-1094730640),n=jr(n,r,i,s,e[13],4,681279174),s=jr(s,n,r,i,e[0],11,-358537222),i=jr(i,s,n,r,e[3],16,-722521979),r=jr(r,i,s,n,e[6],23,76029189),n=jr(n,r,i,s,e[9],4,-640364487),s=jr(s,n,r,i,e[12],11,-421815835),i=jr(i,s,n,r,e[15],16,530742520),n=Mr(n,r=jr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Mr(s,n,r,i,e[7],10,1126891415),i=Mr(i,s,n,r,e[14],15,-1416354905),r=Mr(r,i,s,n,e[5],21,-57434055),n=Mr(n,r,i,s,e[12],6,1700485571),s=Mr(s,n,r,i,e[3],10,-1894986606),i=Mr(i,s,n,r,e[10],15,-1051523),r=Mr(r,i,s,n,e[1],21,-2054922799),n=Mr(n,r,i,s,e[8],6,1873313359),s=Mr(s,n,r,i,e[15],10,-30611744),i=Mr(i,s,n,r,e[6],15,-1560198380),r=Mr(r,i,s,n,e[13],21,1309151649),n=Mr(n,r,i,s,e[4],6,-145523070),s=Mr(s,n,r,i,e[11],10,-1120210379),i=Mr(i,s,n,r,e[2],15,718787259),r=Mr(r,i,s,n,e[9],21,-343485551),t[0]=dl(n,t[0]),t[1]=dl(r,t[1]),t[2]=dl(i,t[2]),t[3]=dl(s,t[3])}function S1(t,e,n,r,i,s){return e=dl(dl(e,t),dl(r,s)),dl(e<<i|e>>>32-i,n)}function Dr(t,e,n,r,i,s,o){return S1(e&n|~e&r,t,e,i,s,o)}function Or(t,e,n,r,i,s,o){return S1(e&r|n&~r,t,e,i,s,o)}function jr(t,e,n,r,i,s,o){return S1(e^n^r,t,e,i,s,o)}function Mr(t,e,n,r,i,s,o){return S1(n^(e|~r),t,e,i,s,o)}function PL(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)iv(r,jZ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(iv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,iv(r,i),r}function jZ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}_f=pt.atob.bind(pt),u5=pt.btoa.bind(pt);var E3="0123456789abcdef".split("");function MZ(t){for(var e="",n=0;n<4;n++)e+=E3[t>>8*n+4&15]+E3[t>>8*n&15];return e}function FZ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function c5(t){return PL(t).map(FZ).join("")}var VZ=function(t){for(var e=0;e<t.length;e++)t[e]=MZ(t[e]);return t.join("")}(PL("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(t,e){if(VZ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h5(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,m=0,p=0,_="";for(l=0;l<d;l++)p=(p+(c=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=c,o=a[(a[m]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var A3={print:4,modify:8,copy:16,"annot-forms":32};function Uc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(A3.perm!==void 0)throw new Error("Invalid permission: "+a);i+=A3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=c5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=h5(this.encryptionKey,this.padding)}function zc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function T3(t){if(en(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){pt.console&&an.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function g0(t){if(!(this instanceof g0))return new g0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function LL(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ku(t,e,n,r,i){if(!(this instanceof ku))return new ku(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,LL.call(this,r,i)}function lh(t,e,n,r,i){if(!(this instanceof lh))return new lh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,LL.call(this,r,i)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;en(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=T3;var _="1.3",b=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(y){_=y};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return I};var w=p.__private__.getPageFormat=function(y){return I[y]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},A=S.COMPAT;function B(){this.saveGraphicsState(),te(new tt(ze,0,0,-ze,0,Cr()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",A=S.ADVANCED}function K(){this.restoreGraphicsState(),u="S",A=S.COMPAT}var W=p.__private__.combineFontStyleAndFontWeight=function(y,F){if(y=="bold"&&F=="normal"||y=="bold"&&F==400||y=="normal"&&F=="italic"||y=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(y=F==400||F==="normal"?y==="italic"?"italic":"normal":F!=700&&F!=="bold"||y!=="normal"?(F==700?"bold":F)+""+y:"bold"),y};p.advancedAPI=function(y){var F=A===S.COMPAT;return F&&B.call(this),typeof y!="function"||(y(this),F&&K.call(this)),this},p.compatAPI=function(y){var F=A===S.ADVANCED;return F&&K.call(this),typeof y!="function"||(y(this),F&&B.call(this)),this},p.isAdvancedAPI=function(){return A===S.ADVANCED};var j,N=function(y){if(A!==S.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=p.roundToPrecision=p.__private__.roundToPrecision=function(y,F){var Q=e||F;if(isNaN(y)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(Q).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return R(y,16)};var M=p.f2=p.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return R(y,2)},T=p.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return R(y,3)},C=p.scale=p.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return A===S.COMPAT?y*ze:A===S.ADVANCED?y:void 0},D=function(y){return A===S.COMPAT?Cr()-y:A===S.ADVANCED?y:void 0},X=function(y){return C(D(y))};p.__private__.setPrecision=p.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var fe,pe="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return pe},Z=p.__private__.setFileId=function(y){return pe=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(gn=new Uc(c.userPermissions,c.userPassword,c.ownerPassword,pe)),pe};p.setFileId=function(y){return Z(y),this},p.getFileId=function(){return ae()};var le=p.__private__.convertDateToPDFDate=function(y){var F=y.getTimezoneOffset(),Q=F<0?"+":"-",ie=Math.floor(Math.abs(F/60)),he=Math.abs(F%60),Ae=[Q,J(ie),"'",J(he),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),Ae].join("")},z=p.__private__.convertPDFDateToDate=function(y){var F=parseInt(y.substr(2,4),10),Q=parseInt(y.substr(6,2),10)-1,ie=parseInt(y.substr(8,2),10),he=parseInt(y.substr(10,2),10),Ae=parseInt(y.substr(12,2),10),Re=parseInt(y.substr(14,2),10);return new Date(F,Q,ie,he,Ae,Re,0)},_e=p.__private__.setCreationDate=function(y){var F;if(y===void 0&&(y=new Date),y instanceof Date)F=le(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=y}return fe=F},O=p.__private__.getCreationDate=function(y){var F=fe;return y==="jsDate"&&(F=z(fe)),F};p.setCreationDate=function(y){return _e(y),this},p.getCreationDate=function(y){return O(y)};var L,J=p.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ee=p.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},re=0,ge=[],we=[],be=0,je=[],De=[],$e=!1,qe=we,ot=function(){re=0,be=0,we=[],ge=[],je=[],ms=In(),kr=In()};p.__private__.setCustomOutputDestination=function(y){$e=!0,qe=y};var Ee=function(y){$e||(qe=y)};p.__private__.resetCustomOutputDestination=function(){$e=!1,qe=we};var te=p.__private__.out=function(y){return y=y.toString(),be+=y.length+1,qe.push(y),qe},yt=p.__private__.write=function(y){return te(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},rt=p.__private__.getArrayBuffer=function(y){for(var F=y.length,Q=new ArrayBuffer(F),ie=new Uint8Array(Q);F--;)ie[F]=y.charCodeAt(F);return Q},Me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Me};var Be=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(y){return Be=A===S.ADVANCED?y/ze:y,this};var Ke,He=p.__private__.getFontSize=p.getFontSize=function(){return A===S.COMPAT?Be:Be*ze},st=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(y){return st=y,this},p.__private__.getR2L=p.getR2L=function(){return st};var ht,xt=p.__private__.setZoomMode=function(y){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ke=y;else if(isNaN(y)){if(F.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ke=y}else Ke=parseInt(y,10)};p.__private__.getZoomMode=function(){return Ke};var me,Te=p.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');ht=y};p.__private__.getPageMode=function(){return ht};var Ye=p.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');me=y};p.__private__.getLayoutMode=function(){return me},p.__private__.setDisplayMode=p.setDisplayMode=function(y,F,Q){return xt(y),Ye(F),Te(Q),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(y){if(Object.keys(Ue).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[y]},p.__private__.getDocumentProperties=function(){return Ue},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(y){for(var F in Ue)Ue.hasOwnProperty(F)&&y[F]&&(Ue[F]=y[F]);return this},p.__private__.setDocumentProperty=function(y,F){if(Object.keys(Ue).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[y]=F};var Je,ze,Ht,bt,qn,Rt={},Ct={},Zn=[],St={},$s={},pn={},fr={},Ai=null,ln=0,lt=[],Bt=new T3(p),Gi=t.hotfixes||[],$n={},Ir={},Ti=[],tt=function y(F,Q,ie,he,Ae,Re){if(!(this instanceof y))return new y(F,Q,ie,he,Ae,Re);isNaN(F)&&(F=1),isNaN(Q)&&(Q=0),isNaN(ie)&&(ie=0),isNaN(he)&&(he=1),isNaN(Ae)&&(Ae=0),isNaN(Re)&&(Re=0),this._matrix=[F,Q,ie,he,Ae,Re]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(y)},tt.prototype.multiply=function(y){var F=y.sx*this.sx+y.shy*this.shx,Q=y.sx*this.shy+y.shy*this.sy,ie=y.shx*this.sx+y.sy*this.shx,he=y.shx*this.shy+y.sy*this.sy,Ae=y.tx*this.sx+y.ty*this.shx+this.tx,Re=y.tx*this.shy+y.ty*this.sy+this.ty;return new tt(F,Q,ie,he,Ae,Re)},tt.prototype.decompose=function(){var y=this.sx,F=this.shy,Q=this.shx,ie=this.sy,he=this.tx,Ae=this.ty,Re=Math.sqrt(y*y+F*F),Ge=(y/=Re)*Q+(F/=Re)*ie;Q-=y*Ge,ie-=F*Ge;var f=Math.sqrt(Q*Q+ie*ie);return Ge/=f,y*(ie/=f)<F*(Q/=f)&&(y=-y,F=-F,Ge=-Ge,Re=-Re),{scale:new tt(Re,0,0,f,0,0),translate:new tt(1,0,0,1,he,Ae),rotate:new tt(y,F,-F,y,0,0),skew:new tt(1,0,Ge,1,0,0)}},tt.prototype.toString=function(y){return this.join(" ")},tt.prototype.inversed=function(){var y=this.sx,F=this.shy,Q=this.shx,ie=this.sy,he=this.tx,Ae=this.ty,Re=1/(y*ie-F*Q),Ge=ie*Re,f=-F*Re,E=-Q*Re,P=y*Re;return new tt(Ge,f,E,P,-Ge*he-E*Ae,-f*he-P*Ae)},tt.prototype.applyToPoint=function(y){var F=y.x*this.sx+y.y*this.shx+this.tx,Q=y.x*this.shy+y.y*this.sy+this.ty;return new Oo(F,Q)},tt.prototype.applyToRectangle=function(y){var F=this.applyToPoint(y),Q=this.applyToPoint(new Oo(y.x+y.w,y.y+y.h));return new La(F.x,F.y,Q.x-F.x,Q.y-F.y)},tt.prototype.clone=function(){var y=this.sx,F=this.shy,Q=this.shx,ie=this.sy,he=this.tx,Ae=this.ty;return new tt(y,F,Q,ie,he,Ae)},p.Matrix=tt;var ai=p.matrixMult=function(y,F){return F.multiply(y)},Nr=new tt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Nr;var Hn=function(y,F){if(!$s[y]){var Q=(F instanceof ku?"Sh":"P")+(Object.keys(St).length+1).toString(10);F.id=Q,$s[y]=Q,St[Q]=F,Bt.publish("addPattern",F)}};p.ShadingPattern=ku,p.TilingPattern=lh,p.addShadingPattern=function(y,F){return N("addShadingPattern()"),Hn(y,F),this},p.beginTilingPattern=function(y){N("beginTilingPattern()"),Ra(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},p.endTilingPattern=function(y,F){N("endTilingPattern()"),F.stream=De[L].join(`
`),Hn(y,F),Bt.publish("endTilingPattern",F),Ti.pop().restore()};var Ln=p.__private__.newObject=function(){var y=In();return Wn(y,!0),y},In=p.__private__.newObjectDeferred=function(){return re++,ge[re]=function(){return be},re},Wn=function(y,F){return F=typeof F=="boolean"&&F,ge[y]=be,F&&te(y+" 0 obj"),y},va=p.__private__.newAdditionalObject=function(){var y={objId:In(),content:""};return je.push(y),y},ms=In(),kr=In(),li=p.__private__.decodeColorString=function(y){var F=y.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var Q=parseFloat(F[0]);F=[Q,Q,Q,"r"]}for(var ie="#",he=0;he<3;he++)ie+=("0"+Math.floor(255*parseFloat(F[he])).toString(16)).slice(-2);return ie},Yr=p.__private__.encodeColorString=function(y){var F;typeof y=="string"&&(y={ch1:y});var Q=y.ch1,ie=y.ch2,he=y.ch3,Ae=y.ch4,Re=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var Ge=new CL(Q);if(Ge.ok)Q=Ge.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var f=parseInt(Q.substr(1),16);Q=f>>16&255,ie=f>>8&255,he=255&f}if(ie===void 0||Ae===void 0&&Q===ie&&ie===he)if(typeof Q=="string")F=Q+" "+Re[0];else switch(y.precision){case 2:F=M(Q/255)+" "+Re[0];break;case 3:default:F=T(Q/255)+" "+Re[0]}else if(Ae===void 0||en(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return F=["1.","1.","1.",Re[1]].join(" ");if(typeof Q=="string")F=[Q,ie,he,Re[1]].join(" ");else switch(y.precision){case 2:F=[M(Q/255),M(ie/255),M(he/255),Re[1]].join(" ");break;default:case 3:F=[T(Q/255),T(ie/255),T(he/255),Re[1]].join(" ")}}else if(typeof Q=="string")F=[Q,ie,he,Ae,Re[2]].join(" ");else switch(y.precision){case 2:F=[M(Q),M(ie),M(he),M(Ae),Re[2]].join(" ");break;case 3:default:F=[T(Q),T(ie),T(he),T(Ae),Re[2]].join(" ")}return F},Qr=p.__private__.getFilters=function(){return o},Rn=p.__private__.putStream=function(y){var F=(y=y||{}).data||"",Q=y.filters||Qr(),ie=y.alreadyAppliedFilters||[],he=y.addLength1||!1,Ae=F.length,Re=y.objectId,Ge=function(Et){return Et};if(c!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ge=gn.encryptor(Re,0));var f={};Q===!0&&(Q=["FlateEncode"]);var E=y.additionalKeyValues||[],P=(f=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(F,Q):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(f.data.length!==0&&(E.push({key:"Length",value:f.data.length}),he===!0&&E.push({key:"Length1",value:Ae})),P.length!=0)if(P.split("/").length-1==1)E.push({key:"Filter",value:P});else{E.push({key:"Filter",value:"["+P+"]"});for(var $=0;$<E.length;$+=1)if(E[$].key==="DecodeParms"){for(var ce=[],xe=0;xe<f.reverseChain.split("/").length-1;xe+=1)ce.push("null");ce.push(E[$].value),E[$].value="["+ce.join(" ")+"]"}}te("<<");for(var Oe=0;Oe<E.length;Oe++)te("/"+E[Oe].key+" "+E[Oe].value);te(">>"),f.data.length!==0&&(te("stream"),te(Ge(f.data)),te("endstream"))},Ii=p.__private__.putPage=function(y){var F=y.number,Q=y.data,ie=y.objId,he=y.contentsObjId;Wn(ie,!0),te("<</Type /Page"),te("/Parent "+y.rootDictionaryObjId+" 0 R"),te("/Resources "+y.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(j(y.mediaBox.bottomLeftX))+" "+parseFloat(j(y.mediaBox.bottomLeftY))+" "+j(y.mediaBox.topRightX)+" "+j(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&te("/CropBox ["+j(y.cropBox.bottomLeftX)+" "+j(y.cropBox.bottomLeftY)+" "+j(y.cropBox.topRightX)+" "+j(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&te("/BleedBox ["+j(y.bleedBox.bottomLeftX)+" "+j(y.bleedBox.bottomLeftY)+" "+j(y.bleedBox.topRightX)+" "+j(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&te("/TrimBox ["+j(y.trimBox.bottomLeftX)+" "+j(y.trimBox.bottomLeftY)+" "+j(y.trimBox.topRightX)+" "+j(y.trimBox.topRightY)+"]"),y.artBox!==null&&te("/ArtBox ["+j(y.artBox.bottomLeftX)+" "+j(y.artBox.bottomLeftY)+" "+j(y.artBox.topRightX)+" "+j(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&te("/UserUnit "+y.userUnit),Bt.publish("putPage",{objId:ie,pageContext:lt[F],pageNumber:F,page:Q}),te("/Contents "+he+" 0 R"),te(">>"),te("endobj");var Ae=Q.join(`
`);return A===S.ADVANCED&&(Ae+=`
Q`),Wn(he,!0),Rn({data:Ae,filters:Qr(),objectId:he}),te("endobj"),ie},Hs=p.__private__.putPages=function(){var y,F,Q=[];for(y=1;y<=ln;y++)lt[y].objId=In(),lt[y].contentsObjId=In();for(y=1;y<=ln;y++)Q.push(Ii({number:y,data:De[y],objId:lt[y].objId,contentsObjId:lt[y].contentsObjId,mediaBox:lt[y].mediaBox,cropBox:lt[y].cropBox,bleedBox:lt[y].bleedBox,trimBox:lt[y].trimBox,artBox:lt[y].artBox,userUnit:lt[y].userUnit,rootDictionaryObjId:ms,resourceDictionaryObjId:kr}));Wn(ms,!0),te("<</Type /Pages");var ie="/Kids [";for(F=0;F<ln;F++)ie+=Q[F]+" 0 R ";te(ie+"]"),te("/Count "+ln),te(">>"),te("endobj"),Bt.publish("postPutPages")},Ws=function(y){Bt.publish("putFont",{font:y,out:te,newObject:Ln,putStream:Rn}),y.isAlreadyPutted!==!0&&(y.objectNumber=Ln(),te("<<"),te("/Type /Font"),te("/BaseFont /"+zc(y.postScriptName)),te("/Subtype /Type1"),typeof y.encoding=="string"&&te("/Encoding /"+y.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Gs=function(){for(var y in Rt)Rt.hasOwnProperty(y)&&(d===!1||d===!0&&m.hasOwnProperty(y))&&Ws(Rt[y])},To=function(y){y.objectNumber=Ln();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[j(y.x),j(y.y),j(y.x+y.width),j(y.y+y.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var Q=y.pages[1].join(`
`);Rn({data:Q,additionalKeyValues:F,objectId:y.objectNumber}),te("endobj")},Io=function(){for(var y in $n)$n.hasOwnProperty(y)&&To($n[y])},ac=function(y,F){var Q,ie=[],he=1/(F-1);for(Q=0;Q<1;Q+=he)ie.push(Q);if(ie.push(1),y[0].offset!=0){var Ae={offset:0,color:y[0].color};y.unshift(Ae)}if(y[y.length-1].offset!=1){var Re={offset:1,color:y[y.length-1].color};y.push(Re)}for(var Ge="",f=0,E=0;E<ie.length;E++){for(Q=ie[E];Q>y[f+1].offset;)f++;var P=y[f].offset,$=(Q-P)/(y[f+1].offset-P),ce=y[f].color,xe=y[f+1].color;Ge+=ee(Math.round((1-$)*ce[0]+$*xe[0]).toString(16))+ee(Math.round((1-$)*ce[1]+$*xe[1]).toString(16))+ee(Math.round((1-$)*ce[2]+$*xe[2]).toString(16))}return Ge.trim()},wa=function(y,F){F||(F=21);var Q=Ln(),ie=ac(y.colors,F),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+F+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:ie,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),te("endobj"),y.objectNumber=Ln(),te("<< /ShadingType "+y.type),te("/ColorSpace /DeviceRGB");var Ae="/Coords ["+j(parseFloat(y.coords[0]))+" "+j(parseFloat(y.coords[1]))+" ";y.type===2?Ae+=j(parseFloat(y.coords[2]))+" "+j(parseFloat(y.coords[3])):Ae+=j(parseFloat(y.coords[2]))+" "+j(parseFloat(y.coords[3]))+" "+j(parseFloat(y.coords[4]))+" "+j(parseFloat(y.coords[5])),te(Ae+="]"),y.matrix&&te("/Matrix ["+y.matrix.toString()+"]"),te("/Function "+Q+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},lc=function(y,F){var Q=In(),ie=Ln();F.push({resourcesOid:Q,objectOid:ie}),y.objectNumber=ie;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+y.boundingBox.map(j).join(" ")+"]"}),he.push({key:"XStep",value:j(y.xStep)}),he.push({key:"YStep",value:j(y.yStep)}),he.push({key:"Resources",value:Q+" 0 R"}),y.matrix&&he.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Rn({data:y.stream,additionalKeyValues:he,objectId:y.objectNumber}),te("endobj")},Ks=function(y){var F;for(F in St)St.hasOwnProperty(F)&&(St[F]instanceof ku?wa(St[F]):St[F]instanceof lh&&lc(St[F],y))},Ys=function(y){for(var F in y.objectNumber=Ln(),te("<<"),y)switch(F){case"opacity":te("/ca "+M(y[F]));break;case"stroke-opacity":te("/CA "+M(y[F]))}te(">>"),te("endobj")},gs=function(){var y;for(y in pn)pn.hasOwnProperty(y)&&Ys(pn[y])},No=function(){for(var y in te("/XObject <<"),$n)$n.hasOwnProperty(y)&&$n[y].objectNumber>=0&&te("/"+y+" "+$n[y].objectNumber+" 0 R");Bt.publish("putXobjectDict"),te(">>")},ld=function(){gn.oid=Ln(),te("<<"),te("/Filter /Standard"),te("/V "+gn.v),te("/R "+gn.r),te("/U <"+gn.toHexString(gn.U)+">"),te("/O <"+gn.toHexString(gn.O)+">"),te("/P "+gn.P),te(">>"),te("endobj")},eu=function(){for(var y in te("/Font <<"),Rt)Rt.hasOwnProperty(y)&&(d===!1||d===!0&&m.hasOwnProperty(y))&&te("/"+y+" "+Rt[y].objectNumber+" 0 R");te(">>")},uc=function(){if(Object.keys(St).length>0){for(var y in te("/Shading <<"),St)St.hasOwnProperty(y)&&St[y]instanceof ku&&St[y].objectNumber>=0&&te("/"+y+" "+St[y].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),te(">>")}},ko=function(y){if(Object.keys(St).length>0){for(var F in te("/Pattern <<"),St)St.hasOwnProperty(F)&&St[F]instanceof p.TilingPattern&&St[F].objectNumber>=0&&St[F].objectNumber<y&&te("/"+F+" "+St[F].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),te(">>")}},tu=function(){if(Object.keys(pn).length>0){var y;for(y in te("/ExtGState <<"),pn)pn.hasOwnProperty(y)&&pn[y].objectNumber>=0&&te("/"+y+" "+pn[y].objectNumber+" 0 R");Bt.publish("putGStateDict"),te(">>")}},mn=function(y){Wn(y.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),eu(),uc(),ko(y.objectOid),tu(),No(),te(">>"),te("endobj")},nu=function(){var y=[];Gs(),gs(),Io(),Ks(y),Bt.publish("putResources"),y.forEach(mn),mn({resourcesOid:kr,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources")},ru=function(){Bt.publish("putAdditionalObjects");for(var y=0;y<je.length;y++){var F=je[y];Wn(F.objId,!0),te(F.content),te("endobj")}Bt.publish("postPutAdditionalObjects")},cc=function(y){Ct[y.fontName]=Ct[y.fontName]||{},Ct[y.fontName][y.fontStyle]=y.id},iu=function(y,F,Q,ie,he){var Ae={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:y,fontName:F,fontStyle:Q,encoding:ie,isStandardFont:he||!1,metadata:{}};return Bt.publish("addFont",{font:Ae,instance:this}),Rt[Ae.id]=Ae,cc(Ae),Ae.id},hc=function(y){for(var F=0,Q=Me.length;F<Q;F++){var ie=iu.call(this,y[F][0],y[F][1],y[F][2],Me[F][3],!0);d===!1&&(m[ie]=!0);var he=y[F][0].split("-");cc({id:ie,fontName:he[0],fontStyle:he[1]||""})}Bt.publish("addFonts",{fonts:Rt,dictionary:Ct})},ui=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(ie){var F=ie.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var Q="Error in function "+F.split(`
`)[0].split("<")[0]+": "+ie.message;if(!pt.console)throw new Error(Q);pt.console.error(Q,ie),pt.alert&&alert(Q)}},y.foo.bar=y,y.foo},xa=function(y,F){var Q,ie,he,Ae,Re,Ge,f,E,P;if(he=(F=F||{}).sourceEncoding||"Unicode",Re=F.outputEncoding,(F.autoencode||Re)&&Rt[Je].metadata&&Rt[Je].metadata[he]&&Rt[Je].metadata[he].encoding&&(Ae=Rt[Je].metadata[he].encoding,!Re&&Rt[Je].encoding&&(Re=Rt[Je].encoding),!Re&&Ae.codePages&&(Re=Ae.codePages[0]),typeof Re=="string"&&(Re=Ae[Re]),Re)){for(f=!1,Ge=[],Q=0,ie=y.length;Q<ie;Q++)(E=Re[y.charCodeAt(Q)])?Ge.push(String.fromCharCode(E)):Ge.push(y[Q]),Ge[Q].charCodeAt(0)>>8&&(f=!0);y=Ge.join("")}for(Q=y.length;f===void 0&&Q!==0;)y.charCodeAt(Q-1)>>8&&(f=!0),Q--;if(!f)return y;for(Ge=F.noBOM?[]:[254,255],Q=0,ie=y.length;Q<ie;Q++){if((P=(E=y.charCodeAt(Q))>>8)>>8)throw new Error("Character at position "+Q+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ge.push(P),Ge.push(E-(P<<8))}return String.fromCharCode.apply(void 0,Ge)},Nn=p.__private__.pdfEscape=p.pdfEscape=function(y,F){return xa(y,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xr=p.__private__.beginPage=function(y){De[++ln]=[],lt[ln]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},su(ln),Ee(De[L])},Co=function(y,F){var Q,ie,he;switch(n=F||n,typeof y=="string"&&(Q=w(y.toLowerCase()),Array.isArray(Q)&&(ie=Q[0],he=Q[1])),Array.isArray(y)&&(ie=y[0]*ze,he=y[1]*ze),isNaN(ie)&&(ie=i[0],he=i[1]),(ie>14400||he>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),he=Math.min(14400,he)),i=[ie,he],n.substr(0,1)){case"l":he>ie&&(i=[he,ie]);break;case"p":ie>he&&(i=[he,ie])}Xr(i),cu(uu),te(pr),fu!==0&&te(fu+" J"),Pa!==0&&te(Pa+" j"),Bt.publish("addPage",{pageNumber:ln})},ba=function(y){y>0&&y<=ln&&(De.splice(y,1),lt.splice(y,1),ln--,L>ln&&(L=ln),this.setPage(L))},su=function(y){y>0&&y<=ln&&(L=y)},Yt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},Po=function(y,F,Q){var ie,he=void 0;return Q=Q||{},y=y!==void 0?y:Rt[Je].fontName,F=F!==void 0?F:Rt[Je].fontStyle,ie=y.toLowerCase(),Ct[ie]!==void 0&&Ct[ie][F]!==void 0?he=Ct[ie][F]:Ct[y]!==void 0&&Ct[y][F]!==void 0?he=Ct[y][F]:Q.disableWarning===!1&&an.warn("Unable to look up font label for font '"+y+"', '"+F+"'. Refer to getFontList() for available fonts."),he||Q.noFallback||(he=Ct.times[F])==null&&(he=Ct.times.normal),he},Lo=p.__private__.putInfo=function(){var y=Ln(),F=function(ie){return ie};for(var Q in c!==null&&(F=gn.encryptor(y,0)),te("<<"),te("/Producer ("+Nn(F("jsPDF "+ft.version))+")"),Ue)Ue.hasOwnProperty(Q)&&Ue[Q]&&te("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Nn(F(Ue[Q]))+")");te("/CreationDate ("+Nn(F(fe))+")"),te(">>"),te("endobj")},ys=p.__private__.putCatalog=function(y){var F=(y=y||{}).rootDictionaryObjId||ms;switch(Ln(),te("<<"),te("/Type /Catalog"),te("/Pages "+F+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+Ke;Q.substr(Q.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&te("/OpenAction [3 0 R /XYZ null null "+M(Ke)+"]")}switch(me||(me="continuous"),me){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ht&&te("/PageMode /"+ht),Bt.publish("putCatalog"),te(">>"),te("endobj")},ud=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(re+1)),te("/Root "+re+" 0 R"),te("/Info "+(re-1)+" 0 R"),c!==null&&te("/Encrypt "+gn.oid+" 0 R"),te("/ID [ <"+pe+"> <"+pe+"> ]"),te(">>")},dc=p.__private__.putHeader=function(){te("%PDF-"+_),te("%")},cd=p.__private__.putXRef=function(){var y="0000000000";te("xref"),te("0 "+(re+1)),te("0000000000 65535 f ");for(var F=1;F<=re;F++)typeof ge[F]=="function"?te((y+ge[F]()).slice(-10)+" 00000 n "):ge[F]!==void 0?te((y+ge[F]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},vs=p.__private__.buildDocument=function(){ot(),Ee(we),Bt.publish("buildDocument"),dc(),Hs(),ru(),nu(),c!==null&&ld(),Lo(),ys();var y=be;return cd(),ud(),te("startxref"),te(""+y),te("%%EOF"),Ee(De[L]),we.join(`
`)},_a=p.__private__.getBlob=function(y){return new Blob([rt(y)],{type:"application/pdf"})},Sa=p.output=p.__private__.output=ui(function(y,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",y){case void 0:return vs();case"save":p.save(F.filename);break;case"arraybuffer":return rt(vs());case"blob":return _a(vs());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(_a(vs()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ie=vs();try{Q=u5(ie)}catch{Q=u5(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+F.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(he=F.pdfObjectUrl,Ae="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",Ge=pt.open();return Ge!==null&&Ge.document.write(Re),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',E=pt.open();if(E!==null){E.document.write(f);var P=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=F.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(P.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',ce=pt.open();if(ce!==null&&(ce.document.write($),ce.document.title=F.filename),ce||typeof safari>"u")return ce;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",F);default:return null}}),Qs=function(y){return Array.isArray(Gi)===!0&&Gi.indexOf(y)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var gn=null;_e(),Z();var fc=function(y){return c!==null?gn.encryptor(y,0):function(F){return F}},ou=p.__private__.getPageInfo=p.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[y].objId,pageNumber:y,pageContext:lt[y]}},vt=p.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in lt)if(lt[F].objId===y)break;return ou(F)},Xs=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:lt[L].objId,pageNumber:L,pageContext:lt[L]}};p.addPage=function(){return Co.apply(this,arguments),this},p.setPage=function(){return su.apply(this,arguments),Ee.call(this,De[L]),this},p.insertPage=function(y){return this.addPage(),this.movePage(L,y),this},p.movePage=function(y,F){var Q,ie;if(y>F){Q=De[y],ie=lt[y];for(var he=y;he>F;he--)De[he]=De[he-1],lt[he]=lt[he-1];De[F]=Q,lt[F]=ie,this.setPage(F)}else if(y<F){Q=De[y],ie=lt[y];for(var Ae=y;Ae<F;Ae++)De[Ae]=De[Ae+1],lt[Ae]=lt[Ae+1];De[F]=Q,lt[F]=ie,this.setPage(F)}return this},p.deletePage=function(){return ba.apply(this,arguments),this},p.__private__.text=p.text=function(y,F,Q,ie,he){var Ae,Re,Ge,f,E,P,$,ce,xe,Oe=(ie=ie||{}).scope||this;if(typeof y=="number"&&typeof F=="number"&&(typeof Q=="string"||Array.isArray(Q))){var Et=Q;Q=F,F=y,y=Et}if(arguments[3]instanceof tt?(N("The transform parameter of text() with a Matrix value"),xe=he):(Ge=arguments[4],f=arguments[5],en($=arguments[3])==="object"&&$!==null||(typeof Ge=="string"&&(f=Ge,Ge=null),typeof $=="string"&&(f=$,$=null),typeof $=="number"&&(Ge=$,$=null),ie={flags:$,angle:Ge,align:f})),isNaN(F)||isNaN(Q)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Oe;var Ot="",At=!1,Gt=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:Wt,sn=Oe.internal.scaleFactor;function Ss(un){return un=un.split("	").join(Array(ie.TabLen||9).join(" ")),Nn(un,$)}function mr(un){for(var cn,On=un.concat(),tr=[],Bo=On.length;Bo--;)typeof(cn=On.shift())=="string"?tr.push(cn):Array.isArray(un)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?tr.push(cn[0]):tr.push([cn[0],cn[1],cn[2]]);return tr}function to(un,cn){var On;if(typeof un=="string")On=cn(un)[0];else if(Array.isArray(un)){for(var tr,Bo,wd=un.concat(),Tc=[],Dp=wd.length;Dp--;)typeof(tr=wd.shift())=="string"?Tc.push(cn(tr)[0]):Array.isArray(tr)&&typeof tr[0]=="string"&&(Bo=cn(tr[0],tr[1],tr[2]),Tc.push([Bo[0],Bo[1],Bo[2]]));On=Tc}return On}var no=!1,dd=!0;if(typeof y=="string")no=!0;else if(Array.isArray(y)){var fd=y.concat();Re=[];for(var vc,gr=fd.length;gr--;)(typeof(vc=fd.shift())!="string"||Array.isArray(vc)&&typeof vc[0]!="string")&&(dd=!1);no=dd}if(no===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var wc=Be/Oe.internal.scaleFactor,xc=wc*(Gt-1);switch(ie.baseline){case"bottom":Q-=xc;break;case"top":Q+=wc-xc;break;case"hanging":Q+=wc-2*xc;break;case"middle":Q+=wc/2-xc}if((P=ie.maxWidth||0)>0&&(typeof y=="string"?y=Oe.splitTextToSize(y,P):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(un,cn){return un.concat(Oe.splitTextToSize(cn,P))},[]))),Ae={text:y,x:F,y:Q,options:ie,mutex:{pdfEscape:Nn,activeFontKey:Je,fonts:Rt,activeFontSize:Be}},Bt.publish("preProcessText",Ae),y=Ae.text,Ge=(ie=Ae.options).angle,!(xe instanceof tt)&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,ie.rotationDirection===0&&(Ge=-Ge),A===S.ADVANCED&&(Ge=-Ge);var bc=Math.cos(Ge),pd=Math.sin(Ge);xe=new tt(bc,pd,-pd,bc,0,0)}else Ge&&Ge instanceof tt&&(xe=Ge);A!==S.ADVANCED||xe||(xe=Nr),(E=ie.charSpace||Do)!==void 0&&(Ot+=j(C(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ce=ie.horizontalScale)!==void 0&&(Ot+=j(100*ce)+` Tz
`),ie.lang;var ci=-1,E1=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,md=Oe.internal.getCurrentPageInfo().pageContext;switch(E1){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var Cp=md.usedRenderingMode!==void 0?md.usedRenderingMode:-1;ci!==-1?Ot+=ci+` Tr
`:Cp!==-1&&(Ot+=`0 Tr
`),ci!==-1&&(md.usedRenderingMode=ci),f=ie.align||"left";var Yi,_c=Be*Gt,Pp=Oe.internal.pageSize.getWidth(),Lp=Rt[Je];E=ie.charSpace||Do,P=ie.maxWidth||0,$=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var ja=[],pu=function(un){return Oe.getStringUnitWidth(un,{font:Lp,charSpace:E,fontSize:Be,doKerning:!1})*Be/sn};if(Object.prototype.toString.call(y)==="[object Array]"){var hi;Re=mr(y),f!=="left"&&(Yi=Re.map(pu));var Jr,Ma=0;if(f==="right"){F-=Yi[0],y=[],gr=Re.length;for(var Mo=0;Mo<gr;Mo++)Mo===0?(Jr=Ci(F),hi=er(Q)):(Jr=C(Ma-Yi[Mo]),hi=-_c),y.push([Re[Mo],Jr,hi]),Ma=Yi[Mo]}else if(f==="center"){F-=Yi[0]/2,y=[],gr=Re.length;for(var Fo=0;Fo<gr;Fo++)Fo===0?(Jr=Ci(F),hi=er(Q)):(Jr=C((Ma-Yi[Fo])/2),hi=-_c),y.push([Re[Fo],Jr,hi]),Ma=Yi[Fo]}else if(f==="left"){y=[],gr=Re.length;for(var Sc=0;Sc<gr;Sc++)y.push(Re[Sc])}else if(f==="justify"&&Lp.encoding==="Identity-H"){y=[],gr=Re.length,P=P!==0?P:Pp;for(var Vo=0,Dn=0;Dn<gr;Dn++)if(hi=Dn===0?er(Q):-_c,Jr=Dn===0?Ci(F):Vo,Dn<gr-1){var gd=C((P-Yi[Dn])/(Re[Dn].split(" ").length-1)),Zr=Re[Dn].split(" ");y.push([Zr[0]+" ",Jr,hi]),Vo=0;for(var Qi=1;Qi<Zr.length;Qi++){var Ec=(pu(Zr[Qi-1]+" "+Zr[Qi])-pu(Zr[Qi]))*sn+gd;Qi==Zr.length-1?y.push([Zr[Qi],Ec,0]):y.push([Zr[Qi]+" ",Ec,0]),Vo-=Ec}}else y.push([Re[Dn],Jr,hi]);y.push(["",Vo,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],gr=Re.length,P=P!==0?P:Pp,Dn=0;Dn<gr;Dn++)hi=Dn===0?er(Q):-_c,Jr=Dn===0?Ci(F):0,Dn<gr-1?ja.push(j(C((P-Yi[Dn])/(Re[Dn].split(" ").length-1)))):ja.push(0),y.push([Re[Dn],Jr,hi])}}var Rp=typeof ie.R2L=="boolean"?ie.R2L:st;Rp===!0&&(y=to(y,function(un,cn,On){return[un.split("").reverse().join(""),cn,On]})),Ae={text:y,x:F,y:Q,options:ie,mutex:{pdfEscape:Nn,activeFontKey:Je,fonts:Rt,activeFontSize:Be}},Bt.publish("postProcessText",Ae),y=Ae.text,At=Ae.mutex.isHex||!1;var yd=Rt[Je].encoding;yd!=="WinAnsiEncoding"&&yd!=="StandardEncoding"||(y=to(y,function(un,cn,On){return[Ss(un),cn,On]})),Re=mr(y),y=[];for(var mu,gu,Fa,yu=0,Ac=1,vu=Array.isArray(Re[0])?Ac:yu,Va="",vd=function(un,cn,On){var tr="";return On instanceof tt?(On=typeof ie.angle=="number"?ai(On,new tt(1,0,0,1,un,cn)):ai(new tt(1,0,0,1,un,cn),On),A===S.ADVANCED&&(On=ai(new tt(1,0,0,-1,0,0),On)),tr=On.join(" ")+` Tm
`):tr=j(un)+" "+j(cn)+` Td
`,tr},Xi=0;Xi<Re.length;Xi++){switch(Va="",vu){case Ac:Fa=(At?"<":"(")+Re[Xi][0]+(At?">":")"),mu=parseFloat(Re[Xi][1]),gu=parseFloat(Re[Xi][2]);break;case yu:Fa=(At?"<":"(")+Re[Xi]+(At?">":")"),mu=Ci(F),gu=er(Q)}ja!==void 0&&ja[Xi]!==void 0&&(Va=ja[Xi]+` Tw
`),Xi===0?y.push(Va+vd(mu,gu,xe)+Fa):vu===yu?y.push(Va+Fa):vu===Ac&&y.push(Va+vd(mu,gu,xe)+Fa)}y=vu===yu?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Ji=`BT
/`;return Ji+=Je+" "+Be+` Tf
`,Ji+=j(Be*Gt)+` TL
`,Ji+=bs+`
`,Ji+=Ot,Ji+=y,te(Ji+="ET"),m[Je]=!0,Oe};var hd=p.__private__.clip=p.clip=function(y){return te(y==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return hd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var Ki=p.__private__.isValidStyle=function(y){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(F=!0),F};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(y){return Ki(y)&&(u=y),this};var pc=p.__private__.getStyle=p.getStyle=function(y){var F=u;switch(y){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=y}return F},Ni=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(y){return Ea("f",y),this},p.fillEvenOdd=function(y){return Ea("f*",y),this},p.fillStroke=function(y){return Ea("B",y),this},p.fillStrokeEvenOdd=function(y){return Ea("B*",y),this};var Ea=function(y,F){en(F)==="object"?Ta(F,y):te(y)},au=function(y){y===null||A===S.ADVANCED&&y===void 0||(y=pc(y),te(y))};function Aa(y,F,Q,ie,he){var Ae=new lh(F||this.boundingBox,Q||this.xStep,ie||this.yStep,this.gState,he||this.matrix);Ae.stream=this.stream;var Re=y+"$$"+this.cloneIndex+++"$$";return Hn(Re,Ae),Ae}var Ta=function(y,F){var Q=$s[y.key],ie=St[Q];if(ie instanceof ku)te("q"),te(mc(F)),ie.gState&&p.setGState(ie.gState),te(y.matrix.toString()+" cm"),te("/"+Q+" sh"),te("Q");else if(ie instanceof lh){var he=new tt(1,0,0,-1,0,Cr());y.matrix&&(he=he.multiply(y.matrix||Nr),Q=Aa.call(ie,y.key,y.boundingBox,y.xStep,y.yStep,he).id),te("q"),te("/Pattern cs"),te("/"+Q+" scn"),ie.gState&&p.setGState(ie.gState),te(F),te("Q")}},mc=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ws=p.moveTo=function(y,F){return te(j(C(y))+" "+j(X(F))+" m"),this},ki=p.lineTo=function(y,F){return te(j(C(y))+" "+j(X(F))+" l"),this},xs=p.curveTo=function(y,F,Q,ie,he,Ae){return te([j(C(y)),j(X(F)),j(C(Q)),j(X(ie)),j(C(he)),j(X(Ae)),"c"].join(" ")),this};p.__private__.line=p.line=function(y,F,Q,ie,he){if(isNaN(y)||isNaN(F)||isNaN(Q)||isNaN(ie)||!Ki(he))throw new Error("Invalid arguments passed to jsPDF.line");return A===S.COMPAT?this.lines([[Q-y,ie-F]],y,F,[1,1],he||"S"):this.lines([[Q-y,ie-F]],y,F,[1,1]).stroke()},p.__private__.lines=p.lines=function(y,F,Q,ie,he,Ae){var Re,Ge,f,E,P,$,ce,xe,Oe,Et,Ot,At;if(typeof y=="number"&&(At=Q,Q=F,F=y,y=At),ie=ie||[1,1],Ae=Ae||!1,isNaN(F)||isNaN(Q)||!Array.isArray(y)||!Array.isArray(ie)||!Ki(he)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ws(F,Q),Re=ie[0],Ge=ie[1],E=y.length,Et=F,Ot=Q,f=0;f<E;f++)(P=y[f]).length===2?(Et=P[0]*Re+Et,Ot=P[1]*Ge+Ot,ki(Et,Ot)):($=P[0]*Re+Et,ce=P[1]*Ge+Ot,xe=P[2]*Re+Et,Oe=P[3]*Ge+Ot,Et=P[4]*Re+Et,Ot=P[5]*Ge+Ot,xs($,ce,xe,Oe,Et,Ot));return Ae&&Ni(),au(he),this},p.path=function(y){for(var F=0;F<y.length;F++){var Q=y[F],ie=Q.c;switch(Q.op){case"m":ws(ie[0],ie[1]);break;case"l":ki(ie[0],ie[1]);break;case"c":xs.apply(this,ie);break;case"h":Ni()}}return this},p.__private__.rect=p.rect=function(y,F,Q,ie,he){if(isNaN(y)||isNaN(F)||isNaN(Q)||isNaN(ie)||!Ki(he))throw new Error("Invalid arguments passed to jsPDF.rect");return A===S.COMPAT&&(ie=-ie),te([j(C(y)),j(X(F)),j(C(Q)),j(C(ie)),"re"].join(" ")),au(he),this},p.__private__.triangle=p.triangle=function(y,F,Q,ie,he,Ae,Re){if(isNaN(y)||isNaN(F)||isNaN(Q)||isNaN(ie)||isNaN(he)||isNaN(Ae)||!Ki(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-y,ie-F],[he-Q,Ae-ie],[y-he,F-Ae]],y,F,[1,1],Re,!0),this},p.__private__.roundedRect=p.roundedRect=function(y,F,Q,ie,he,Ae,Re){if(isNaN(y)||isNaN(F)||isNaN(Q)||isNaN(ie)||isNaN(he)||isNaN(Ae)||!Ki(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*Q),Ae=Math.min(Ae,.5*ie),this.lines([[Q-2*he,0],[he*Ge,0,he,Ae-Ae*Ge,he,Ae],[0,ie-2*Ae],[0,Ae*Ge,-he*Ge,Ae,-he,Ae],[2*he-Q,0],[-he*Ge,0,-he,-Ae*Ge,-he,-Ae],[0,2*Ae-ie],[0,-Ae*Ge,he*Ge,-Ae,he,-Ae]],y+he,F,[1,1],Re,!0),this},p.__private__.ellipse=p.ellipse=function(y,F,Q,ie,he){if(isNaN(y)||isNaN(F)||isNaN(Q)||isNaN(ie)||!Ki(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*Q,Re=4/3*(Math.SQRT2-1)*ie;return ws(y+Q,F),xs(y+Q,F-Re,y+Ae,F-ie,y,F-ie),xs(y-Ae,F-ie,y-Q,F-Re,y-Q,F),xs(y-Q,F+Re,y-Ae,F+ie,y,F+ie),xs(y+Ae,F+ie,y+Q,F+Re,y+Q,F),au(he),this},p.__private__.circle=p.circle=function(y,F,Q,ie){if(isNaN(y)||isNaN(F)||isNaN(Q)||!Ki(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,F,Q,Q,ie)},p.setFont=function(y,F,Q){return Q&&(F=W(F,Q)),Je=Po(y,F,{disableWarning:!1}),this};var lu=p.__private__.getFont=p.getFont=function(){return Rt[Po.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var y,F,Q={};for(y in Ct)if(Ct.hasOwnProperty(y))for(F in Q[y]=[],Ct[y])Ct[y].hasOwnProperty(F)&&Q[y].push(F);return Q},p.addFont=function(y,F,Q,ie,he){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(Q=W(Q,ie)),he=he||"Identity-H",iu.call(this,y,F,Q,he)};var Wt,uu=t.lineWidth||.200025,Ia=p.__private__.getLineWidth=p.getLineWidth=function(){return uu},cu=p.__private__.setLineWidth=p.setLineWidth=function(y){return uu=y,te(j(C(y))+" w"),this};p.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(y,F){if(y=y||[],F=F||0,isNaN(F)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(Q){return j(C(Q))}).join(" "),F=j(C(F)),te("["+y+"] "+F+" d"),this};var hu=p.__private__.getLineHeight=p.getLineHeight=function(){return Be*Wt};p.__private__.getLineHeight=p.getLineHeight=function(){return Be*Wt};var du=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Wt=y),this},Ro=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Wt};du(t.lineHeight);var Ci=p.__private__.getHorizontalCoordinate=function(y){return C(y)},er=p.__private__.getVerticalCoordinate=function(y){return A===S.ADVANCED?y:lt[L].mediaBox.topRightY-lt[L].mediaBox.bottomLeftY-C(y)},gc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(y){return j(Ci(y))},Js=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(y){return j(er(y))},pr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return li(pr)},p.__private__.setStrokeColor=p.setDrawColor=function(y,F,Q,ie){return pr=Yr({ch1:y,ch2:F,ch3:Q,ch4:ie,pdfColorType:"draw",precision:2}),te(pr),this};var Na=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return li(Na)},p.__private__.setFillColor=p.setFillColor=function(y,F,Q,ie){return Na=Yr({ch1:y,ch2:F,ch3:Q,ch4:ie,pdfColorType:"fill",precision:2}),te(Na),this};var bs=t.textColor||"0 g",ka=p.__private__.getTextColor=p.getTextColor=function(){return li(bs)};p.__private__.setTextColor=p.setTextColor=function(y,F,Q,ie){return bs=Yr({ch1:y,ch2:F,ch3:Q,ch4:ie,pdfColorType:"text",precision:3}),this};var Do=t.charSpace,Ca=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Do||0)};p.__private__.setCharSpace=p.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=y,this};var fu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(y){var F=p.CapJoinStyles[y];if(F===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=F,te(F+" J"),this};var Pa=0;p.__private__.setLineJoin=p.setLineJoin=function(y){var F=p.CapJoinStyles[y];if(F===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=F,te(F+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(j(C(y))+" M"),this},p.GState=g0,p.setGState=function(y){(y=typeof y=="string"?pn[fr[y]]:Zs(null,y)).equals(Ai)||(te("/"+y.id+" gs"),Ai=y)};var Zs=function(y,F){if(!y||!fr[y]){var Q=!1;for(var ie in pn)if(pn.hasOwnProperty(ie)&&pn[ie].equals(F)){Q=!0;break}if(Q)F=pn[ie];else{var he="GS"+(Object.keys(pn).length+1).toString(10);pn[he]=F,F.id=he}return y&&(fr[y]=F.id),Bt.publish("addGState",F),F}};p.addGState=function(y,F){return Zs(y,F),this},p.saveGraphicsState=function(){return te("q"),Zn.push({key:Je,size:Be,color:bs}),this},p.restoreGraphicsState=function(){te("Q");var y=Zn.pop();return Je=y.key,Be=y.size,bs=y.color,Ai=null,this},p.setCurrentTransformationMatrix=function(y){return te(y.toString()+" cm"),this},p.comment=function(y){return te("#"+y),this};var Oo=function(y,F){var Q=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ae){isNaN(Ae)||(Q=parseFloat(Ae))}});var ie=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(Ae){isNaN(Ae)||(ie=parseFloat(Ae))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Ae){he=Ae.toString()}}),this},La=function(y,F,Q,ie){Oo.call(this,y,F),this.type="rect";var he=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Re){isNaN(Re)||(he=parseFloat(Re))}});var Ae=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Re){isNaN(Re)||(Ae=parseFloat(Re))}}),this},jo=function(){this.page=ln,this.currentPage=L,this.pages=De.slice(0),this.pagesContext=lt.slice(0),this.x=Ht,this.y=bt,this.matrix=qn,this.width=eo(L),this.height=Cr(L),this.outputDestination=qe,this.id="",this.objectNumber=-1};jo.prototype.restore=function(){ln=this.page,L=this.currentPage,lt=this.pagesContext,De=this.pages,Ht=this.x,bt=this.y,qn=this.matrix,Da(L,this.width),Oa(L,this.height),qe=this.outputDestination};var Ra=function(y,F,Q,ie,he){Ti.push(new jo),ln=L=0,De=[],Ht=y,bt=F,qn=he,Xr([Q,ie])},yc=function(y){if(Ir[y])Ti.pop().restore();else{var F=new jo,Q="Xo"+(Object.keys($n).length+1).toString(10);F.id=Q,Ir[y]=Q,$n[Q]=F,Bt.publish("addFormObject",F),Ti.pop().restore()}};for(var _s in p.beginFormObject=function(y,F,Q,ie,he){return Ra(y,F,Q,ie,he),this},p.endFormObject=function(y){return yc(y),this},p.doFormObject=function(y,F){var Q=$n[Ir[y]];return te("q"),te(F.toString()+" cm"),te("/"+Q.id+" Do"),te("Q"),this},p.getFormObject=function(y){var F=$n[Ir[y]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},p.save=function(y,F){return y=y||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Iu(_a(vs()),y),typeof Iu.unload=="function"&&pt.setTimeout&&setTimeout(Iu.unload,911),this):new Promise(function(Q,ie){try{var he=Iu(_a(vs()),y);typeof Iu.unload=="function"&&pt.setTimeout&&setTimeout(Iu.unload,911),Q(he)}catch(Ae){ie(Ae.message)}})},ft.API)ft.API.hasOwnProperty(_s)&&(_s==="events"&&ft.API.events.length?function(y,F){var Q,ie,he;for(he=F.length-1;he!==-1;he--)Q=F[he][0],ie=F[he][1],y.subscribe.apply(y,[Q].concat(typeof ie=="function"?[ie]:ie))}(Bt,ft.API.events):p[_s]=ft.API[_s]);var eo=p.getPageWidth=function(y){return(lt[y=y||L].mediaBox.topRightX-lt[y].mediaBox.bottomLeftX)/ze},Da=p.setPageWidth=function(y,F){lt[y].mediaBox.topRightX=F*ze+lt[y].mediaBox.bottomLeftX},Cr=p.getPageHeight=function(y){return(lt[y=y||L].mediaBox.topRightY-lt[y].mediaBox.bottomLeftY)/ze},Oa=p.setPageHeight=function(y,F){lt[y].mediaBox.topRightY=F*ze+lt[y].mediaBox.bottomLeftY};return p.internal={pdfEscape:Nn,getStyle:pc,getFont:lu,getFontSize:He,getCharSpace:Ca,getTextColor:ka,getLineHeight:hu,getLineHeightFactor:Ro,getLineWidth:Ia,write:yt,getHorizontalCoordinate:Ci,getVerticalCoordinate:er,getCoordinateString:gc,getVerticalCoordinateString:Js,collections:{},newObject:Ln,newAdditionalObject:va,newObjectDeferred:In,newObjectDeferredBegin:Wn,getFilters:Qr,putStream:Rn,events:Bt,scaleFactor:ze,pageSize:{getWidth:function(){return eo(L)},setWidth:function(y){Da(L,y)},getHeight:function(){return Cr(L)},setHeight:function(y){Oa(L,y)}},encryptionOptions:c,encryption:gn,getEncryptor:fc,output:Sa,getNumberOfPages:Yt,pages:De,out:te,f2:M,f3:T,getPageInfo:ou,getPageInfoByObjId:vt,getCurrentPageInfo:Xs,getPDFVersion:b,Point:Oo,Rectangle:La,Matrix:tt,hasHotfix:Qs},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return eo(L)},set:function(y){Da(L,y)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Cr(L)},set:function(y){Oa(L,y)},enumerable:!0,configurable:!0}),hc.call(p,Me),Je="F1",Co(i,n),Bt.publish("initialized"),p}Uc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Uc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Uc.prototype.processOwnerPassword=function(t,e){return h5(c5(e).substr(0,5),t)},Uc.prototype.encryptor=function(t,e){var n=c5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return h5(n,r)}},g0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||en(t)!==en(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="2.5.2";var Cn=ft.API,gb=1,oc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},Ja=function(t){return t.toFixed(5)};Cn.__acroform__={};var Ei=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},I3=function(t){return t*gb},so=function(t){var e=new DL,n=it.internal.getHeight(t)||0,r=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(r)),Number(Tt(n))],e},BZ=Cn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},UZ=Cn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},zZ=Cn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Vn=Cn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zZ(t,e-1)},Bn=Cn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return BZ(t,e-1)},Un=Cn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UZ(t,e-1)},qZ=Cn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Tt(l.lowerLeft_X)),Number(Tt(l.lowerLeft_Y)),Number(Tt(l.upperRight_X)),Number(Tt(l.upperRight_Y))]},$Z=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=d5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Tt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=so(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},d5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,o=it.internal.getHeight(t)||0;o=o<0?-o:o;var a=it.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,C,D){if(T+1<i.length){var X=C+" "+i[T+1][0];return Pm(X,t,D).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=Pm("3",t,s).height,m=t.multiline?o-s:(o-d)/2,p=m+=2,_=0,b=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pm(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",S=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var B=!1;if(i[A].length!==1&&I!==i[A].length-1){if((d+2)*(S+2)+2>o)continue e;w+=i[A][I],B=!0,b=A,A--}else{w=(w+=i[A][I]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var K=parseInt(A),W=l(K,w,s),j=A>=i.length-1;if(W&&!j){w+=" ",I=0;continue}if(W||j){if(j)b=K;else if(t.multiline&&(d+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(S+2)+2>o)continue e;b=K}}for(var N="",R=_;R<=b;R++){var M=i[R];if(t.multiline){if(R===b){N+=M[I]+" ",I=(I+1)%M.length;continue}if(R===_){N+=M[M.length-1]+" ";continue}}N+=M[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,c=Pm(N,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;case"left":default:u=2}e+=Tt(u)+" "+Tt(p)+` Td
`,e+="("+oc(N)+`) Tj
`,e+=-Tt(u)+` 0 Td
`,p=-(s+2),c=0,_=B?b:b+1,S++,w=""}break}return r.text=e,r.fontSize=s,r},Pm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},HZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WZ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},GZ=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),en(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},KZ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(zs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(HZ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new OL,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&WZ(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=qZ(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=it.createDefaultAppearanceStream(a),en(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=$Z(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var _=p[o];typeof _=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&GZ(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},RL=Cn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),en(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+oc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sv=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+oc(r(t))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:RL(i,this.objId,this.scope)}):i instanceof po?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var DL=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ei(DL,po);var OL=function(){po.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+oc(n(t))+")"}},set:function(n){t=n}})};Ei(OL,po);var zs=function t(){po.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vn(e,3)},set:function(w){w?this.F=Bn(e,3):this.F=Un(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof y0)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+oc(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/gb:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof y0||this instanceof Vu))return sv(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof hr?m:sv(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof hr?w:w.substr(0,1)==="("?Oc(w.substr(1,w.length-2)):Oc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?Oc(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof hr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof hr?p:sv(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof hr?w:w.substr(0,1)==="("?Oc(w.substr(1,w.length-2)):Oc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?Oc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof hr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,1)},set:function(w){w?this.Ff=Bn(this.Ff,1):this.Ff=Un(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,2)},set:function(w){w?this.Ff=Bn(this.Ff,2):this.Ff=Un(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,3)},set:function(w){w?this.Ff=Bn(this.Ff,3):this.Ff=Un(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');I=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(I){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Ei(zs,po);var bh=function(){zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RL(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,18)},set:function(n){n?this.Ff=Bn(this.Ff,18):this.Ff=Un(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Bn(this.Ff,19):this.Ff=Un(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,20)},set:function(n){n?(this.Ff=Bn(this.Ff,20),e.sort()):this.Ff=Un(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,22)},set:function(n){n?this.Ff=Bn(this.Ff,22):this.Ff=Un(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(n){n?this.Ff=Bn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,27)},set:function(n){n?this.Ff=Bn(this.Ff,27):this.Ff=Un(this.Ff,27)}}),this.hasAppearanceStream=!1};Ei(bh,zs);var _h=function(){bh.call(this),this.fontName="helvetica",this.combo=!1};Ei(_h,bh);var Sh=function(){_h.call(this),this.combo=!0};Ei(Sh,_h);var ug=function(){Sh.call(this),this.edit=!0};Ei(ug,Sh);var hr=function(){zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,15)},set:function(n){n?this.Ff=Bn(this.Ff,15):this.Ff=Un(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,16)},set:function(n){n?this.Ff=Bn(this.Ff,16):this.Ff=Un(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,17)},set:function(n){n?this.Ff=Bn(this.Ff,17):this.Ff=Un(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(n){n?this.Ff=Bn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+oc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){en(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ei(hr,zs);var cg=function(){hr.call(this),this.pushButton=!0};Ei(cg,hr);var Eh=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ei(Eh,hr);var y0=function(){var t,e;zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+oc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){en(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ei(y0,zs),Eh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Eh.prototype.createOption=function(t){var e=new y0;return e.Parent=this,e.optionName=t,this.Kids.push(e),YZ.call(this.scope,e),e};var hg=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Ei(hg,hr);var Vu=function(){zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,13)},set:function(e){e?this.Ff=Bn(this.Ff,13):this.Ff=Un(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,21)},set:function(e){e?this.Ff=Bn(this.Ff,21):this.Ff=Un(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(e){e?this.Ff=Bn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,24)},set:function(e){e?this.Ff=Bn(this.Ff,24):this.Ff=Un(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,25)},set:function(e){e?this.Ff=Bn(this.Ff,25):this.Ff=Un(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(e){e?this.Ff=Bn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ei(Vu,zs);var dg=function(){Vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,14)},set:function(t){t?this.Ff=Bn(this.Ff,14):this.Ff=Un(this.Ff,14)}}),this.password=!0};Ei(dg,Vu);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=d5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Tt(it.internal.getWidth(t))+" "+Tt(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Tt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=so(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=it.internal.getHeight(t),o=it.internal.getWidth(t),a=d5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Tt(o)+" "+Tt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tt(o-1)+" "+Tt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Tt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(it.internal.getWidth(t))+" "+Tt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=so(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ja(it.internal.getWidth(t)/2)+" "+Ja(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*it.internal.Bezier_C).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ja(it.internal.getWidth(t)/2)+" "+Ja(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ja(it.internal.getWidth(t)/2)+" "+Ja(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ja(it.internal.getWidth(t)/2)+" "+Ja(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=so(t);e.scope=t.scope;var n=[],r=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Tt(it.internal.getWidth(t)-2)+" "+Tt(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=so(t);e.scope=t.scope;var n=it.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(it.internal.getWidth(t))+" "+Tt(it.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Tt(it.internal.getWidth(t)-2)+" "+Tt(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=so(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(it.internal.getWidth(t))+" "+Tt(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},it.internal.getWidth=function(t){var e=0;return en(t)==="object"&&(e=I3(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return en(t)==="object"&&(e=I3(t.Rect[3])),e};var YZ=Cn.addField=function(t){if(KZ(this,t),!(t instanceof zs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Cn.AcroFormChoiceField=bh,Cn.AcroFormListBox=_h,Cn.AcroFormComboBox=Sh,Cn.AcroFormEditBox=ug,Cn.AcroFormButton=hr,Cn.AcroFormPushButton=cg,Cn.AcroFormRadioButton=Eh,Cn.AcroFormCheckBox=hg,Cn.AcroFormTextField=Vu,Cn.AcroFormPasswordField=dg,Cn.AcroFormAppearance=it,Cn.AcroForm={ChoiceField:bh,ListBox:_h,ComboBox:Sh,EditBox:ug,Button:hr,PushButton:cg,RadioButton:Eh,CheckBox:hg,TextField:Vu,PasswordField:dg,Appearance:it},ft.AcroForm={ChoiceField:bh,ListBox:_h,ComboBox:Sh,EditBox:ug,Button:hr,PushButton:cg,RadioButton:Eh,CheckBox:hg,TextField:Vu,PasswordField:dg,Appearance:it};function jL(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(T,C){var D,X,fe,pe,ae,Z=e;if((C=C||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(W(T))for(ae in n)for(fe=n[ae],D=0;D<fe.length;D+=1){for(pe=!0,X=0;X<fe[D].length;X+=1)if(fe[D][X]!==void 0&&fe[D][X]!==T[X]){pe=!1;break}if(pe===!0){Z=ae;break}}else for(ae in n)for(fe=n[ae],D=0;D<fe.length;D+=1){for(pe=!0,X=0;X<fe[D].length;X+=1)if(fe[D][X]!==void 0&&fe[D][X]!==T.charCodeAt(X)){pe=!1;break}if(pe===!0){Z=ae;break}}return Z===e&&C!==e&&(Z=C),Z},i=function T(C){for(var D=this.internal.write,X=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:C.width}),pe.push({key:"Height",value:C.height}),C.colorSpace===I.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===I.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ae="",Z=0,le=C.transparency.length;Z<le;Z++)ae+=C.transparency[Z]+" "+C.transparency[Z]+" ";pe.push({key:"Mask",value:"["+ae+"]"})}C.sMask!==void 0&&pe.push({key:"SMask",value:C.objectId+1+" 0 R"});var z=C.filter!==void 0?["/"+C.filter]:void 0;if(X({data:C.data,additionalKeyValues:pe,alreadyAppliedFilters:z,objectId:C.objectId}),D("endobj"),"sMask"in C&&C.sMask!==void 0){var _e="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,O={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:_e,data:C.sMask};"filter"in C&&(O.filter=C.filter),T.call(this,O)}if(C.colorSpace===I.INDEXED){var L=this.internal.newObject();X({data:N(new Uint8Array(C.palette)),objectId:L}),D("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var C in T)i.call(this,T[C])},o=function(){var T,C=this.internal.collections.addImage_images,D=this.internal.write;for(var X in C)D("/I"+(T=C[X]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(T){return typeof t["process"+T.toUpperCase()]=="function"},d=function(T){return en(T)==="object"&&T.nodeType===1},m=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return _f(unescape(D).split("base64,").pop());var X=t.loadFile(D,!0);if(X!==void 0)return X}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var fe;switch(C){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return _f(T.toDataURL(fe,1).split("base64,").pop())}},p=function(T){var C=this.internal.collections.addImage_images;if(C){for(var D in C)if(T===C[D].alias)return C[D]}},_=function(T,C,D){return T||C||(T=-96,C=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),T===0&&(T=C*D.width/D.height),C===0&&(C=T*D.height/D.width),[T,C]},b=function(T,C,D,X,fe,pe){var ae=_.call(this,D,X,fe),Z=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,z=l.call(this);if(D=ae[0],X=ae[1],z[fe.index]=fe,pe){pe*=Math.PI/180;var _e=Math.cos(pe),O=Math.sin(pe),L=function(ee){return ee.toFixed(4)},J=[L(_e),L(O),L(-1*O),L(_e),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,Z(T),le(C+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Z(D),"0","0",Z(X),"0","0","cm"].join(" "))):this.internal.write([Z(D),"0","0",Z(X),Z(T),le(C+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},I=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(T){var C,D,X=0;if(typeof T=="string")for(D=T.length,C=0;C<D;C++)X=(X<<5)-X+T.charCodeAt(C),X|=0;else if(W(T))for(D=T.byteLength/2,C=0;C<D;C++)X=(X<<5)-X+T[C],X|=0;return X},A=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},B=t.__addimage__.extractImageFromDataUrl=function(T){var C=(T=T||"").split("base64,"),D=null;if(C.length===2){var X=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(X)&&(D={mimeType:X[1],charset:X[2],data:C[1]})}return D},K=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return K()&&T instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(T){return K()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},j=t.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,D=new Uint8Array(C),X=0;X<C;X++)D[X]=T.charCodeAt(X);return D},N=t.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",D=W(T)?T:new Uint8Array(T),X=0;X<D.length;X+=8192)C+=String.fromCharCode.apply(null,D.subarray(X,X+8192));return C};t.addImage=function(){var T,C,D,X,fe,pe,ae,Z,le;if(typeof arguments[1]=="number"?(C=e,D=arguments[1],X=arguments[2],fe=arguments[3],pe=arguments[4],ae=arguments[5],Z=arguments[6],le=arguments[7]):(C=arguments[1],D=arguments[2],X=arguments[3],fe=arguments[4],pe=arguments[5],ae=arguments[6],Z=arguments[7],le=arguments[8]),en(T=arguments[0])==="object"&&!d(T)&&"imageData"in T){var z=T;T=z.imageData,C=z.format||C||e,D=z.x||D||0,X=z.y||X||0,fe=z.w||z.width||fe,pe=z.h||z.height||pe,ae=z.alias||ae,Z=z.compression||Z,le=z.rotation||z.angle||le}var _e=this.internal.getFilters();if(Z===void 0&&_e.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(D)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var O=R.call(this,T,C,ae,Z);return b.call(this,D,X,fe,pe,O,le),this};var R=function(T,C,D,X){var fe,pe,ae;if(typeof T=="string"&&r(T)===e){T=unescape(T);var Z=M(T,!1);(Z!==""||(Z=t.loadFile(T,!0))!==void 0)&&(T=Z)}if(d(T)&&(T=m(T,C)),C=r(T,C),!c(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ae=D)==null||ae.length===0)&&(D=function(le){return typeof le=="string"||W(le)?S(le):W(le.data)?S(le.data):null}(T)),(fe=p.call(this,D))||(K()&&(T instanceof Uint8Array||C==="RGBA"||(pe=T,T=j(T))),fe=this["process"+C.toUpperCase()](T,u.call(this),D,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:w.NONE}(X),pe)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},M=t.__addimage__.convertBase64ToBinaryString=function(T,C){var D;C=typeof C!="boolean"||C;var X,fe="";if(typeof T=="string"){X=(D=B(T))!==null?D.data:T;try{fe=_f(X)}catch(pe){if(C)throw A(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};t.getImageProperties=function(T){var C,D,X="";if(d(T)&&(T=m(T)),typeof T=="string"&&r(T)===e&&((X=M(T,!1))===""&&(X=t.loadFile(T)||""),T=X),D=r(T),!c(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!K()||T instanceof Uint8Array||(T=j(T)),!(C=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=D,C}})(ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(S))+") >>",b.content=s;var A=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(b.objId,"0 R",I.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var K=this.annotations._nameMap[r.options.name];r.options.pageNumber=K.page,r.options.top=K.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var W=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+W+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(b){var I=0,w=n,S="",A=0;for(I=0;I<b.length;I+=1)w[b.charCodeAt(I)]!==void 0?(A++,typeof(w=w[b.charCodeAt(I)])=="number"&&(S+=String.fromCharCode(w),w=n,A=0),I===b.length-1&&(w=n,S+=b.charAt(I-(A-1)),I-=A-1,A=0)):(w=n,S+=b.charAt(I-A),I-=A,A=0);return S};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(b,I,w){return o(b)?s(b)===!1?-1:!u(b)||!o(I)&&!o(w)||!o(w)&&a(I)||a(b)&&!o(I)||a(b)&&l(I)||a(b)&&a(I)?0:c(b)&&o(I)&&!a(I)&&o(w)&&u(w)?3:a(b)||!o(w)?1:2:-1},p=function(b){var I=0,w=0,S=0,A="",B="",K="",W=(b=b||"").split("\\s+"),j=[];for(I=0;I<W.length;I+=1){for(j.push(""),w=0;w<W[I].length;w+=1)A=W[I][w],B=W[I][w-1],K=W[I][w+1],o(A)?(S=m(A,B,K),j[I]+=S!==-1?String.fromCharCode(e[A.charCodeAt(0)][S]):A):j[I]+=A;j[I]=d(j[I])}return j.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var b,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(I)){var S=0;for(w=[],S=0;S<I.length;S+=1)Array.isArray(I[S])?w.push([p(I[S][0]),I[S][1],I[S][2]]):w.push([p(I[S])]);b=w}else b=p(I);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",_])}(ft.API),ft.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(b){_=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,_=0,b=0,I=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,B){return A.concat(I.splitTextToSize(B,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)p<(b=this.getStringUnitWidth(l[S],{font:d})*c)&&(p=b);return p!==0&&(_=l.length),{w:p/=m,h:Math.max((_*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,m){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,_,b,I,w=[],S=[],A=[],B={},K={},W=[],j=[],N=(m=m||{}).autoSize||!1,R=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},e),C=typeof m.padding=="number"?m.padding:3,D=m.headerBackgroundColor||"#c8c8c8",X=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=X,this.setFontSize(M),d==null)S=w=Object.keys(c[0]),A=w.map(function(){return"left"});else if(Array.isArray(d)&&en(d[0])==="object")for(w=d.map(function(z){return z.name}),S=d.map(function(z){return z.prompt||z.name||""}),A=d.map(function(z){return z.align||"left"}),p=0;p<d.length;p+=1)K[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(S=w=d,A=w.map(function(){return"left"}));if(N||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<w.length;p+=1){for(B[I=w[p]]=c.map(function(z){return z[I]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=B[I],this.setFont(void 0,"normal"),b=0;b<_.length;b+=1)W.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[I]=Math.max.apply(null,W)+C+C,W=[]}if(R){var fe={};for(p=0;p<w.length;p+=1)fe[w[p]]={},fe[w[p]].text=S[p],fe[w[p]].align=A[p];var pe=a.call(this,fe,K);j=w.map(function(z){return new s(l,u,K[z],pe,fe[z].text,void 0,fe[z].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ae=d.reduce(function(z,_e){return z[_e.name]=_e.align,z},{});for(p=0;p<c.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:c[p]},this);var Z=a.call(this,c[p],K);for(b=0;b<w.length;b+=1){var le=c[p][w[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:b,data:le},this),o.call(this,new s(l,u,K[w[b]],Z,le,p+2,ae[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/m+c+c},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,m.push(c)),c.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(_)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(ft.API);var ML={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f5=jL(FL),VL=[100,200,300,400,500,600,700,800,900],QZ=jL(VL);function p5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return ML[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof f5[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function N3(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var XZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},k3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function C3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function JZ(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},XZ,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=p5(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+C3(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=f5[l],d=c<=f5.normal?-1:1,m=N3(u,FL,c,d);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=ML[l],d=0;d<c.length;++d)if(u[c[d]])return u[c[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=QZ[l],d=N3(u,VL,c,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+C3(s)+"'.");return o}function P3(t){return t.trimLeft()}function ZZ(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function eee(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Lm,L3,R3,ov=["times"];(function(t){var e,n,r,i,s,o,a,l,u,c=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=O;Object.defineProperty(this,"pdf",{get:function(){return L}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ee){J=!!Ee}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ee){ee=!!Ee}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ee){isNaN(Ee)||(re=Ee)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ee){isNaN(Ee)||(ge=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ee){var te;typeof Ee=="number"?te=[Ee,Ee,Ee,Ee]:((te=new Array(4))[0]=Ee[0],te[1]=Ee.length>=2?Ee[1]:te[0],te[2]=Ee.length>=3?Ee[2]:te[0],te[3]=Ee.length>=4?Ee[3]:te[1]),u.margin=te}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ee){we=Ee}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(Ee){be=Ee}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ee){je=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ee){Ee instanceof c&&(u=Ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ee){u.path=Ee}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ee){De=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var te;te=m(Ee),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var te=m(Ee);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var $e=null;function qe(Ee,te){if($e===null){var yt=function(rt){var Me=[];return Object.keys(rt).forEach(function(Be){rt[Be].forEach(function(Ke){var He=null;switch(Ke){case"bold":He={family:Be,weight:"bold"};break;case"italic":He={family:Be,style:"italic"};break;case"bolditalic":He={family:Be,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Be}}He!==null&&(He.ref={name:Be,style:Ke},Me.push(He))})}),Me}(Ee.getFontList());$e=function(rt){for(var Me={},Be=0;Be<rt.length;++Be){var Ke=p5(rt[Be]),He=Ke.family,st=Ke.stretch,ht=Ke.style,xt=Ke.weight;Me[He]=Me[He]||{},Me[He][st]=Me[He][st]||{},Me[He][st][ht]=Me[He][st][ht]||{},Me[He][st][ht][xt]=Ke}return Me}(yt.concat(te))}return $e}var ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(Ee){$e=null,ot=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var te;if(this.ctx.font=Ee,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var yt=te[1],rt=(te[2],te[3]),Me=te[4],Be=(te[5],te[6]),Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(Ke==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var He=function(Ue){var Je,ze,Ht=[],bt=Ue.trim();if(bt==="")return ov;if(bt in k3)return[k3[bt]];for(;bt!=="";){switch(ze=null,Je=(bt=P3(bt)).charAt(0)){case'"':case"'":ze=ZZ(bt.substring(1),Je);break;default:ze=eee(bt)}if(ze===null||(Ht.push(ze[0]),(bt=P3(ze[1]))!==""&&bt.charAt(0)!==","))return ov;bt=bt.replace(/^,/,"")}return Ht}(Be);if(this.fontFaces){var st=JZ(qe(this.pdf,this.fontFaces),He.map(function(Ue){return{family:Ue,stretch:"normal",weight:rt,style:yt}}));this.pdf.setFont(st.ref.name,st.ref.style)}else{var ht="";(rt==="bold"||parseInt(rt,10)>=700||yt==="bold")&&(ht="bold"),yt==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var xt="",me={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Te=0;Te<He.length;Te++){if(this.pdf.internal.getFont(He[Te],ht,{noFallback:!0,disableWarning:!0})!==void 0){xt=He[Te];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(He[Te],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=He[Te],ht="bold";else if(this.pdf.internal.getFont(He[Te],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=He[Te],ht="normal";break}}if(xt===""){for(var Ye=0;Ye<He.length;Ye++)if(me[He[Ye]]){xt=me[He[Ye]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};d.prototype.setLineDash=function(O){this.lineDash=O},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){B.call(this,"fill",!1)},d.prototype.stroke=function(){B.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(O,L){if(isNaN(O)||isNaN(L))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(O,L));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(O,L)},d.prototype.closePath=function(){var O=new o(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&en(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){O=new o(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},d.prototype.lineTo=function(O,L){if(isNaN(O)||isNaN(L))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(O,L));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},d.prototype.quadraticCurveTo=function(O,L,J,ee){if(isNaN(J)||isNaN(ee)||isNaN(O)||isNaN(L))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(J,ee)),ge=this.ctx.transform.applyToPoint(new o(O,L));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},d.prototype.bezierCurveTo=function(O,L,J,ee,re,ge){if(isNaN(re)||isNaN(ge)||isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(re,ge)),be=this.ctx.transform.applyToPoint(new o(O,L)),je=this.ctx.transform.applyToPoint(new o(J,ee));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:je.x,y2:je.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},d.prototype.arc=function(O,L,J,ee,re,ge){if(isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(O,L));O=we.x,L=we.y;var be=this.ctx.transform.applyToPoint(new o(0,J)),je=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(be.x-je.x,2)+Math.pow(be.y-je.y,2))}Math.abs(re-ee)>=2*Math.PI&&(ee=0,re=2*Math.PI),this.path.push({type:"arc",x:O,y:L,radius:J,startAngle:ee,endAngle:re,counterclockwise:ge})},d.prototype.arcTo=function(O,L,J,ee,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(O,L,J,ee){if(isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,L),this.lineTo(O+J,L),this.lineTo(O+J,L+ee),this.lineTo(O,L+ee),this.lineTo(O,L),this.lineTo(O+J,L),this.lineTo(O,L)},d.prototype.fillRect=function(O,L,J,ee){if(isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,L,J,ee),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(O,L,J,ee){if(isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(O,L,J,ee),this.stroke())},d.prototype.clearRect=function(O,L,J,ee){if(isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,L,J,ee))},d.prototype.save=function(O){O=typeof O!="boolean"||O;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},d.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(L),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(O){var L,J,ee,re;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))L=0,J=0,ee=0,re=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ge!==null)L=parseInt(ge[1]),J=parseInt(ge[2]),ee=parseInt(ge[3]),re=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)L=parseInt(ge[1]),J=parseInt(ge[2]),ee=parseInt(ge[3]),re=parseFloat(ge[4]);else{if(re=1,typeof O=="string"&&O.charAt(0)!=="#"){var we=new CL(O);O=we.ok?we.toHex():"#000000"}O.length===4?(L=O.substring(1,2),L+=L,J=O.substring(2,3),J+=J,ee=O.substring(3,4),ee+=ee):(L=O.substring(1,3),J=O.substring(3,5),ee=O.substring(5,7)),L=parseInt(L,16),J=parseInt(J,16),ee=parseInt(ee,16)}}return{r:L,g:J,b:ee,a:re,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(O,L,J,ee){if(isNaN(L)||isNaN(J)||typeof O!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var re=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;C.call(this,{text:O,x:L,y:J,scale:ge,angle:re,align:this.textAlign,maxWidth:ee})}},d.prototype.strokeText=function(O,L,J,ee){if(isNaN(L)||isNaN(J)||typeof O!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){ee=isNaN(ee)?void 0:ee;var re=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;C.call(this,{text:O,x:L,y:J,scale:ge,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ee})}},d.prototype.measureText=function(O){if(typeof O!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,J=this.pdf.internal.scaleFactor,ee=L.internal.getFontSize(),re=L.getStringUnitWidth(O)*ee/L.internal.scaleFactor,ge=function(we){var be=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this};return new ge({width:re*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(O,L){if(isNaN(O)||isNaN(L))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(O,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(O){if(isNaN(O))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.translate=function(O,L){if(isNaN(O)||isNaN(L))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,O,L);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(O,L,J,ee,re,ge){if(isNaN(O)||isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re)||isNaN(ge))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(O,L,J,ee,re,ge);this.ctx.transform=this.ctx.transform.multiply(we)},d.prototype.setTransform=function(O,L,J,ee,re,ge){O=isNaN(O)?1:O,L=isNaN(L)?0:L,J=isNaN(J)?0:J,ee=isNaN(ee)?1:ee,re=isNaN(re)?0:re,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(O,L,J,ee,re,ge)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(O,L,J,ee,re,ge,we,be,je){var De=this.pdf.getImageProperties(O),$e=1,qe=1,ot=1,Ee=1;ee!==void 0&&be!==void 0&&(ot=be/ee,Ee=je/re,$e=De.width/ee*be/ee,qe=De.height/re*je/re),ge===void 0&&(ge=L,we=J,L=0,J=0),ee!==void 0&&be===void 0&&(be=ee,je=re),ee===void 0&&be===void 0&&(be=De.width,je=De.height);for(var te,yt=this.ctx.transform.decompose(),rt=Z(yt.rotate.shx),Me=new l,Be=(Me=(Me=(Me=Me.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new a(ge-L*ot,we-J*Ee,ee*$e,re*qe)),Ke=I.call(this,Be),He=[],st=0;st<Ke.length;st+=1)He.indexOf(Ke[st])===-1&&He.push(Ke[st]);if(A(He),this.autoPaging)for(var ht=He[0],xt=He[He.length-1],me=ht;me<xt+1;me++){this.pdf.setPage(me);var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=me===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=me===1?0:Ue+(me-2)*Je;if(this.ctx.clip_path.length!==0){var Ht=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(te,this.posX+this.margin[3],-ze+Ye+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=Ht}var bt=JSON.parse(JSON.stringify(Be));bt=S([bt],this.posX+this.margin[3],-ze+Ye+this.ctx.prevPageLastElemOffset)[0];var qn=(me>ht||me<xt)&&b.call(this);qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,Je,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,rt),qn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,rt)};var I=function(O,L,J){var ee=[];L=L||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ee.push(Math.floor((O.y+re)/J)+1);break;case"arc":ee.push(Math.floor((O.y+re-O.radius)/J)+1),ee.push(Math.floor((O.y+re+O.radius)/J)+1);break;case"qct":var ge=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ee.push(Math.floor((ge.y+re)/J)+1),ee.push(Math.floor((ge.y+ge.h+re)/J)+1);break;case"bct":var we=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ee.push(Math.floor((we.y+re)/J)+1),ee.push(Math.floor((we.y+we.h+re)/J)+1);break;case"rect":ee.push(Math.floor((O.y+re)/J)+1),ee.push(Math.floor((O.y+O.h+re)/J)+1)}for(var be=0;be<ee.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<ee[be];)w.call(this);return ee},w=function(){var O=this.fillStyle,L=this.strokeStyle,J=this.font,ee=this.lineCap,re=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=L,this.font=J,this.lineCap=ee,this.lineWidth=re,this.lineJoin=ge},S=function(O,L,J){for(var ee=0;ee<O.length;ee++)switch(O[ee].type){case"bct":O[ee].x2+=L,O[ee].y2+=J;case"qct":O[ee].x1+=L,O[ee].y1+=J;case"mt":case"lt":case"arc":default:O[ee].x+=L,O[ee].y+=J}return O},A=function(O){return O.sort(function(L,J){return L-J})},B=function(O,L){for(var J,ee,re=this.fillStyle,ge=this.strokeStyle,we=this.lineCap,be=this.lineWidth,je=Math.abs(be*this.ctx.transform.scaleX),De=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),ot=[],Ee=0;Ee<qe.length;Ee++)if(qe[Ee].x!==void 0)for(var te=I.call(this,qe[Ee]),yt=0;yt<te.length;yt+=1)ot.indexOf(te[yt])===-1&&ot.push(te[yt]);for(var rt=0;rt<ot.length;rt++)for(;this.pdf.internal.getNumberOfPages()<ot[rt];)w.call(this);if(A(ot),this.autoPaging)for(var Me=ot[0],Be=ot[ot.length-1],Ke=Me;Ke<Be+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=re,this.strokeStyle=ge,this.lineCap=we,this.lineWidth=je,this.lineJoin=De;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Ke===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],me=Ke===1?0:ht+(Ke-2)*xt;if(this.ctx.clip_path.length!==0){var Te=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(J,this.posX+this.margin[3],-me+st+this.ctx.prevPageLastElemOffset),K.call(this,O,!0),this.path=Te}if(ee=JSON.parse(JSON.stringify($e)),this.path=S(ee,this.posX+this.margin[3],-me+st+this.ctx.prevPageLastElemOffset),L===!1||Ke===0){var Ye=(Ke>Me||Ke<Be)&&b.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,xt,null).clip().discardPath()),K.call(this,O,L),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=je,K.call(this,O,L),this.lineWidth=be;this.path=$e},K=function(O,L){if((O!=="stroke"||L||!_.call(this))&&(O==="stroke"||L||!p.call(this))){for(var J,ee,re=[],ge=this.path,we=0;we<ge.length;we++){var be=ge[we];switch(be.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:be,deltas:[],abs:[]});break;case"lt":var je=re.length;if(ge[we-1]&&!isNaN(ge[we-1].x)&&(J=[be.x-ge[we-1].x,be.y-ge[we-1].y],je>0)){for(;je>=0;je--)if(re[je-1].close!==!0&&re[je-1].begin!==!0){re[je-1].deltas.push(J),re[je-1].abs.push(be);break}}break;case"bct":J=[be.x1-ge[we-1].x,be.y1-ge[we-1].y,be.x2-ge[we-1].x,be.y2-ge[we-1].y,be.x-ge[we-1].x,be.y-ge[we-1].y],re[re.length-1].deltas.push(J);break;case"qct":var De=ge[we-1].x+2/3*(be.x1-ge[we-1].x),$e=ge[we-1].y+2/3*(be.y1-ge[we-1].y),qe=be.x+2/3*(be.x1-be.x),ot=be.y+2/3*(be.y1-be.y),Ee=be.x,te=be.y;J=[De-ge[we-1].x,$e-ge[we-1].y,qe-ge[we-1].x,ot-ge[we-1].y,Ee-ge[we-1].x,te-ge[we-1].y],re[re.length-1].deltas.push(J);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(be)}}ee=L?null:O==="stroke"?"stroke":"fill";for(var yt=!1,rt=0;rt<re.length;rt++)if(re[rt].arc)for(var Me=re[rt].abs,Be=0;Be<Me.length;Be++){var Ke=Me[Be];Ke.type==="arc"?N.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,L,!yt):D.call(this,Ke.x,Ke.y),yt=!0}else if(re[rt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(re[rt].begin!==!0){var He=re[rt].start.x,st=re[rt].start.y;X.call(this,re[rt].deltas,He,st),yt=!0}ee&&R.call(this,ee),L&&M.call(this)}},W=function(O){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-J;case"top":return O+L-J;case"hanging":return O+L-2*J;case"middle":return O+L/2-J;case"ideographic":return O;case"alphabetic":default:return O}},j=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(L,J){this.colorStops.push([L,J])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(O,L,J,ee,re,ge,we,be,je){for(var De=pe.call(this,J,ee,re,ge),$e=0;$e<De.length;$e++){var qe=De[$e];$e===0&&(je?T.call(this,qe.x1+O,qe.y1+L):D.call(this,qe.x1+O,qe.y1+L)),fe.call(this,O,L,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}be?M.call(this):R.call(this,we)},R=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(O,L){this.pdf.internal.out(n(O)+" "+r(L)+" m")},C=function(O){var L;switch(O.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var J=this.pdf.getTextDimensions(O.text),ee=W.call(this,O.y),re=j.call(this,ee)-J.h,ge=this.ctx.transform.applyToPoint(new o(O.x,ee)),we=this.ctx.transform.decompose(),be=new l;be=(be=(be=be.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var je,De,$e,qe=this.ctx.transform.applyToRectangle(new a(O.x,ee,J.w,J.h)),ot=be.applyToRectangle(new a(O.x,re,J.w,J.h)),Ee=I.call(this,ot),te=[],yt=0;yt<Ee.length;yt+=1)te.indexOf(Ee[yt])===-1&&te.push(Ee[yt]);if(A(te),this.autoPaging)for(var rt=te[0],Me=te[te.length-1],Be=rt;Be<Me+1;Be++){this.pdf.setPage(Be);var Ke=Be===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],ht=st-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],me=xt-this.margin[3],Te=Be===1?0:He+(Be-2)*ht;if(this.ctx.clip_path.length!==0){var Ye=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(je,this.posX+this.margin[3],-1*Te+Ke),K.call(this,"fill",!0),this.path=Ye}var Ue=S([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Te+Ke+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*O.scale),$e=this.lineWidth,this.lineWidth=$e*O.scale);var Je=this.autoPaging!=="text";if(Je||Ue.y+Ue.h<=st){if(Je||Ue.y>=Ke&&Ue.x<=xt){var ze=Je?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||xt-Ue.x)[0],Ht=S([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Te+Ke+this.ctx.prevPageLastElemOffset)[0],bt=Je&&(Be>rt||Be<Me)&&b.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,ht,null).clip().discardPath()),this.pdf.text(ze,Ht.x,Ht.y,{angle:O.angle,align:L,renderingMode:O.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else Ue.y<st&&(this.ctx.prevPageLastElemOffset+=st-Ue.y);O.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=$e)}else O.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*O.scale),$e=this.lineWidth,this.lineWidth=$e*O.scale),this.pdf.text(O.text,ge.x+this.posX,ge.y+this.posY,{angle:O.angle,align:L,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=$e)},D=function(O,L,J,ee){J=J||0,ee=ee||0,this.pdf.internal.out(n(O+J)+" "+r(L+ee)+" l")},X=function(O,L,J){return this.pdf.lines(O,L,J,null,null)},fe=function(O,L,J,ee,re,ge,we,be){this.pdf.internal.out([e(i(J+O)),e(s(ee+L)),e(i(re+O)),e(s(ge+L)),e(i(we+O)),e(s(be+L)),"c"].join(" "))},pe=function(O,L,J,ee){for(var re=2*Math.PI,ge=Math.PI/2;L>J;)L-=re;var we=Math.abs(J-L);we<re&&ee&&(we=re-we);for(var be=[],je=ee?-1:1,De=L;we>1e-5;){var $e=De+je*Math.min(we,ge);be.push(ae.call(this,O,De,$e)),we-=Math.abs($e-De),De=$e}return be},ae=function(O,L,J){var ee=(J-L)/2,re=O*Math.cos(ee),ge=O*Math.sin(ee),we=re,be=-ge,je=we*we+be*be,De=je+we*re+be*ge,$e=4/3*(Math.sqrt(2*je*De)-De)/(we*ge-be*re),qe=we-$e*be,ot=be+$e*we,Ee=qe,te=-ot,yt=ee+L,rt=Math.cos(yt),Me=Math.sin(yt);return{x1:O*Math.cos(L),y1:O*Math.sin(L),x2:qe*rt-ot*Me,y2:qe*Me+ot*rt,x3:Ee*rt-te*Me,y3:Ee*Me+te*rt,x4:O*Math.cos(J),y4:O*Math.sin(J)}},Z=function(O){return 180*O/Math.PI},le=function(O,L,J,ee,re,ge){var we=O+.5*(J-O),be=L+.5*(ee-L),je=re+.5*(J-re),De=ge+.5*(ee-ge),$e=Math.min(O,re,we,je),qe=Math.max(O,re,we,je),ot=Math.min(L,ge,be,De),Ee=Math.max(L,ge,be,De);return new a($e,ot,qe-$e,Ee-ot)},z=function(O,L,J,ee,re,ge,we,be){var je,De,$e,qe,ot,Ee,te,yt,rt,Me,Be,Ke,He,st,ht=J-O,xt=ee-L,me=re-J,Te=ge-ee,Ye=we-re,Ue=be-ge;for(De=0;De<41;De++)rt=(te=($e=O+(je=De/40)*ht)+je*((ot=J+je*me)-$e))+je*(ot+je*(re+je*Ye-ot)-te),Me=(yt=(qe=L+je*xt)+je*((Ee=ee+je*Te)-qe))+je*(Ee+je*(ge+je*Ue-Ee)-yt),De==0?(Be=rt,Ke=Me,He=rt,st=Me):(Be=Math.min(Be,rt),Ke=Math.min(Ke,Me),He=Math.max(He,rt),st=Math.max(st,Me));return new a(Math.round(Be),Math.round(Ke),Math.round(He-Be),Math.round(st-Ke))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,L,J=(O=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:L}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ft.API),function(t){var e=function(s){var o,a,l,u,c,d,m,p,_,b;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(c=((c=((c=((c=(c-(b=c%85))/85)-(_=c%85))/85)-(p=c%85))/85)-(m=c%85))/85)%85,a.push(d+33,m+33,p+33,_+33,b+33)):a.push(122);return function(I,w){for(var S=w;S>0;S--)I.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,c,d=String,m="length",p=255,_="charCodeAt",b="slice",I="replace";for(s[b](-2),s=s[b](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),l=[],u=0,c=(s+=o="uuuuu"[b](s[m]%5||5))[m];c>u;u+=5)a=52200625*(s[_](u)-33)+614125*(s[_](u+1)-33)+7225*(s[_](u+2)-33)+85*(s[_](u+3)-33)+(s[_](u+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,S){for(var A=S;A>0;A--)w.pop()}(l,o[m]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=l5(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,m=0,p=function(_){var b=_.length,I=[],w=String.fromCharCode;for(m=0;m<b;m+=1)I.push(w(255&_.charCodeAt(m)));return I.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(p(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):r5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):r5(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=en(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,c){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(l(m,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],_=p.src.find(function(b){return b.format==="truetype"});_&&l.addFont(_.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,c).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,a);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(o,a,l){if(en(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,d=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var p,_=0,b=0;if(m.hasOwnProperty(d))_=m[d][1]/c,b=m[d][0]/c;else try{_=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>_&&(p=b,b=_,_=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>b&&(p=b,b=_,_=p)}return{width:b,height:_,unit:a,k:c,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(p5):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(t){return R3=t,this.internal.events.subscribe("postPutResources",function(){Lm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+R3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lm!==void 0&&L3!==void 0&&this.internal.out("/Names <</JavaScript "+Lm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var m,p=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,b={width:0,height:0,numcomponents:1},I=4;I<_;I+=2){if(I+=p,e.indexOf(d.charCodeAt(I+1))!==-1){m=256*d.charCodeAt(I+5)+d.charCodeAt(I+6),b={width:256*d.charCodeAt(I+7)+d.charCodeAt(I+8),height:m,numcomponents:d.charCodeAt(I+9)};break}p=256*d.charCodeAt(I+2)+d.charCodeAt(I+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ft.API);var jc,Rm,D3,O3,j3,tee=function(){var t,e,n;function r(s){var o,a,l,u,c,d,m,p,_,b,I,w,S,A;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),_=(function(){var B,K;for(K=[],B=0;B<4;++B)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*c/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(S=0;0<=b?S<b:S>b;0<=b?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(I=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,I.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,I.slice(m+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(d,m,p,_){var b,I,w,S,A,B,K,W,j,N,R,M,T,C,D,X,fe,pe,ae,Z,le,z=Math.ceil((u.width-d)/p),_e=Math.ceil((u.height-m)/_),O=u.width==z&&u.height==_e;for(C=o*z,M=O?a:new Uint8Array(C*_e),B=s.length,T=0,I=0;T<_e&&l<B;){switch(s[l++]){case 0:for(S=fe=0;fe<C;S=fe+=1)M[I++]=s[l++];break;case 1:for(S=pe=0;pe<C;S=pe+=1)b=s[l++],A=S<o?0:M[I-o],M[I++]=(b+A)%256;break;case 2:for(S=ae=0;ae<C;S=ae+=1)b=s[l++],w=(S-S%o)/o,D=T&&M[(T-1)*C+w*o+S%o],M[I++]=(D+b)%256;break;case 3:for(S=Z=0;Z<C;S=Z+=1)b=s[l++],w=(S-S%o)/o,A=S<o?0:M[I-o],D=T&&M[(T-1)*C+w*o+S%o],M[I++]=(b+Math.floor((A+D)/2))%256;break;case 4:for(S=le=0;le<C;S=le+=1)b=s[l++],w=(S-S%o)/o,A=S<o?0:M[I-o],T===0?D=X=0:(D=M[(T-1)*C+w*o+S%o],X=w&&M[(T-1)*C+(w-1)*o+S%o]),K=A+D-X,W=Math.abs(K-A),N=Math.abs(K-D),R=Math.abs(K-X),j=W<=N&&W<=R?A:N<=R?D:X,M[I++]=(b+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!O){var L=((m+T*_)*u.width+d)*o,J=T*C;for(S=0;S<z;S+=1){for(var ee=0;ee<o;ee+=1)a[L++]=M[J++];L+=(p-1)*o}}T++}}return s=RZ(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,c,d,m,p;for(a=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+a.length),l=0,s=0,o=d=0,m=a.length;d<m;o=d+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(p=c[s++])!=null?p:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,c,d,m,p,_,b,I,w;if(l=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),_=(u=s.data||s).length,d=b||o,c=m=0,l===1)for(;c<_;)p=b?4*o[c/4]:m,I=d[p++],u[c++]=I,u[c++]=I,u[c++]=I,u[c++]=a?d[p++]:255,m=p;else for(;c<_;)p=b?4*o[c/4]:m,u[c++]=d[p++],u[c++]=d[p++],u[c++]=d[p++],u[c++]=a?d[p++]:255,m=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,c,d,m,p;if(this.animation){for(p=[],a=c=0,d=(m=this.animation.frames).length;c<d;a=++c)o=m[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,c,d,m=this;return a=0,d=this.animation,u=d.numFrames,l=d.frames,c=d.numPlays,(o=function(){var p,_;if(p=a++%u,_=l[p],m.renderFrame(s,p),u>1&&a/u<c)return m.animation._timeout=setTimeout(o,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,m=null,p=0,_=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];d=t[e++]|t[e++]<<8,m=t[e++],!(1&b)&&(m=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var I=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,B=t[e++],K=B>>6&1,W=1<<(7&B)+1,j=a,N=l,R=!1;B>>7&&(R=!0,j=e,N=W,e+=3*W);var M=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}c.push({x:I,y:w,width:S,height:A,has_local_palette:R,palette_offset:j,palette_size:N,data_offset:M,data_length:e-M,transparent_index:m,interlaced:!!K,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return _},this.frameInfo=function(C){if(C<0||C>=c.length)throw new Error("Frame index out of range.");return c[C]},this.decodeAndBlitFrameBGRA=function(C,D){var X=this.frameInfo(C),fe=X.width*X.height,pe=new Uint8Array(fe);M3(t,X.data_offset,pe,fe);var ae=X.palette_offset,Z=X.transparent_index;Z===null&&(Z=256);var le=X.width,z=n-le,_e=le,O=4*(X.y*n+X.x),L=4*((X.y+X.height)*n+X.x),J=O,ee=4*z;X.interlaced===!0&&(ee+=4*n*7);for(var re=8,ge=0,we=pe.length;ge<we;++ge){var be=pe[ge];if(_e===0&&(_e=le,(J+=ee)>=L&&(ee=4*z+4*n*(re-1),J=O+(le+z)*(re<<1),re>>=1)),be===Z)J+=4;else{var je=t[ae+3*be],De=t[ae+3*be+1],$e=t[ae+3*be+2];D[J++]=$e,D[J++]=De,D[J++]=je,D[J++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(C,D){var X=this.frameInfo(C),fe=X.width*X.height,pe=new Uint8Array(fe);M3(t,X.data_offset,pe,fe);var ae=X.palette_offset,Z=X.transparent_index;Z===null&&(Z=256);var le=X.width,z=n-le,_e=le,O=4*(X.y*n+X.x),L=4*((X.y+X.height)*n+X.x),J=O,ee=4*z;X.interlaced===!0&&(ee+=4*n*7);for(var re=8,ge=0,we=pe.length;ge<we;++ge){var be=pe[ge];if(_e===0&&(_e=le,(J+=ee)>=L&&(ee=4*z+4*n*(re-1),J=O+(le+z)*(re<<1),re>>=1)),be===Z)J+=4;else{var je=t[ae+3*be],De=t[ae+3*be+1],$e=t[ae+3*be+2];D[J++]=je,D[J++]=De,D[J++]=$e,D[J++]=255}--_e}}}function M3(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,m=0,p=t[e++],_=new Int32Array(4096),b=null;;){for(;c<16&&p!==0;)d|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var I=d&u;if(d>>=l,c-=l,I!==s){if(I===o)break;for(var w=I<a?I:b,S=0,A=w;A>s;)A=_[A]>>8,++S;var B=A;if(m+S+(w!==I?1:0)>r)return void an.log("Warning, gif stream longer than expected.");n[m++]=B;var K=m+=S;for(w!==I&&(n[m++]=B),A=w;S--;)A=_[A],n[--K]=255&A,A>>=8;b!==null&&a<4096&&(_[a++]=b<<8|B,a>=u+1&&l<12&&(++l,u=u<<1|1)),b=I}else a=o+1,u=(1<<(l=i+1))-1,b=null}return m!==r&&an.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function av(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),m=new Array(65535),p=new Array(64),_=new Array(64),b=[],I=0,w=7,S=new Array(64),A=new Array(64),B=new Array(64),K=new Array(256),W=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(O,L){for(var J=0,ee=0,re=new Array,ge=1;ge<=16;ge++){for(var we=1;we<=O[ge];we++)re[L[ee]]=[],re[L[ee]][0]=J,re[L[ee]][1]=ge,ee++,J++;J*=2}return re}function ae(O){for(var L=O[0],J=O[1]-1;J>=0;)L&1<<J&&(I|=1<<w),J--,--w<0&&(I==255?(Z(255),Z(0)):Z(I),w=7,I=0)}function Z(O){b.push(O)}function le(O){Z(O>>8&255),Z(255&O)}function z(O,L,J,ee,re){for(var ge,we=re[0],be=re[240],je=function(Me,Be){var Ke,He,st,ht,xt,me,Te,Ye,Ue,Je,ze=0;for(Ue=0;Ue<8;++Ue){Ke=Me[ze],He=Me[ze+1],st=Me[ze+2],ht=Me[ze+3],xt=Me[ze+4],me=Me[ze+5],Te=Me[ze+6];var Ht=Ke+(Ye=Me[ze+7]),bt=Ke-Ye,qn=He+Te,Rt=He-Te,Ct=st+me,Zn=st-me,St=ht+xt,$s=ht-xt,pn=Ht+St,fr=Ht-St,Ai=qn+Ct,ln=qn-Ct;Me[ze]=pn+Ai,Me[ze+4]=pn-Ai;var lt=.707106781*(ln+fr);Me[ze+2]=fr+lt,Me[ze+6]=fr-lt;var Bt=.382683433*((pn=$s+Zn)-(ln=Rt+bt)),Gi=.5411961*pn+Bt,$n=1.306562965*ln+Bt,Ir=.707106781*(Ai=Zn+Rt),Ti=bt+Ir,tt=bt-Ir;Me[ze+5]=tt+Gi,Me[ze+3]=tt-Gi,Me[ze+1]=Ti+$n,Me[ze+7]=Ti-$n,ze+=8}for(ze=0,Ue=0;Ue<8;++Ue){Ke=Me[ze],He=Me[ze+8],st=Me[ze+16],ht=Me[ze+24],xt=Me[ze+32],me=Me[ze+40],Te=Me[ze+48];var ai=Ke+(Ye=Me[ze+56]),Nr=Ke-Ye,Hn=He+Te,Ln=He-Te,In=st+me,Wn=st-me,va=ht+xt,ms=ht-xt,kr=ai+va,li=ai-va,Yr=Hn+In,Qr=Hn-In;Me[ze]=kr+Yr,Me[ze+32]=kr-Yr;var Rn=.707106781*(Qr+li);Me[ze+16]=li+Rn,Me[ze+48]=li-Rn;var Ii=.382683433*((kr=ms+Wn)-(Qr=Ln+Nr)),Hs=.5411961*kr+Ii,Ws=1.306562965*Qr+Ii,Gs=.707106781*(Yr=Wn+Ln),To=Nr+Gs,Io=Nr-Gs;Me[ze+40]=Io+Hs,Me[ze+24]=Io-Hs,Me[ze+8]=To+Ws,Me[ze+56]=To-Ws,ze++}for(Ue=0;Ue<64;++Ue)Je=Me[Ue]*Be[Ue],p[Ue]=Je>0?Je+.5|0:Je-.5|0;return p}(O,L),De=0;De<64;++De)_[j[De]]=je[De];var $e=_[0]-J;J=_[0],$e==0?ae(ee[0]):(ae(ee[m[ge=32767+$e]]),ae(d[ge]));for(var qe=63;qe>0&&_[qe]==0;)qe--;if(qe==0)return ae(we),J;for(var ot,Ee=1;Ee<=qe;){for(var te=Ee;_[Ee]==0&&Ee<=qe;)++Ee;var yt=Ee-te;if(yt>=16){ot=yt>>4;for(var rt=1;rt<=ot;++rt)ae(be);yt&=15}ge=32767+_[Ee],ae(re[(yt<<4)+m[ge]]),ae(d[ge]),Ee++}return qe!=63&&ae(we),J}function _e(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(L){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var re=o((J[ee]*L+50)/100);re=Math.min(Math.max(re,1),255),a[j[ee]]=re}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var be=o((ge[we]*L+50)/100);be=Math.min(Math.max(be,1),255),l[j[we]]=be}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,$e=0;$e<8;$e++)for(var qe=0;qe<8;qe++)u[De]=1/(a[j[De]]*je[$e]*je[qe]*8),c[De]=1/(l[j[De]]*je[$e]*je[qe]*8),De++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,L){L&&_e(L),b=new Array,I=0,w=7,le(65496),le(65504),le(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),le(1),le(1),Z(0),Z(0),function(){le(65499),le(132),Z(0);for(var He=0;He<64;He++)Z(a[He]);Z(1);for(var st=0;st<64;st++)Z(l[st])}(),function(He,st){le(65472),le(17),Z(8),le(st),le(He),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(O.width,O.height),function(){le(65476),le(418),Z(0);for(var He=0;He<16;He++)Z(N[He+1]);for(var st=0;st<=11;st++)Z(R[st]);Z(16);for(var ht=0;ht<16;ht++)Z(M[ht+1]);for(var xt=0;xt<=161;xt++)Z(T[xt]);Z(1);for(var me=0;me<16;me++)Z(C[me+1]);for(var Te=0;Te<=11;Te++)Z(D[Te]);Z(17);for(var Ye=0;Ye<16;Ye++)Z(X[Ye+1]);for(var Ue=0;Ue<=161;Ue++)Z(fe[Ue])}(),le(65498),le(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var J=0,ee=0,re=0;I=0,w=7,this.encode.displayName="_encode_";for(var ge,we,be,je,De,$e,qe,ot,Ee,te=O.data,yt=O.width,rt=O.height,Me=4*yt,Be=0;Be<rt;){for(ge=0;ge<Me;){for(De=Me*Be+ge,qe=-1,ot=0,Ee=0;Ee<64;Ee++)$e=De+(ot=Ee>>3)*Me+(qe=4*(7&Ee)),Be+ot>=rt&&($e-=Me*(Be+1+ot-rt)),ge+qe>=Me&&($e-=ge+qe-Me+4),we=te[$e++],be=te[$e++],je=te[$e++],S[Ee]=(W[we]+W[be+256>>0]+W[je+512>>0]>>16)-128,A[Ee]=(W[we+768>>0]+W[be+1024>>0]+W[je+1280>>0]>>16)-128,B[Ee]=(W[we+1280>>0]+W[be+1536>>0]+W[je+1792>>0]>>16)-128;J=z(S,u,J,e,r),ee=z(A,c,ee,n,i),re=z(B,c,re,n,i),ge+=32}Be+=8}if(w>=0){var Ke=[];Ke[1]=w+1,Ke[0]=(1<<w+1)-1,ae(Ke)}return le(65497),new Uint8Array(b)},t=t||50,function(){for(var O=String.fromCharCode,L=0;L<256;L++)K[L]=O(L)}(),e=pe(N,R),n=pe(C,D),r=pe(M,T),i=pe(X,fe),function(){for(var O=1,L=2,J=1;J<=15;J++){for(var ee=O;ee<L;ee++)m[32767+ee]=J,d[32767+ee]=[],d[32767+ee][1]=J,d[32767+ee][0]=ee;for(var re=-(L-1);re<=-O;re++)m[32767+re]=J,d[32767+re]=[],d[32767+re][1]=J,d[32767+re][0]=L-1+re;O<<=1,L<<=1}}(),function(){for(var O=0;O<256;O++)W[O]=19595*O,W[O+256>>0]=38470*O,W[O+512>>0]=7471*O+32768,W[O+768>>0]=-11059*O,W[O+1024>>0]=-21709*O,W[O+1280>>0]=32768*O+8421375,W[O+1536>>0]=-27439*O,W[O+1792>>0]=-5329*O}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ns(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function F3(t){function e(N){if(!N)throw Error("assert :P")}function n(N,R,M){for(var T=0;4>T;T++)if(N[R+T]!=M.charCodeAt(T))return!0;return!1}function r(N,R,M,T,C){for(var D=0;D<C;D++)N[R+D]=M[T+D]}function i(N,R,M,T){for(var C=0;C<T;C++)N[R+C]=M}function s(N){return new Int32Array(N)}function o(N,R){for(var M=[],T=0;T<N;T++)M.push(new R);return M}function a(N,R){var M=[];return function T(C,D,X){for(var fe=X[D],pe=0;pe<fe&&(C.push(X.length>D+1?[]:new R),!(X.length<D+1));pe++)T(C[pe],D+1,X)}(M,0,N),M}var l=function(){var N=this;function R(h,g){for(var x=1<<g-1>>>0;h&x;)x>>>=1;return x?(h&x-1)+x:h}function M(h,g,x,k,V){e(!(k%x));do h[g+(k-=x)]=V;while(0<k)}function T(h,g,x,k,V){if(e(2328>=V),512>=V)var U=s(512);else if((U=s(V))==null)return 0;return function(q,H,G,Y,se,ye){var ve,de,ke=H,Se=1<<G,oe=s(16),ue=s(16);for(e(se!=0),e(Y!=null),e(q!=null),e(0<G),de=0;de<se;++de){if(15<Y[de])return 0;++oe[Y[de]]}if(oe[0]==se)return 0;for(ue[1]=0,ve=1;15>ve;++ve){if(oe[ve]>1<<ve)return 0;ue[ve+1]=ue[ve]+oe[ve]}for(de=0;de<se;++de)ve=Y[de],0<Y[de]&&(ye[ue[ve]++]=de);if(ue[15]==1)return(Y=new C).g=0,Y.value=ye[0],M(q,ke,1,Se,Y),Se;var Ie,Le=-1,Ne=Se-1,Xe=0,We=1,ut=1,Qe=1<<G;for(de=0,ve=1,se=2;ve<=G;++ve,se<<=1){if(We+=ut<<=1,0>(ut-=oe[ve]))return 0;for(;0<oe[ve];--oe[ve])(Y=new C).g=ve,Y.value=ye[de++],M(q,ke+Xe,se,Qe,Y),Xe=R(Xe,ve)}for(ve=G+1,se=2;15>=ve;++ve,se<<=1){if(We+=ut<<=1,0>(ut-=oe[ve]))return 0;for(;0<oe[ve];--oe[ve]){if(Y=new C,(Xe&Ne)!=Le){for(ke+=Qe,Ie=1<<(Le=ve)-G;15>Le&&!(0>=(Ie-=oe[Le]));)++Le,Ie<<=1;Se+=Qe=1<<(Ie=Le-G),q[H+(Le=Xe&Ne)].g=Ie+G,q[H+Le].value=ke-H-Le}Y.g=ve-G,Y.value=ye[de++],M(q,ke+(Xe>>G),se,Qe,Y),Xe=R(Xe,ve)}}return We!=2*ue[15]-1?0:Se}(h,g,x,k,V,U)}function C(){this.value=this.g=0}function D(){this.value=this.g=0}function X(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(gr,D)}function fe(h,g,x,k){e(h!=null),e(g!=null),e(2147483648>k),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=x,h.Jd=g,h.Yc=x+k,h.Zc=4<=k?x+k-4+1:x,ge(h)}function pe(h,g){for(var x=0;0<g--;)x|=be(h,128)<<g;return x}function ae(h,g){var x=pe(h,g);return we(h)?-x:x}function Z(h,g,x,k){var V,U=0;for(e(h!=null),e(g!=null),e(4294967288>k),h.Sb=k,h.Ra=0,h.u=0,h.h=0,4<k&&(k=4),V=0;V<k;++V)U+=g[x+V]<<8*V;h.Ra=U,h.bb=k,h.oa=g,h.pa=x}function le(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<bc-8>>>0,++h.bb,h.u-=8;J(h)&&(h.h=1,h.u=0)}function z(h,g){if(e(0<=g),!h.h&&g<=xc){var x=L(h)&wc[g];return h.u+=g,le(h),x}return h.h=1,h.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(h){return h.Ra>>>(h.u&bc-1)>>>0}function J(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>bc}function ee(h,g){h.u=g,h.h=J(h)}function re(h){h.u>=pd&&(e(h.u>=pd),le(h))}function ge(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function we(h){return pe(h,1)}function be(h,g){var x=h.Ca;0>h.b&&ge(h);var k=h.b,V=x*g>>>8,U=(h.I>>>k>V)+0;for(U?(x-=V,h.I-=V+1<<k>>>0):x=V+1,k=x,V=0;256<=k;)V+=8,k>>=8;return k=7^V+ci[k],h.b-=k,h.Ca=(x<<k)-1,U}function je(h,g,x){h[g+0]=x>>24&255,h[g+1]=x>>16&255,h[g+2]=x>>8&255,h[g+3]=x>>0&255}function De(h,g){return h[g+0]<<0|h[g+1]<<8}function $e(h,g){return De(h,g)|h[g+2]<<16}function qe(h,g){return De(h,g)|De(h,g+2)<<16}function ot(h,g){var x=1<<g;return e(h!=null),e(0<g),h.X=s(x),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function Ee(h,g){e(h!=null),e(g!=null),e(h.Xa==g.Xa),r(g.X,0,h.X,0,1<<g.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function yt(h,g,x,k){e(x!=null),e(k!=null);var V=x[0],U=k[0];return V==0&&(V=(h*U+g/2)/g),U==0&&(U=(g*V+h/2)/h),0>=V||0>=U?0:(x[0]=V,k[0]=U,1)}function rt(h,g){return h+(1<<g)-1>>>g}function Me(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Be(h,g){N[g]=function(x,k,V,U,q,H,G){var Y;for(Y=0;Y<q;++Y){var se=N[h](H[G+Y-1],V,U+Y);H[G+Y]=Me(x[k+Y],se)}}}function Ke(){this.ud=this.hd=this.jd=0}function He(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function st(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function ht(h,g){return st(h+(h-g+.5>>1))}function xt(h,g,x){return Math.abs(g-x)-Math.abs(h-x)}function me(h,g,x,k,V,U,q){for(k=U[q-1],x=0;x<V;++x)U[q+x]=k=Me(h[g+x],k)}function Te(h,g,x,k,V){var U;for(U=0;U<x;++U){var q=h[g+U],H=q>>8&255,G=16711935&(G=(G=16711935&q)+((H<<16)+H));k[V+U]=(4278255360&q)+G>>>0}}function Ye(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function Ue(h,g,x,k,V,U){var q;for(q=0;q<k;++q){var H=g[x+q],G=H>>>8,Y=H,se=255&(se=(se=H>>>16)+((h.jd<<24>>24)*(G<<24>>24)>>>5));Y=255&(Y=(Y=Y+((h.hd<<24>>24)*(G<<24>>24)>>>5))+((h.ud<<24>>24)*(se<<24>>24)>>>5)),V[U+q]=(4278255360&H)+(se<<16)+Y}}function Je(h,g,x,k,V){N[g]=function(U,q,H,G,Y,se,ye,ve,de){for(G=ye;G<ve;++G)for(ye=0;ye<de;++ye)Y[se++]=V(H[k(U[q++])])},N[h]=function(U,q,H,G,Y,se,ye){var ve=8>>U.b,de=U.Ea,ke=U.K[0],Se=U.w;if(8>ve)for(U=(1<<U.b)-1,Se=(1<<ve)-1;q<H;++q){var oe,ue=0;for(oe=0;oe<de;++oe)oe&U||(ue=k(G[Y++])),se[ye++]=V(ke[ue&Se]),ue>>=ve}else N["VP8LMapColor"+x](G,Y,ke,Se,se,ye,q,H,de)}}function ze(h,g,x,k,V){for(x=g+x;g<x;){var U=h[g++];k[V++]=U>>16&255,k[V++]=U>>8&255,k[V++]=U>>0&255}}function Ht(h,g,x,k,V){for(x=g+x;g<x;){var U=h[g++];k[V++]=U>>16&255,k[V++]=U>>8&255,k[V++]=U>>0&255,k[V++]=U>>24&255}}function bt(h,g,x,k,V){for(x=g+x;g<x;){var U=(q=h[g++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;k[V++]=U,k[V++]=q}}function qn(h,g,x,k,V){for(x=g+x;g<x;){var U=(q=h[g++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;k[V++]=U,k[V++]=q}}function Rt(h,g,x,k,V){for(x=g+x;g<x;){var U=h[g++];k[V++]=U>>0&255,k[V++]=U>>8&255,k[V++]=U>>16&255}}function Ct(h,g,x,k,V,U){if(U==0)for(x=g+x;g<x;)je(k,((U=h[g++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),V+=32;else r(k,V,h,g,x)}function Zn(h,g){N[g][0]=N[h+"0"],N[g][1]=N[h+"1"],N[g][2]=N[h+"2"],N[g][3]=N[h+"3"],N[g][4]=N[h+"4"],N[g][5]=N[h+"5"],N[g][6]=N[h+"6"],N[g][7]=N[h+"7"],N[g][8]=N[h+"8"],N[g][9]=N[h+"9"],N[g][10]=N[h+"10"],N[g][11]=N[h+"11"],N[g][12]=N[h+"12"],N[g][13]=N[h+"13"],N[g][14]=N[h+"0"],N[g][15]=N[h+"0"]}function St(h){return h==I1||h==N1||h==Bp||h==k1}function $s(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $s,this.f.kb=new pn,this.sd=null}function Ai(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Bt(h,g){var x=h.T,k=g.ba.f.RGBA,V=k.eb,U=k.fb+h.ka*k.A,q=es[g.ba.S],H=h.y,G=h.O,Y=h.f,se=h.N,ye=h.ea,ve=h.W,de=g.cc,ke=g.dc,Se=g.Mc,oe=g.Nc,ue=h.ka,Ie=h.ka+h.T,Le=h.U,Ne=Le+1>>1;for(ue==0?q(H,G,null,null,Y,se,ye,ve,Y,se,ye,ve,V,U,null,null,Le):(q(g.ec,g.fc,H,G,de,ke,Se,oe,Y,se,ye,ve,V,U-k.A,V,U,Le),++x);ue+2<Ie;ue+=2)de=Y,ke=se,Se=ye,oe=ve,se+=h.Rc,ve+=h.Rc,U+=2*k.A,q(H,(G+=2*h.fa)-h.fa,H,G,de,ke,Se,oe,Y,se,ye,ve,V,U-k.A,V,U,Le);return G+=h.fa,h.j+Ie<h.o?(r(g.ec,g.fc,H,G,Le),r(g.cc,g.dc,Y,se,Ne),r(g.Mc,g.Nc,ye,ve,Ne),x--):1&Ie||q(H,G,null,null,Y,se,ye,ve,Y,se,ye,ve,V,U+k.A,null,null,Le),x}function Gi(h,g,x){var k=h.F,V=[h.J];if(k!=null){var U=h.U,q=g.ba.S,H=q==Vp||q==Bp;g=g.ba.f.RGBA;var G=[0],Y=h.ka;G[0]=h.T,h.Kb&&(Y==0?--G[0]:(--Y,V[0]-=h.width),h.j+h.ka+h.T==h.o&&(G[0]=h.o-h.j-Y));var se=g.eb;Y=g.fb+Y*g.A,h=cn(k,V[0],h.width,U,G,se,Y+(H?0:3),g.A),e(x==G),h&&St(q)&&Ji(se,Y,H,U,G,g.A)}return 0}function $n(h){var g=h.ma,x=g.ba.S,k=11>x,V=x==Mp||x==Fp||x==Vp||x==T1||x==12||St(x);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!dd(g.Oa,h,V?11:12))return 0;if(V&&St(x)&&Re(),h.da)alert("todo:use_scaling");else{if(k){if(g.Ib=lt,h.Kb){if(x=h.U+1>>1,g.memory=s(h.U+2*x),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+x,g.Ib=Bt,Re()}}else alert("todo:EmitYUV");V&&(g.Jb=Gi,k&&he())}if(k&&!Ib){for(h=0;256>h;++h)oR[h]=89858*(h-128)+zp>>Up,uR[h]=-22014*(h-128)+zp,lR[h]=-45773*(h-128),aR[h]=113618*(h-128)+zp>>Up;for(h=bd;h<L1;++h)g=76283*(h-16)+zp>>Up,cR[h-bd]=Gt(g,255),hR[h-bd]=Gt(g+8>>4,15);Ib=1}return 1}function Ir(h){var g=h.ma,x=h.U,k=h.T;return e(!(1&h.ka)),0>=x||0>=k?0:(x=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,x),g.Dc+=x,1)}function Ti(h){h.ma.memory=null}function tt(h,g,x,k){return z(h,8)!=47?0:(g[0]=z(h,14)+1,x[0]=z(h,14)+1,k[0]=z(h,1),z(h,3)!=0?0:!h.h)}function ai(h,g){if(4>h)return h+1;var x=h-2>>1;return(2+(1&h)<<x)+z(g,x)+1}function Nr(h,g){return 120<g?g-120:1<=(x=((x=WL[g-1])>>4)*h+(8-(15&x)))?x:1;var x}function Hn(h,g,x){var k=L(x),V=h[g+=255&k].g-8;return 0<V&&(ee(x,x.u+8),k=L(x),g+=h[g].value,g+=k&(1<<V)-1),ee(x,x.u+h[g].g),h[g].value}function Ln(h,g,x){return x.g+=h.g,x.value+=h.value<<g>>>0,e(8>=x.g),h.g}function In(h,g,x){var k=h.xc;return e((g=k==0?0:h.vc[h.md*(x>>k)+(g>>k)])<h.Wb),h.Ya[g]}function Wn(h,g,x,k){var V=h.ab,U=h.c*g,q=h.C;g=q+g;var H=x,G=k;for(k=h.Ta,x=h.Ua;0<V--;){var Y=h.gc[V],se=q,ye=g,ve=H,de=G,ke=(G=k,H=x,Y.Ea);switch(e(se<ye),e(ye<=Y.nc),Y.hc){case 2:Cp(ve,de,(ye-se)*ke,G,H);break;case 0:var Se=se,oe=ye,ue=G,Ie=H,Le=(Qe=Y).Ea;Se==0&&(E1(ve,de,null,null,1,ue,Ie),me(ve,de+1,0,0,Le-1,ue,Ie+1),de+=Le,Ie+=Le,++Se);for(var Ne=1<<Qe.b,Xe=Ne-1,We=rt(Le,Qe.b),ut=Qe.K,Qe=Qe.w+(Se>>Qe.b)*We;Se<oe;){var qt=ut,Qt=Qe,Ut=1;for(md(ve,de,ue,Ie-Le,1,ue,Ie);Ut<Le;){var jt=(Ut&~Xe)+Ne;jt>Le&&(jt=Le),(0,ja[qt[Qt++]>>8&15])(ve,de+ +Ut,ue,Ie+Ut-Le,jt-Ut,ue,Ie+Ut),Ut=jt}de+=Le,Ie+=Le,++Se&Xe||(Qe+=We)}ye!=Y.nc&&r(G,H-ke,G,H+(ye-se-1)*ke,ke);break;case 1:for(ke=ve,oe=de,Le=(ve=Y.Ea)-(Ie=ve&~(ue=(de=1<<Y.b)-1)),Se=rt(ve,Y.b),Ne=Y.K,Y=Y.w+(se>>Y.b)*Se;se<ye;){for(Xe=Ne,We=Y,ut=new Ke,Qe=oe+Ie,qt=oe+ve;oe<Qe;)Ye(Xe[We++],ut),pu(ut,ke,oe,de,G,H),oe+=de,H+=de;oe<qt&&(Ye(Xe[We++],ut),pu(ut,ke,oe,Le,G,H),oe+=Le,H+=Le),++se&ue||(Y+=Se)}break;case 3:if(ve==G&&de==H&&0<Y.b){for(oe=G,ve=ke=H+(ye-se)*ke-(Ie=(ye-se)*rt(Y.Ea,Y.b)),de=G,ue=H,Se=[],Ie=(Le=Ie)-1;0<=Ie;--Ie)Se[Ie]=de[ue+Ie];for(Ie=Le-1;0<=Ie;--Ie)oe[ve+Ie]=Se[Ie];Yi(Y,se,ye,G,ke,G,H)}else Yi(Y,se,ye,ve,de,G,H)}H=k,G=x}G!=x&&r(k,x,H,G,U)}function va(h,g){var x=h.V,k=h.Ba+h.c*h.C,V=g-h.C;if(e(g<=h.l.o),e(16>=V),0<V){var U=h.l,q=h.Ta,H=h.Ua,G=U.width;if(Wn(h,V,x,k),V=H=[H],e((x=h.C)<(k=g)),e(U.v<U.va),k>U.o&&(k=U.o),x<U.j){var Y=U.j-x;x=U.j,V[0]+=Y*G}if(x>=k?x=0:(V[0]+=4*U.v,U.ka=x-U.j,U.U=U.va-U.v,U.T=k-x,x=1),x){if(H=H[0],11>(x=h.ca).S){var se=x.f.RGBA,ye=(k=x.S,V=U.U,U=U.T,Y=se.eb,se.A),ve=U;for(se=se.fb+h.Ma*se.A;0<ve--;){var de=q,ke=H,Se=V,oe=Y,ue=se;switch(k){case jp:hi(de,ke,Se,oe,ue);break;case Mp:Jr(de,ke,Se,oe,ue);break;case I1:Jr(de,ke,Se,oe,ue),Ji(oe,ue,0,Se,1,0);break;case yb:Fo(de,ke,Se,oe,ue);break;case Fp:Ct(de,ke,Se,oe,ue,1);break;case N1:Ct(de,ke,Se,oe,ue,1),Ji(oe,ue,0,Se,1,0);break;case Vp:Ct(de,ke,Se,oe,ue,0);break;case Bp:Ct(de,ke,Se,oe,ue,0),Ji(oe,ue,1,Se,1,0);break;case T1:Ma(de,ke,Se,oe,ue);break;case k1:Ma(de,ke,Se,oe,ue),un(oe,ue,Se,1,0);break;case vb:Mo(de,ke,Se,oe,ue);break;default:e(0)}H+=G,se+=ye}h.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=x.height)}}h.C=g,e(h.C<=h.i)}function ms(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var x=h.Ya[g].G,k=h.Ya[g].H;if(0<x[1][k[1]+0].g||0<x[2][k[2]+0].g||0<x[3][k[3]+0].g)return 0}return 1}function kr(h,g,x,k,V,U){if(h.Z!=0){var q=h.qd,H=h.rd;for(e(Ua[h.Z]!=null);g<x;++g)Ua[h.Z](q,H,k,V,k,V,U),q=k,H=V,V+=U;h.qd=q,h.rd=H}}function li(h,g){var x=h.l.ma,k=x.Z==0||x.Z==1?h.l.j:h.C;if(k=h.C<k?k:h.C,e(g<=h.l.o),g>k){var V=h.l.width,U=x.ca,q=x.tb+V*k,H=h.V,G=h.Ba+h.c*k,Y=h.gc;e(h.ab==1),e(Y[0].hc==3),Pp(Y[0],k,g,H,G,U,q),kr(x,k,g,U,q,V)}h.C=h.Ma=g}function Yr(h,g,x,k,V,U,q){var H=h.$/k,G=h.$%k,Y=h.m,se=h.s,ye=x+h.$,ve=ye;V=x+k*V;var de=x+k*U,ke=280+se.ua,Se=h.Pb?H:16777216,oe=0<se.ua?se.Wa:null,ue=se.wc,Ie=ye<de?In(se,G,H):null;e(h.C<U),e(de<=V);var Le=!1;e:for(;;){for(;Le||ye<de;){var Ne=0;if(H>=Se){var Xe=ye-x;e((Se=h).Pb),Se.wd=Se.m,Se.xd=Xe,0<Se.s.ua&&Ee(Se.s.Wa,Se.s.vb),Se=H+KL}if(G&ue||(Ie=In(se,G,H)),e(Ie!=null),Ie.Qb&&(g[ye]=Ie.qb,Le=!0),!Le)if(re(Y),Ie.jc){Ne=Y,Xe=g;var We=ye,ut=Ie.pd[L(Ne)&gr-1];e(Ie.jc),256>ut.g?(ee(Ne,Ne.u+ut.g),Xe[We]=ut.value,Ne=0):(ee(Ne,Ne.u+ut.g-256),e(256<=ut.value),Ne=ut.value),Ne==0&&(Le=!0)}else Ne=Hn(Ie.G[0],Ie.H[0],Y);if(Y.h)break;if(Le||256>Ne){if(!Le)if(Ie.nd)g[ye]=(Ie.qb|Ne<<8)>>>0;else{if(re(Y),Le=Hn(Ie.G[1],Ie.H[1],Y),re(Y),Xe=Hn(Ie.G[2],Ie.H[2],Y),We=Hn(Ie.G[3],Ie.H[3],Y),Y.h)break;g[ye]=(We<<24|Le<<16|Ne<<8|Xe)>>>0}if(Le=!1,++ye,++G>=k&&(G=0,++H,q!=null&&H<=U&&!(H%16)&&q(h,H),oe!=null))for(;ve<ye;)Ne=g[ve++],oe.X[(506832829*Ne&4294967295)>>>oe.Mb]=Ne}else if(280>Ne){if(Ne=ai(Ne-256,Y),Xe=Hn(Ie.G[4],Ie.H[4],Y),re(Y),Xe=Nr(k,Xe=ai(Xe,Y)),Y.h)break;if(ye-x<Xe||V-ye<Ne)break e;for(We=0;We<Ne;++We)g[ye+We]=g[ye+We-Xe];for(ye+=Ne,G+=Ne;G>=k;)G-=k,++H,q!=null&&H<=U&&!(H%16)&&q(h,H);if(e(ye<=V),G&ue&&(Ie=In(se,G,H)),oe!=null)for(;ve<ye;)Ne=g[ve++],oe.X[(506832829*Ne&4294967295)>>>oe.Mb]=Ne}else{if(!(Ne<ke))break e;for(Le=Ne-280,e(oe!=null);ve<ye;)Ne=g[ve++],oe.X[(506832829*Ne&4294967295)>>>oe.Mb]=Ne;Ne=ye,e(!(Le>>>(Xe=oe).Xa)),g[Ne]=Xe.X[Le],Le=!0}Le||e(Y.h==J(Y))}if(h.Pb&&Y.h&&ye<V)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ee(h.s.vb,h.s.Wa);else{if(Y.h)break e;q!=null&&q(h,H>U?U:H),h.a=0,h.$=ye-x}return 1}return h.a=3,0}function Qr(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,e(h!=null)}function Rn(){var h=new yc;return h==null?null:(h.a=0,h.xb=bb,Zn("Predictor","VP8LPredictors"),Zn("Predictor","VP8LPredictors_C"),Zn("PredictorAdd","VP8LPredictorsAdd"),Zn("PredictorAdd","VP8LPredictorsAdd_C"),Cp=Te,pu=Ue,hi=ze,Jr=Ht,Ma=bt,Mo=qn,Fo=Rt,N.VP8LMapColor32b=_c,N.VP8LMapColor8b=Lp,h)}function Ii(h,g,x,k,V){var U=1,q=[h],H=[g],G=k.m,Y=k.s,se=null,ye=0;e:for(;;){if(x)for(;U&&z(G,1);){var ve=q,de=H,ke=k,Se=1,oe=ke.m,ue=ke.gc[ke.ab],Ie=z(oe,2);if(ke.Oc&1<<Ie)U=0;else{switch(ke.Oc|=1<<Ie,ue.hc=Ie,ue.Ea=ve[0],ue.nc=de[0],ue.K=[null],++ke.ab,e(4>=ke.ab),Ie){case 0:case 1:ue.b=z(oe,3)+2,Se=Ii(rt(ue.Ea,ue.b),rt(ue.nc,ue.b),0,ke,ue.K),ue.K=ue.K[0];break;case 3:var Le,Ne=z(oe,8)+1,Xe=16<Ne?0:4<Ne?1:2<Ne?2:3;if(ve[0]=rt(ue.Ea,Xe),ue.b=Xe,Le=Se=Ii(Ne,1,0,ke,ue.K)){var We,ut=Ne,Qe=ue,qt=1<<(8>>Qe.b),Qt=s(qt);if(Qt==null)Le=0;else{var Ut=Qe.K[0],jt=Qe.w;for(Qt[0]=Qe.K[0][0],We=1;We<1*ut;++We)Qt[We]=Me(Ut[jt+We],Qt[We-1]);for(;We<4*qt;++We)Qt[We]=0;Qe.K[0]=null,Qe.K[0]=Qt,Le=1}}Se=Le;break;case 2:break;default:e(0)}U=Se}}if(q=q[0],H=H[0],U&&z(G,1)&&!(U=1<=(ye=z(G,4))&&11>=ye)){k.a=3;break e}var on;if(on=U)t:{var nn,Nt,Gn,di=k,Kn=q,fi=H,Xt=ye,Li=x,Ri=di.m,ar=di.s,yr=[null],ei=1,ts=0,ro=GL[Xt];n:for(;;){if(Li&&z(Ri,1)){var lr=z(Ri,3)+2,zo=rt(Kn,lr),wu=rt(fi,lr),Ic=zo*wu;if(!Ii(zo,wu,0,di,yr))break n;for(yr=yr[0],ar.xc=lr,nn=0;nn<Ic;++nn){var za=yr[nn]>>8&65535;yr[nn]=za,za>=ei&&(ei=za+1)}}if(Ri.h)break n;for(Nt=0;5>Nt;++Nt){var kn=wb[Nt];!Nt&&0<Xt&&(kn+=1<<Xt),ts<kn&&(ts=kn)}var R1=o(ei*ro,C),Cb=ei,Pb=o(Cb,X);if(Pb==null)var $p=null;else e(65536>=Cb),$p=Pb;var _d=s(ts);if($p==null||_d==null||R1==null){di.a=1;break n}var Hp=R1;for(nn=Gn=0;nn<ei;++nn){var As=$p[nn],Nc=As.G,kc=As.H,Lb=0,Wp=1,Rb=0;for(Nt=0;5>Nt;++Nt){kn=wb[Nt],Nc[Nt]=Hp,kc[Nt]=Gn,!Nt&&0<Xt&&(kn+=1<<Xt);i:{var Gp,D1=kn,Kp=di,Sd=_d,pR=Hp,mR=Gn,O1=0,qa=Kp.m,gR=z(qa,1);if(i(Sd,0,0,D1),gR){var yR=z(qa,1)+1,vR=z(qa,1),Db=z(qa,vR==0?1:8);Sd[Db]=1,yR==2&&(Sd[Db=z(qa,8)]=1);var Yp=1}else{var Ob=s(19),jb=z(qa,4)+4;if(19<jb){Kp.a=3;var Qp=0;break i}for(Gp=0;Gp<jb;++Gp)Ob[HL[Gp]]=z(qa,3);var j1=void 0,Ed=void 0,Mb=Kp,wR=Ob,Xp=D1,Fb=Sd,M1=0,$a=Mb.m,Vb=8,Bb=o(128,C);r:for(;T(Bb,0,7,wR,19);){if(z($a,1)){var xR=2+2*z($a,3);if((j1=2+z($a,xR))>Xp)break r}else j1=Xp;for(Ed=0;Ed<Xp&&j1--;){re($a);var Ub=Bb[0+(127&L($a))];ee($a,$a.u+Ub.g);var Cc=Ub.value;if(16>Cc)Fb[Ed++]=Cc,Cc!=0&&(Vb=Cc);else{var bR=Cc==16,zb=Cc-16,_R=qL[zb],qb=z($a,zL[zb])+_R;if(Ed+qb>Xp)break r;for(var SR=bR?Vb:0;0<qb--;)Fb[Ed++]=SR}}M1=1;break r}M1||(Mb.a=3),Yp=M1}(Yp=Yp&&!qa.h)&&(O1=T(pR,mR,8,Sd,D1)),Yp&&O1!=0?Qp=O1:(Kp.a=3,Qp=0)}if(Qp==0)break n;if(Wp&&$L[Nt]==1&&(Wp=Hp[Gn].g==0),Lb+=Hp[Gn].g,Gn+=Qp,3>=Nt){var Ad,F1=_d[0];for(Ad=1;Ad<kn;++Ad)_d[Ad]>F1&&(F1=_d[Ad]);Rb+=F1}}if(As.nd=Wp,As.Qb=0,Wp&&(As.qb=(Nc[3][kc[3]+0].value<<24|Nc[1][kc[1]+0].value<<16|Nc[2][kc[2]+0].value)>>>0,Lb==0&&256>Nc[0][kc[0]+0].value&&(As.Qb=1,As.qb+=Nc[0][kc[0]+0].value<<8)),As.jc=!As.Qb&&6>Rb,As.jc){var Jp,qo=As;for(Jp=0;Jp<gr;++Jp){var Ha=Jp,Wa=qo.pd[Ha],Zp=qo.G[0][qo.H[0]+Ha];256<=Zp.value?(Wa.g=Zp.g+256,Wa.value=Zp.value):(Wa.g=0,Wa.value=0,Ha>>=Ln(Zp,8,Wa),Ha>>=Ln(qo.G[1][qo.H[1]+Ha],16,Wa),Ha>>=Ln(qo.G[2][qo.H[2]+Ha],0,Wa),Ln(qo.G[3][qo.H[3]+Ha],24,Wa))}}}ar.vc=yr,ar.Wb=ei,ar.Ya=$p,ar.yc=R1,on=1;break t}on=0}if(!(U=on)){k.a=3;break e}if(0<ye){if(Y.ua=1<<ye,!ot(Y.Wa,ye)){k.a=1,U=0;break e}}else Y.ua=0;var V1=k,$b=q,ER=H,B1=V1.s,U1=B1.xc;if(V1.c=$b,V1.i=ER,B1.md=rt($b,U1),B1.wc=U1==0?-1:(1<<U1)-1,x){k.xb=tR;break e}if((se=s(q*H))==null){k.a=1,U=0;break e}U=(U=Yr(k,se,0,q,H,H,null))&&!G.h;break e}return U?(V!=null?V[0]=se:(e(se==null),e(x)),k.$=0,x||Qr(Y)):Qr(Y),U}function Hs(h,g){var x=h.c*h.i,k=x+g+16*g;return e(h.c<=g),h.V=s(k),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+x+g,1)}function Ws(h,g){var x=h.C,k=g-x,V=h.V,U=h.Ba+h.c*x;for(e(g<=h.l.o);0<k;){var q=16<k?16:k,H=h.l.ma,G=h.l.width,Y=G*q,se=H.ca,ye=H.tb+G*x,ve=h.Ta,de=h.Ua;Wn(h,q,V,U),On(ve,de,se,ye,Y),kr(H,x,x+q,se,ye,G),k-=q,V+=q*h.c,x+=q}e(x==g),h.C=h.Ma=g}function Gs(){this.ub=this.yd=this.td=this.Rb=0}function To(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Io(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ac(){this.Yb=function(){var h=[];return function g(x,k,V){for(var U=V[k],q=0;q<U&&(x.push(V.length>k+1?[]:0),!(V.length<k+1));q++)g(x[q],k+1,V)}(h,0,[3,11]),h}()}function wa(){this.jb=s(3),this.Wc=a([4,8],ac),this.Xc=a([4,17],ac)}function lc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ks(){this.ld=this.La=this.dd=this.tc=0}function Ys(){this.Na=this.la=0}function gs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function No(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ld(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ks),this.Y=0,this.ya=Array(new No),this.aa=0,this.l=new ko}function eu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function uc(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new Gs,this.Kc=new To,this.ed=new lc,this.Qa=new Io,this.Ic=this.$c=this.Aa=0,this.D=new ld,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,_e),this.ia=0,this.pb=o(4,gs),this.Pa=new wa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new eu),this.Hd=0,this.rb=Array(new Ys),this.sb=0,this.wa=Array(new Ks),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new No),this.L=this.aa=0,this.gd=a([4,2],Ks),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ko(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tu(){var h=new uc;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,xd||(xd=cc)),h}function mn(h,g,x){return h.a==0&&(h.a=g,h.sc=x,h.cb=0),0}function nu(h,g,x){return 3<=x&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function ru(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return mn(h,2,"null VP8Io passed to VP8GetHeaders()");var x=g.data,k=g.w,V=g.ha;if(4>V)return mn(h,7,"Truncated header.");var U=x[k+0]|x[k+1]<<8|x[k+2]<<16,q=h.Od;if(q.Rb=!(1&U),q.td=U>>1&7,q.yd=U>>4&1,q.ub=U>>5,3<q.td)return mn(h,3,"Incorrect keyframe parameters.");if(!q.yd)return mn(h,4,"Frame not displayable.");k+=3,V-=3;var H=h.Kc;if(q.Rb){if(7>V)return mn(h,7,"cannot parse picture header");if(!nu(x,k,V))return mn(h,3,"Bad code word");H.c=16383&(x[k+4]<<8|x[k+3]),H.Td=x[k+4]>>6,H.i=16383&(x[k+6]<<8|x[k+5]),H.Ud=x[k+6]>>6,k+=7,V-=7,h.za=H.c+15>>4,h.Ub=H.i+15>>4,g.width=H.c,g.height=H.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((U=h.Pa).jb,0,255,U.jb.length),e((U=h.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(q.ub>V)return mn(h,7,"bad partition length");fe(U=h.m,x,k,q.ub),k+=q.ub,V-=q.ub,q.Rb&&(H.Ld=we(U),H.Kd=we(U)),H=h.Qa;var G,Y=h.Pa;if(e(U!=null),e(H!=null),H.Cb=we(U),H.Cb){if(H.Bb=we(U),we(U)){for(H.Fb=we(U),G=0;4>G;++G)H.Zb[G]=we(U)?ae(U,7):0;for(G=0;4>G;++G)H.Lb[G]=we(U)?ae(U,6):0}if(H.Bb)for(G=0;3>G;++G)Y.jb[G]=we(U)?pe(U,8):255}else H.Bb=0;if(U.Ka)return mn(h,3,"cannot parse segment header");if((H=h.ed).zd=we(U),H.Tb=pe(U,6),H.wb=pe(U,3),H.Pc=we(U),H.Pc&&we(U)){for(Y=0;4>Y;++Y)we(U)&&(H.vd[Y]=ae(U,6));for(Y=0;4>Y;++Y)we(U)&&(H.od[Y]=ae(U,6))}if(h.L=H.Tb==0?0:H.zd?1:2,U.Ka)return mn(h,3,"cannot parse filter header");var se=V;if(V=G=k,k=G+se,H=se,h.Xb=(1<<pe(h.m,2))-1,se<3*(Y=h.Xb))x=7;else{for(G+=3*Y,H-=3*Y,se=0;se<Y;++se){var ye=x[V+0]|x[V+1]<<8|x[V+2]<<16;ye>H&&(ye=H),fe(h.Jc[+se],x,G,ye),G+=ye,H-=ye,V+=3}fe(h.Jc[+Y],x,G,H),x=G<k?0:5}if(x!=0)return mn(h,x,"cannot parse partitions");for(x=pe(G=h.m,7),V=we(G)?ae(G,4):0,k=we(G)?ae(G,4):0,H=we(G)?ae(G,4):0,Y=we(G)?ae(G,4):0,G=we(G)?ae(G,4):0,se=h.Qa,ye=0;4>ye;++ye){if(se.Cb){var ve=se.Zb[ye];se.Fb||(ve+=x)}else{if(0<ye){h.pb[ye]=h.pb[0];continue}ve=x}var de=h.pb[ye];de.Sc[0]=C1[Gt(ve+V,127)],de.Sc[1]=P1[Gt(ve+0,127)],de.Eb[0]=2*C1[Gt(ve+k,127)],de.Eb[1]=101581*P1[Gt(ve+H,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=C1[Gt(ve+Y,117)],de.Qc[1]=P1[Gt(ve+G,127)],de.lc=ve+G}if(!q.Rb)return mn(h,4,"Not a key frame.");for(we(U),q=h.Pa,x=0;4>x;++x){for(V=0;8>V;++V)for(k=0;3>k;++k)for(H=0;11>H;++H)Y=be(U,ZL[x][V][k][H])?pe(U,8):XL[x][V][k][H],q.Wc[x][V].Yb[k][H]=Y;for(V=0;17>V;++V)q.Xc[x][V]=q.Wc[x][eR[V]]}return h.kc=we(U),h.kc&&(h.Bd=pe(U,8)),h.cb=1}function cc(h,g,x,k,V,U,q){var H=g[V].Yb[x];for(x=0;16>V;++V){if(!be(h,H[x+0]))return V;for(;!be(h,H[x+1]);)if(H=g[++V].Yb[0],x=0,V==16)return 16;var G=g[V+1].Yb;if(be(h,H[x+2])){var Y=h,se=0;if(be(Y,(ve=H)[(ye=x)+3]))if(be(Y,ve[ye+6])){for(H=0,ye=2*(se=be(Y,ve[ye+8]))+(ve=be(Y,ve[ye+9+se])),se=0,ve=YL[ye];ve[H];++H)se+=se+be(Y,ve[H]);se+=3+(8<<ye)}else be(Y,ve[ye+7])?(se=7+2*be(Y,165),se+=be(Y,145)):se=5+be(Y,159);else se=be(Y,ve[ye+4])?3+be(Y,ve[ye+5]):2;H=G[2]}else se=1,H=G[1];G=q+QL[V],0>(Y=h).b&&ge(Y);var ye,ve=Y.b,de=(ye=Y.Ca>>1)-(Y.I>>ve)>>31;--Y.b,Y.Ca+=de,Y.Ca|=1,Y.I-=(ye+1&de)<<ve,U[G]=((se^de)-de)*k[(0<V)+0]}return 16}function iu(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function hc(h,g){if(h==null)return 0;if(g==null)return mn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!ru(h,g))return 0;if(e(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var x=qp[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-x>>4,h.zb=g.j-x>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+x>>4,h.Hb=g.va+15+x>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var k=h.ed;for(x=0;4>x;++x){var V;if(h.Qa.Cb){var U=h.Qa.Lb[x];h.Qa.Fb||(U+=k.Tb)}else U=k.Tb;for(V=0;1>=V;++V){var q=h.gd[x][V],H=U;if(k.Pc&&(H+=k.vd[0],V&&(H+=k.od[0])),0<(H=0>H?0:63<H?63:H)){var G=H;0<k.wb&&(G=4<k.wb?G>>2:G>>1)>9-k.wb&&(G=9-k.wb),1>G&&(G=1),q.dd=G,q.tc=2*H+G,q.ld=40<=H?2:15<=H?1:0}else q.tc=0;q.La=V}}}x=0}else mn(h,6,"Frame setup failed"),x=h.a;if(x=x==0){if(x){h.$c=0,0<h.Aa||(h.Ic=fR);e:{x=h.Ic,k=4*(G=h.za);var Y=32*G,se=G+1,ye=0<h.L?G*(0<h.Aa?2:1):0,ve=(h.Aa==2?2:1)*G;if((q=k+832+(V=3*(16*x+qp[h.L])/2*Y)+(U=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=q)x=0;else{if(q>h.Vb){if(h.Vb=0,h.Ec=s(q),h.Fc=0,h.Ec==null){x=mn(h,1,"no memory during frame initialization.");break e}h.Vb=q}q=h.Ec,H=h.Fc,h.Ac=q,h.Bc=H,H+=k,h.Gd=o(Y,eu),h.Hd=0,h.rb=o(se+1,Ys),h.sb=1,h.wa=ye?o(ye,Ks):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=G),e(!0),h.oc=q,h.pc=H,H+=832,h.ya=o(ve,No),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=G),h.R=16*G,h.B=8*G,G=(Y=qp[h.L])*h.R,Y=Y/2*h.B,h.sa=q,h.ta=H+G,h.qa=h.sa,h.ra=h.ta+16*x*h.R+Y,h.Ha=h.qa,h.Ia=h.ra+8*x*h.B+Y,h.$c=0,H+=V,h.mb=U?q:null,h.nb=U?H:null,e(H+U<=h.Fc+h.Vb),iu(h),i(h.Ac,h.Bc,0,k),x=1}}if(x){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!Dp){for(x=-255;255>=x;++x)tr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Bo[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)wd[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)Tc[255+x]=0>x?0:255<x?255:x;Dp=1}Sc=Lo,Vo=ba,gd=su,Zr=Yt,Qi=Po,Dn=Co,Ec=Na,Rp=bs,yd=Ca,mu=fu,gu=ka,Fa=Do,yu=Pa,Ac=Zs,vu=Ro,Va=Ci,vd=er,Xi=gc,Es[0]=Ki,Es[1]=ud,Es[2]=Xs,Es[3]=hd,Es[4]=pc,Es[5]=Ea,Es[6]=Ni,Es[7]=au,Es[8]=Ta,Es[9]=Aa,Ba[0]=Qs,Ba[1]=cd,Ba[2]=vs,Ba[3]=_a,Ba[4]=gn,Ba[5]=fc,Ba[6]=ou,Uo[0]=xs,Uo[1]=dc,Uo[2]=mc,Uo[3]=ws,Uo[4]=Wt,Uo[5]=lu,Uo[6]=uu,x=1}else x=0}x&&(x=function(de,ke){for(de.M=0;de.M<de.Va;++de.M){var Se,oe=de.Jc[de.M&de.Xb],ue=de.m,Ie=de;for(Se=0;Se<Ie.za;++Se){var Le=ue,Ne=Ie,Xe=Ne.Ac,We=Ne.Bc+4*Se,ut=Ne.zc,Qe=Ne.ya[Ne.aa+Se];if(Ne.Qa.Bb?Qe.$b=be(Le,Ne.Pa.jb[0])?2+be(Le,Ne.Pa.jb[2]):be(Le,Ne.Pa.jb[1]):Qe.$b=0,Ne.kc&&(Qe.Ad=be(Le,Ne.Bd)),Qe.Za=!be(Le,145)+0,Qe.Za){var qt=Qe.Ob,Qt=0;for(Ne=0;4>Ne;++Ne){var Ut,jt=ut[0+Ne];for(Ut=0;4>Ut;++Ut){jt=JL[Xe[We+Ut]][jt];for(var on=xb[be(Le,jt[0])];0<on;)on=xb[2*on+be(Le,jt[on])];jt=-on,Xe[We+Ut]=jt}r(qt,Qt,Xe,We,4),Qt+=4,ut[0+Ne]=jt}}else jt=be(Le,156)?be(Le,128)?1:3:be(Le,163)?2:0,Qe.Ob[0]=jt,i(Xe,We,jt,4),i(ut,0,jt,4);Qe.Dd=be(Le,142)?be(Le,114)?be(Le,183)?1:3:2:0}if(Ie.m.Ka)return mn(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(Ie=oe,Le=(ue=de).rb[ue.sb-1],Xe=ue.rb[ue.sb+ue.ja],Se=ue.ya[ue.aa+ue.ja],We=ue.kc?Se.Ad:0)Le.la=Xe.la=0,Se.Za||(Le.Na=Xe.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var nn,Nt;if(Le=Xe,Xe=Ie,We=ue.Pa.Xc,ut=ue.ya[ue.aa+ue.ja],Qe=ue.pb[ut.$b],Ne=ut.ad,qt=0,Qt=ue.rb[ue.sb-1],jt=Ut=0,i(Ne,qt,0,384),ut.Za)var Gn=0,di=We[3];else{on=s(16);var Kn=Le.Na+Qt.Na;if(Kn=xd(Xe,We[1],Kn,Qe.Eb,0,on,0),Le.Na=Qt.Na=(0<Kn)+0,1<Kn)Sc(on,0,Ne,qt);else{var fi=on[0]+3>>3;for(on=0;256>on;on+=16)Ne[qt+on]=fi}Gn=1,di=We[0]}var Xt=15&Le.la,Li=15&Qt.la;for(on=0;4>on;++on){var Ri=1&Li;for(fi=Nt=0;4>fi;++fi)Xt=Xt>>1|(Ri=(Kn=xd(Xe,di,Kn=Ri+(1&Xt),Qe.Sc,Gn,Ne,qt))>Gn)<<7,Nt=Nt<<2|(3<Kn?3:1<Kn?2:Ne[qt+0]!=0),qt+=16;Xt>>=4,Li=Li>>1|Ri<<7,Ut=(Ut<<8|Nt)>>>0}for(di=Xt,Gn=Li>>4,nn=0;4>nn;nn+=2){for(Nt=0,Xt=Le.la>>4+nn,Li=Qt.la>>4+nn,on=0;2>on;++on){for(Ri=1&Li,fi=0;2>fi;++fi)Kn=Ri+(1&Xt),Xt=Xt>>1|(Ri=0<(Kn=xd(Xe,We[2],Kn,Qe.Qc,0,Ne,qt)))<<3,Nt=Nt<<2|(3<Kn?3:1<Kn?2:Ne[qt+0]!=0),qt+=16;Xt>>=2,Li=Li>>1|Ri<<5}jt|=Nt<<4*nn,di|=Xt<<4<<nn,Gn|=(240&Li)<<nn}Le.la=di,Qt.la=Gn,ut.Hc=Ut,ut.Gc=jt,ut.ia=43690&jt?0:Qe.ia,We=!(Ut|jt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[Se.$b][Se.Za],ue.wa[ue.Y+ue.ja].La|=!We),Ie.Ka)return mn(de,7,"Premature end-of-file encountered.")}if(iu(de),ue=ke,Ie=1,Se=(oe=de).D,Le=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Se.M=oe.M,Se.uc=Le,to(oe,Se),Ie=1,Se=(Nt=oe.D).Nb,Le=(jt=qp[oe.L])*oe.R,Xe=jt/2*oe.B,on=16*Se*oe.R,fi=8*Se*oe.B,We=oe.sa,ut=oe.ta-Le+on,Qe=oe.qa,Ne=oe.ra-Xe+fi,qt=oe.Ha,Qt=oe.Ia-Xe+fi,Li=(Xt=Nt.M)==0,Ut=Xt>=oe.Va-1,oe.Aa==2&&to(oe,Nt),Nt.uc)for(Ri=(Kn=oe).D.M,e(Kn.D.uc),Nt=Kn.yb;Nt<Kn.Hb;++Nt){Gn=Nt,di=Ri;var ar=(yr=(kn=Kn).D).Nb;nn=kn.R;var yr=yr.wa[yr.Y+Gn],ei=kn.sa,ts=kn.ta+16*ar*nn+16*Gn,ro=yr.dd,lr=yr.tc;if(lr!=0)if(e(3<=lr),kn.L==1)0<Gn&&Va(ei,ts,nn,lr+4),yr.La&&Xi(ei,ts,nn,lr),0<di&&vu(ei,ts,nn,lr+4),yr.La&&vd(ei,ts,nn,lr);else{var zo=kn.B,wu=kn.qa,Ic=kn.ra+8*ar*zo+8*Gn,za=kn.Ha,kn=kn.Ia+8*ar*zo+8*Gn;ar=yr.ld,0<Gn&&(Rp(ei,ts,nn,lr+4,ro,ar),mu(wu,Ic,za,kn,zo,lr+4,ro,ar)),yr.La&&(Fa(ei,ts,nn,lr,ro,ar),Ac(wu,Ic,za,kn,zo,lr,ro,ar)),0<di&&(Ec(ei,ts,nn,lr+4,ro,ar),yd(wu,Ic,za,kn,zo,lr+4,ro,ar)),yr.La&&(gu(ei,ts,nn,lr,ro,ar),yu(wu,Ic,za,kn,zo,lr,ro,ar))}}if(oe.ia&&alert("todo:DitherRow"),ue.put!=null){if(Nt=16*Xt,Xt=16*(Xt+1),Li?(ue.y=oe.sa,ue.O=oe.ta+on,ue.f=oe.qa,ue.N=oe.ra+fi,ue.ea=oe.Ha,ue.W=oe.Ia+fi):(Nt-=jt,ue.y=We,ue.O=ut,ue.f=Qe,ue.N=Ne,ue.ea=qt,ue.W=Qt),Ut||(Xt-=jt),Xt>ue.o&&(Xt=ue.o),ue.F=null,ue.J=null,oe.Fa!=null&&0<oe.Fa.length&&Nt<Xt&&(ue.J=Oa(oe,ue,Nt,Xt-Nt),ue.F=oe.mb,ue.F==null&&ue.F.length==0)){Ie=mn(oe,3,"Could not decode alpha data.");break e}Nt<ue.j&&(jt=ue.j-Nt,Nt=ue.j,e(!(1&jt)),ue.O+=oe.R*jt,ue.N+=oe.B*(jt>>1),ue.W+=oe.B*(jt>>1),ue.F!=null&&(ue.J+=ue.width*jt)),Nt<Xt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=Nt-ue.j,ue.U=ue.va-ue.v,ue.T=Xt-Nt,Ie=ue.put(ue))}Se+1!=oe.Ic||Ut||(r(oe.sa,oe.ta-Le,We,ut+16*oe.R,Le),r(oe.qa,oe.ra-Xe,Qe,Ne+8*oe.B,Xe),r(oe.Ha,oe.Ia-Xe,qt,Qt+8*oe.B,Xe))}if(!Ie)return mn(de,6,"Output aborted.")}return 1}(h,g)),g.bc!=null&&g.bc(g),x&=1}return x?(h.cb=0,x):0}function ui(h,g,x,k,V){V=h[g+x+32*k]+(V>>3),h[g+x+32*k]=-256&V?0>V?0:255:V}function xa(h,g,x,k,V,U){ui(h,g,0,x,k+V),ui(h,g,1,x,k+U),ui(h,g,2,x,k-U),ui(h,g,3,x,k-V)}function Nn(h){return(20091*h>>16)+h}function Xr(h,g,x,k){var V,U=0,q=s(16);for(V=0;4>V;++V){var H=h[g+0]+h[g+8],G=h[g+0]-h[g+8],Y=(35468*h[g+4]>>16)-Nn(h[g+12]),se=Nn(h[g+4])+(35468*h[g+12]>>16);q[U+0]=H+se,q[U+1]=G+Y,q[U+2]=G-Y,q[U+3]=H-se,U+=4,g++}for(V=U=0;4>V;++V)H=(h=q[U+0]+4)+q[U+8],G=h-q[U+8],Y=(35468*q[U+4]>>16)-Nn(q[U+12]),ui(x,k,0,0,H+(se=Nn(q[U+4])+(35468*q[U+12]>>16))),ui(x,k,1,0,G+Y),ui(x,k,2,0,G-Y),ui(x,k,3,0,H-se),U++,k+=32}function Co(h,g,x,k){var V=h[g+0]+4,U=35468*h[g+4]>>16,q=Nn(h[g+4]),H=35468*h[g+1]>>16;xa(x,k,0,V+q,h=Nn(h[g+1]),H),xa(x,k,1,V+U,h,H),xa(x,k,2,V-U,h,H),xa(x,k,3,V-q,h,H)}function ba(h,g,x,k,V){Xr(h,g,x,k),V&&Xr(h,g+16,x,k+4)}function su(h,g,x,k){Vo(h,g+0,x,k,1),Vo(h,g+32,x,k+128,1)}function Yt(h,g,x,k){var V;for(h=h[g+0]+4,V=0;4>V;++V)for(g=0;4>g;++g)ui(x,k,g,V,h)}function Po(h,g,x,k){h[g+0]&&Zr(h,g+0,x,k),h[g+16]&&Zr(h,g+16,x,k+4),h[g+32]&&Zr(h,g+32,x,k+128),h[g+48]&&Zr(h,g+48,x,k+128+4)}function Lo(h,g,x,k){var V,U=s(16);for(V=0;4>V;++V){var q=h[g+0+V]+h[g+12+V],H=h[g+4+V]+h[g+8+V],G=h[g+4+V]-h[g+8+V],Y=h[g+0+V]-h[g+12+V];U[0+V]=q+H,U[8+V]=q-H,U[4+V]=Y+G,U[12+V]=Y-G}for(V=0;4>V;++V)q=(h=U[0+4*V]+3)+U[3+4*V],H=U[1+4*V]+U[2+4*V],G=U[1+4*V]-U[2+4*V],Y=h-U[3+4*V],x[k+0]=q+H>>3,x[k+16]=Y+G>>3,x[k+32]=q-H>>3,x[k+48]=Y-G>>3,k+=64}function ys(h,g,x){var k,V=g-32,U=Pi,q=255-h[V-1];for(k=0;k<x;++k){var H,G=U,Y=q+h[g-1];for(H=0;H<x;++H)h[g+H]=G[Y+h[V+H]];g+=32}}function ud(h,g){ys(h,g,4)}function dc(h,g){ys(h,g,8)}function cd(h,g){ys(h,g,16)}function vs(h,g){var x;for(x=0;16>x;++x)r(h,g+32*x,h,g-32,16)}function _a(h,g){var x;for(x=16;0<x;--x)i(h,g,h[g-1],16),g+=32}function Sa(h,g,x){var k;for(k=0;16>k;++k)i(g,x+32*k,h,16)}function Qs(h,g){var x,k=16;for(x=0;16>x;++x)k+=h[g-1+32*x]+h[g+x-32];Sa(k>>5,h,g)}function gn(h,g){var x,k=8;for(x=0;16>x;++x)k+=h[g-1+32*x];Sa(k>>4,h,g)}function fc(h,g){var x,k=8;for(x=0;16>x;++x)k+=h[g+x-32];Sa(k>>4,h,g)}function ou(h,g){Sa(128,h,g)}function vt(h,g,x){return h+2*g+x+2>>2}function Xs(h,g){var x,k=g-32;for(k=new Uint8Array([vt(h[k-1],h[k+0],h[k+1]),vt(h[k+0],h[k+1],h[k+2]),vt(h[k+1],h[k+2],h[k+3]),vt(h[k+2],h[k+3],h[k+4])]),x=0;4>x;++x)r(h,g+32*x,k,0,k.length)}function hd(h,g){var x=h[g-1],k=h[g-1+32],V=h[g-1+64],U=h[g-1+96];je(h,g+0,16843009*vt(h[g-1-32],x,k)),je(h,g+32,16843009*vt(x,k,V)),je(h,g+64,16843009*vt(k,V,U)),je(h,g+96,16843009*vt(V,U,U))}function Ki(h,g){var x,k=4;for(x=0;4>x;++x)k+=h[g+x-32]+h[g-1+32*x];for(k>>=3,x=0;4>x;++x)i(h,g+32*x,k,4)}function pc(h,g){var x=h[g-1+0],k=h[g-1+32],V=h[g-1+64],U=h[g-1-32],q=h[g+0-32],H=h[g+1-32],G=h[g+2-32],Y=h[g+3-32];h[g+0+96]=vt(k,V,h[g-1+96]),h[g+1+96]=h[g+0+64]=vt(x,k,V),h[g+2+96]=h[g+1+64]=h[g+0+32]=vt(U,x,k),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=vt(q,U,x),h[g+3+64]=h[g+2+32]=h[g+1+0]=vt(H,q,U),h[g+3+32]=h[g+2+0]=vt(G,H,q),h[g+3+0]=vt(Y,G,H)}function Ni(h,g){var x=h[g+1-32],k=h[g+2-32],V=h[g+3-32],U=h[g+4-32],q=h[g+5-32],H=h[g+6-32],G=h[g+7-32];h[g+0+0]=vt(h[g+0-32],x,k),h[g+1+0]=h[g+0+32]=vt(x,k,V),h[g+2+0]=h[g+1+32]=h[g+0+64]=vt(k,V,U),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=vt(V,U,q),h[g+3+32]=h[g+2+64]=h[g+1+96]=vt(U,q,H),h[g+3+64]=h[g+2+96]=vt(q,H,G),h[g+3+96]=vt(H,G,G)}function Ea(h,g){var x=h[g-1+0],k=h[g-1+32],V=h[g-1+64],U=h[g-1-32],q=h[g+0-32],H=h[g+1-32],G=h[g+2-32],Y=h[g+3-32];h[g+0+0]=h[g+1+64]=U+q+1>>1,h[g+1+0]=h[g+2+64]=q+H+1>>1,h[g+2+0]=h[g+3+64]=H+G+1>>1,h[g+3+0]=G+Y+1>>1,h[g+0+96]=vt(V,k,x),h[g+0+64]=vt(k,x,U),h[g+0+32]=h[g+1+96]=vt(x,U,q),h[g+1+32]=h[g+2+96]=vt(U,q,H),h[g+2+32]=h[g+3+96]=vt(q,H,G),h[g+3+32]=vt(H,G,Y)}function au(h,g){var x=h[g+0-32],k=h[g+1-32],V=h[g+2-32],U=h[g+3-32],q=h[g+4-32],H=h[g+5-32],G=h[g+6-32],Y=h[g+7-32];h[g+0+0]=x+k+1>>1,h[g+1+0]=h[g+0+64]=k+V+1>>1,h[g+2+0]=h[g+1+64]=V+U+1>>1,h[g+3+0]=h[g+2+64]=U+q+1>>1,h[g+0+32]=vt(x,k,V),h[g+1+32]=h[g+0+96]=vt(k,V,U),h[g+2+32]=h[g+1+96]=vt(V,U,q),h[g+3+32]=h[g+2+96]=vt(U,q,H),h[g+3+64]=vt(q,H,G),h[g+3+96]=vt(H,G,Y)}function Aa(h,g){var x=h[g-1+0],k=h[g-1+32],V=h[g-1+64],U=h[g-1+96];h[g+0+0]=x+k+1>>1,h[g+2+0]=h[g+0+32]=k+V+1>>1,h[g+2+32]=h[g+0+64]=V+U+1>>1,h[g+1+0]=vt(x,k,V),h[g+3+0]=h[g+1+32]=vt(k,V,U),h[g+3+32]=h[g+1+64]=vt(V,U,U),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=U}function Ta(h,g){var x=h[g-1+0],k=h[g-1+32],V=h[g-1+64],U=h[g-1+96],q=h[g-1-32],H=h[g+0-32],G=h[g+1-32],Y=h[g+2-32];h[g+0+0]=h[g+2+32]=x+q+1>>1,h[g+0+32]=h[g+2+64]=k+x+1>>1,h[g+0+64]=h[g+2+96]=V+k+1>>1,h[g+0+96]=U+V+1>>1,h[g+3+0]=vt(H,G,Y),h[g+2+0]=vt(q,H,G),h[g+1+0]=h[g+3+32]=vt(x,q,H),h[g+1+32]=h[g+3+64]=vt(k,x,q),h[g+1+64]=h[g+3+96]=vt(V,k,x),h[g+1+96]=vt(U,V,k)}function mc(h,g){var x;for(x=0;8>x;++x)r(h,g+32*x,h,g-32,8)}function ws(h,g){var x;for(x=0;8>x;++x)i(h,g,h[g-1],8),g+=32}function ki(h,g,x){var k;for(k=0;8>k;++k)i(g,x+32*k,h,8)}function xs(h,g){var x,k=8;for(x=0;8>x;++x)k+=h[g+x-32]+h[g-1+32*x];ki(k>>4,h,g)}function lu(h,g){var x,k=4;for(x=0;8>x;++x)k+=h[g+x-32];ki(k>>3,h,g)}function Wt(h,g){var x,k=4;for(x=0;8>x;++x)k+=h[g-1+32*x];ki(k>>3,h,g)}function uu(h,g){ki(128,h,g)}function Ia(h,g,x){var k=h[g-x],V=h[g+0],U=3*(V-k)+A1[1020+h[g-2*x]-h[g+x]],q=Op[112+(U+4>>3)];h[g-x]=Pi[255+k+Op[112+(U+3>>3)]],h[g+0]=Pi[255+V-q]}function cu(h,g,x,k){var V=h[g+0],U=h[g+x];return Zi[255+h[g-2*x]-h[g-x]]>k||Zi[255+U-V]>k}function hu(h,g,x,k){return 4*Zi[255+h[g-x]-h[g+0]]+Zi[255+h[g-2*x]-h[g+x]]<=k}function du(h,g,x,k,V){var U=h[g-3*x],q=h[g-2*x],H=h[g-x],G=h[g+0],Y=h[g+x],se=h[g+2*x],ye=h[g+3*x];return 4*Zi[255+H-G]+Zi[255+q-Y]>k?0:Zi[255+h[g-4*x]-U]<=V&&Zi[255+U-q]<=V&&Zi[255+q-H]<=V&&Zi[255+ye-se]<=V&&Zi[255+se-Y]<=V&&Zi[255+Y-G]<=V}function Ro(h,g,x,k){var V=2*k+1;for(k=0;16>k;++k)hu(h,g+k,x,V)&&Ia(h,g+k,x)}function Ci(h,g,x,k){var V=2*k+1;for(k=0;16>k;++k)hu(h,g+k*x,1,V)&&Ia(h,g+k*x,1)}function er(h,g,x,k){var V;for(V=3;0<V;--V)Ro(h,g+=4*x,x,k)}function gc(h,g,x,k){var V;for(V=3;0<V;--V)Ci(h,g+=4,x,k)}function Js(h,g,x,k,V,U,q,H){for(U=2*U+1;0<V--;){if(du(h,g,x,U,q))if(cu(h,g,x,H))Ia(h,g,x);else{var G=h,Y=g,se=x,ye=G[Y-2*se],ve=G[Y-se],de=G[Y+0],ke=G[Y+se],Se=G[Y+2*se],oe=27*(Ie=A1[1020+3*(de-ve)+A1[1020+ye-ke]])+63>>7,ue=18*Ie+63>>7,Ie=9*Ie+63>>7;G[Y-3*se]=Pi[255+G[Y-3*se]+Ie],G[Y-2*se]=Pi[255+ye+ue],G[Y-se]=Pi[255+ve+oe],G[Y+0]=Pi[255+de-oe],G[Y+se]=Pi[255+ke-ue],G[Y+2*se]=Pi[255+Se-Ie]}g+=k}}function pr(h,g,x,k,V,U,q,H){for(U=2*U+1;0<V--;){if(du(h,g,x,U,q))if(cu(h,g,x,H))Ia(h,g,x);else{var G=h,Y=g,se=x,ye=G[Y-se],ve=G[Y+0],de=G[Y+se],ke=Op[112+((Se=3*(ve-ye))+4>>3)],Se=Op[112+(Se+3>>3)],oe=ke+1>>1;G[Y-2*se]=Pi[255+G[Y-2*se]+oe],G[Y-se]=Pi[255+ye+Se],G[Y+0]=Pi[255+ve-ke],G[Y+se]=Pi[255+de-oe]}g+=k}}function Na(h,g,x,k,V,U){Js(h,g,x,1,16,k,V,U)}function bs(h,g,x,k,V,U){Js(h,g,1,x,16,k,V,U)}function ka(h,g,x,k,V,U){var q;for(q=3;0<q;--q)pr(h,g+=4*x,x,1,16,k,V,U)}function Do(h,g,x,k,V,U){var q;for(q=3;0<q;--q)pr(h,g+=4,1,x,16,k,V,U)}function Ca(h,g,x,k,V,U,q,H){Js(h,g,V,1,8,U,q,H),Js(x,k,V,1,8,U,q,H)}function fu(h,g,x,k,V,U,q,H){Js(h,g,1,V,8,U,q,H),Js(x,k,1,V,8,U,q,H)}function Pa(h,g,x,k,V,U,q,H){pr(h,g+4*V,V,1,8,U,q,H),pr(x,k+4*V,V,1,8,U,q,H)}function Zs(h,g,x,k,V,U,q,H){pr(h,g+4,1,V,8,U,q,H),pr(x,k+4,1,V,8,U,q,H)}function Oo(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function La(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ra(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new C}function yc(){this.xb=this.a=0,this.l=new ko,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ra,this.ab=0,this.gc=o(4,jo),this.Oc=0}function _s(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ko,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function eo(h,g,x,k,V,U,q){for(h=h==null?0:h[g+0],g=0;g<q;++g)V[U+g]=h+x[k+g]&255,h=V[U+g]}function Da(h,g,x,k,V,U,q){var H;if(h==null)eo(null,null,x,k,V,U,q);else for(H=0;H<q;++H)V[U+H]=h[g+H]+x[k+H]&255}function Cr(h,g,x,k,V,U,q){if(h==null)eo(null,null,x,k,V,U,q);else{var H,G=h[g+0],Y=G,se=G;for(H=0;H<q;++H)Y=se+(G=h[g+H])-Y,se=x[k+H]+(-256&Y?0>Y?0:255:Y)&255,Y=G,V[U+H]=se}}function Oa(h,g,x,k){var V=g.width,U=g.o;if(e(h!=null&&g!=null),0>x||0>=k||x+k>U)return null;if(!h.Cc){if(h.ga==null){var q;if(h.ga=new _s,(q=h.ga==null)||(q=g.width*g.o,e(h.Gb.length==0),h.Gb=s(q),h.Uc=0,h.Gb==null?q=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,q=1),q=!q),!q){q=h.ga;var H=h.Fa,G=h.P,Y=h.qc,se=h.mb,ye=h.nb,ve=G+1,de=Y-1,ke=q.l;if(e(H!=null&&se!=null&&g!=null),Ua[0]=null,Ua[1]=eo,Ua[2]=Da,Ua[3]=Cr,q.ca=se,q.tb=ye,q.c=g.width,q.i=g.height,e(0<q.c&&0<q.i),1>=Y)g=0;else if(q.$a=H[G+0]>>0&3,q.Z=H[G+0]>>2&3,q.Lc=H[G+0]>>4&3,G=H[G+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||G)g=0;else if(ke.put=Ir,ke.ac=$n,ke.bc=Ti,ke.ma=q,ke.width=g.width,ke.height=g.height,ke.Da=g.Da,ke.v=g.v,ke.va=g.va,ke.j=g.j,ke.o=g.o,q.$a)e:{e(q.$a==1),g=Rn();t:for(;;){if(g==null){g=0;break e}if(e(q!=null),q.mc=g,g.c=q.c,g.i=q.i,g.l=q.l,g.l.ma=q,g.l.width=q.c,g.l.height=q.i,g.a=0,Z(g.m,H,ve,de),!Ii(q.c,q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ms(g.s)?(q.ic=1,H=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(H),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(q.ic=0,g=Hs(g,q.c)),!g))break t;g=1;break e}q.mc=null,g=0}else g=de>=q.c*q.i;q=!g}if(q)return null;h.ga.Lc!=1?h.Ga=0:k=U-x}e(h.ga!=null),e(x+k<=U);e:{if(g=(H=h.ga).c,U=H.l.o,H.$a==0){if(ve=h.rc,de=h.Vc,ke=h.Fa,G=h.P+1+x*g,Y=h.mb,se=h.nb+x*g,e(G<=h.P+h.qc),H.Z!=0)for(e(Ua[H.Z]!=null),q=0;q<k;++q)Ua[H.Z](ve,de,ke,G,Y,se,g),ve=Y,de=se,se+=g,G+=g;else for(q=0;q<k;++q)r(Y,se,ke,G,g),ve=Y,de=se,se+=g,G+=g;h.rc=ve,h.Vc=de}else{if(e(H.mc!=null),g=x+k,e((q=H.mc)!=null),e(g<=q.i),q.C>=g)g=1;else if(H.ic||he(),H.ic){H=q.V,ve=q.Ba,de=q.c;var Se=q.i,oe=(ke=1,G=q.$/de,Y=q.$%de,se=q.m,ye=q.s,q.$),ue=de*Se,Ie=de*g,Le=ye.wc,Ne=oe<Ie?In(ye,Y,G):null;e(oe<=ue),e(g<=Se),e(ms(ye));t:for(;;){for(;!se.h&&oe<Ie;){if(Y&Le||(Ne=In(ye,Y,G)),e(Ne!=null),re(se),256>(Se=Hn(Ne.G[0],Ne.H[0],se)))H[ve+oe]=Se,++oe,++Y>=de&&(Y=0,++G<=g&&!(G%16)&&li(q,G));else{if(!(280>Se)){ke=0;break t}Se=ai(Se-256,se);var Xe,We=Hn(Ne.G[4],Ne.H[4],se);if(re(se),!(oe>=(We=Nr(de,We=ai(We,se)))&&ue-oe>=Se)){ke=0;break t}for(Xe=0;Xe<Se;++Xe)H[ve+oe+Xe]=H[ve+oe+Xe-We];for(oe+=Se,Y+=Se;Y>=de;)Y-=de,++G<=g&&!(G%16)&&li(q,G);oe<Ie&&Y&Le&&(Ne=In(ye,Y,G))}e(se.h==J(se))}li(q,G>g?g:G);break t}!ke||se.h&&oe<ue?(ke=0,q.a=se.h?5:3):q.$=oe,g=ke}else g=Yr(q,q.V,q.Ba,q.c,q.i,g,Ws);if(!g){k=0;break e}}x+k>=U&&(h.Cc=1),k=1}if(!k)return null;if(h.Cc&&((k=h.ga)!=null&&(k.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+x*V}function y(h,g,x,k,V,U){for(;0<V--;){var q,H=h,G=g+(x?1:0),Y=h,se=g+(x?0:3);for(q=0;q<k;++q){var ye=Y[se+4*q];ye!=255&&(ye*=32897,H[G+4*q+0]=H[G+4*q+0]*ye>>23,H[G+4*q+1]=H[G+4*q+1]*ye>>23,H[G+4*q+2]=H[G+4*q+2]*ye>>23)}g+=U}}function F(h,g,x,k,V){for(;0<k--;){var U;for(U=0;U<x;++U){var q=h[g+2*U+0],H=15&(Y=h[g+2*U+1]),G=4369*H,Y=(240&Y|Y>>4)*G>>16;h[g+2*U+0]=(240&q|q>>4)*G>>16&240|(15&q|q<<4)*G>>16>>4&15,h[g+2*U+1]=240&Y|H}g+=V}}function Q(h,g,x,k,V,U,q,H){var G,Y,se=255;for(Y=0;Y<V;++Y){for(G=0;G<k;++G){var ye=h[g+G];U[q+4*G]=ye,se&=ye}g+=x,q+=H}return se!=255}function ie(h,g,x,k,V){var U;for(U=0;U<V;++U)x[k+U]=h[g+U]>>8}function he(){Ji=y,un=F,cn=Q,On=ie}function Ae(h,g,x){N[h]=function(k,V,U,q,H,G,Y,se,ye,ve,de,ke,Se,oe,ue,Ie,Le){var Ne,Xe=Le-1>>1,We=H[G+0]|Y[se+0]<<16,ut=ye[ve+0]|de[ke+0]<<16;e(k!=null);var Qe=3*We+ut+131074>>2;for(g(k[V+0],255&Qe,Qe>>16,Se,oe),U!=null&&(Qe=3*ut+We+131074>>2,g(U[q+0],255&Qe,Qe>>16,ue,Ie)),Ne=1;Ne<=Xe;++Ne){var qt=H[G+Ne]|Y[se+Ne]<<16,Qt=ye[ve+Ne]|de[ke+Ne]<<16,Ut=We+qt+ut+Qt+524296,jt=Ut+2*(qt+ut)>>3;Qe=jt+We>>1,We=(Ut=Ut+2*(We+Qt)>>3)+qt>>1,g(k[V+2*Ne-1],255&Qe,Qe>>16,Se,oe+(2*Ne-1)*x),g(k[V+2*Ne-0],255&We,We>>16,Se,oe+(2*Ne-0)*x),U!=null&&(Qe=Ut+ut>>1,We=jt+Qt>>1,g(U[q+2*Ne-1],255&Qe,Qe>>16,ue,Ie+(2*Ne-1)*x),g(U[q+2*Ne+0],255&We,We>>16,ue,Ie+(2*Ne+0)*x)),We=qt,ut=Qt}1&Le||(Qe=3*We+ut+131074>>2,g(k[V+Le-1],255&Qe,Qe>>16,Se,oe+(Le-1)*x),U!=null&&(Qe=3*ut+We+131074>>2,g(U[q+Le-1],255&Qe,Qe>>16,ue,Ie+(Le-1)*x)))}}function Re(){es[jp]=nR,es[Mp]=_b,es[yb]=rR,es[Fp]=Sb,es[Vp]=Eb,es[T1]=Ab,es[vb]=iR,es[I1]=_b,es[N1]=Sb,es[Bp]=Eb,es[k1]=Ab}function Ge(h){return h&~sR?0>h?0:255:h>>Tb}function f(h,g){return Ge((19077*h>>8)+(26149*g>>8)-14234)}function E(h,g,x){return Ge((19077*h>>8)-(6419*g>>8)-(13320*x>>8)+8708)}function P(h,g){return Ge((19077*h>>8)+(33050*g>>8)-17685)}function $(h,g,x,k,V){k[V+0]=f(h,x),k[V+1]=E(h,g,x),k[V+2]=P(h,g)}function ce(h,g,x,k,V){k[V+0]=P(h,g),k[V+1]=E(h,g,x),k[V+2]=f(h,x)}function xe(h,g,x,k,V){var U=E(h,g,x);g=U<<3&224|P(h,g)>>3,k[V+0]=248&f(h,x)|U>>5,k[V+1]=g}function Oe(h,g,x,k,V){var U=240&P(h,g)|15;k[V+0]=240&f(h,x)|E(h,g,x)>>4,k[V+1]=U}function Et(h,g,x,k,V){k[V+0]=255,$(h,g,x,k,V+1)}function Ot(h,g,x,k,V){ce(h,g,x,k,V),k[V+3]=255}function At(h,g,x,k,V){$(h,g,x,k,V),k[V+3]=255}function Gt(h,g){return 0>h?0:h>g?g:h}function sn(h,g,x){N[h]=function(k,V,U,q,H,G,Y,se,ye){for(var ve=se+(-2&ye)*x;se!=ve;)g(k[V+0],U[q+0],H[G+0],Y,se),g(k[V+1],U[q+0],H[G+0],Y,se+x),V+=2,++q,++G,se+=2*x;1&ye&&g(k[V+0],U[q+0],H[G+0],Y,se)}}function Ss(h,g,x){return x==0?h==0?g==0?6:5:g==0?4:0:x}function mr(h,g,x,k,V){switch(h>>>30){case 3:Vo(g,x,k,V,0);break;case 2:Dn(g,x,k,V);break;case 1:Zr(g,x,k,V)}}function to(h,g){var x,k,V=g.M,U=g.Nb,q=h.oc,H=h.pc+40,G=h.oc,Y=h.pc+584,se=h.oc,ye=h.pc+600;for(x=0;16>x;++x)q[H+32*x-1]=129;for(x=0;8>x;++x)G[Y+32*x-1]=129,se[ye+32*x-1]=129;for(0<V?q[H-1-32]=G[Y-1-32]=se[ye-1-32]=129:(i(q,H-32-1,127,21),i(G,Y-32-1,127,9),i(se,ye-32-1,127,9)),k=0;k<h.za;++k){var ve=g.ya[g.aa+k];if(0<k){for(x=-1;16>x;++x)r(q,H+32*x-4,q,H+32*x+12,4);for(x=-1;8>x;++x)r(G,Y+32*x-4,G,Y+32*x+4,4),r(se,ye+32*x-4,se,ye+32*x+4,4)}var de=h.Gd,ke=h.Hd+k,Se=ve.ad,oe=ve.Hc;if(0<V&&(r(q,H-32,de[ke].y,0,16),r(G,Y-32,de[ke].f,0,8),r(se,ye-32,de[ke].ea,0,8)),ve.Za){var ue=q,Ie=H-32+16;for(0<V&&(k>=h.za-1?i(ue,Ie,de[ke].y[15],4):r(ue,Ie,de[ke+1].y,0,4)),x=0;4>x;x++)ue[Ie+128+x]=ue[Ie+256+x]=ue[Ie+384+x]=ue[Ie+0+x];for(x=0;16>x;++x,oe<<=2)ue=q,Ie=H+Nb[x],Es[ve.Ob[x]](ue,Ie),mr(oe,Se,16*+x,ue,Ie)}else if(ue=Ss(k,V,ve.Ob[0]),Ba[ue](q,H),oe!=0)for(x=0;16>x;++x,oe<<=2)mr(oe,Se,16*+x,q,H+Nb[x]);for(x=ve.Gc,ue=Ss(k,V,ve.Dd),Uo[ue](G,Y),Uo[ue](se,ye),oe=Se,ue=G,Ie=Y,255&(ve=x>>0)&&(170&ve?gd(oe,256,ue,Ie):Qi(oe,256,ue,Ie)),ve=se,oe=ye,255&(x>>=8)&&(170&x?gd(Se,320,ve,oe):Qi(Se,320,ve,oe)),V<h.Ub-1&&(r(de[ke].y,0,q,H+480,16),r(de[ke].f,0,G,Y+224,8),r(de[ke].ea,0,se,ye+224,8)),x=8*U*h.B,de=h.sa,ke=h.ta+16*k+16*U*h.R,Se=h.qa,ve=h.ra+8*k+x,oe=h.Ha,ue=h.Ia+8*k+x,x=0;16>x;++x)r(de,ke+x*h.R,q,H+32*x,16);for(x=0;8>x;++x)r(Se,ve+x*h.B,G,Y+32*x,8),r(oe,ue+x*h.B,se,ye+32*x,8)}}function no(h,g,x,k,V,U,q,H,G){var Y=[0],se=[0],ye=0,ve=G!=null?G.kd:0,de=G??new La;if(h==null||12>x)return 7;de.data=h,de.w=g,de.ha=x,g=[g],x=[x],de.gb=[de.gb];e:{var ke=g,Se=x,oe=de.gb;if(e(h!=null),e(Se!=null),e(oe!=null),oe[0]=0,12<=Se[0]&&!n(h,ke[0],"RIFF")){if(n(h,ke[0]+8,"WEBP")){oe=3;break e}var ue=qe(h,ke[0]+4);if(12>ue||4294967286<ue){oe=3;break e}if(ve&&ue>Se[0]-8){oe=7;break e}oe[0]=ue,ke[0]+=12,Se[0]-=12}oe=0}if(oe!=0)return oe;for(ue=0<de.gb[0],x=x[0];;){e:{var Ie=h;Se=g,oe=x;var Le=Y,Ne=se,Xe=ke=[0];if((Qe=ye=[ye])[0]=0,8>oe[0])oe=7;else{if(!n(Ie,Se[0],"VP8X")){if(qe(Ie,Se[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var We=qe(Ie,Se[0]+8),ut=1+$e(Ie,Se[0]+12);if(2147483648<=ut*(Ie=1+$e(Ie,Se[0]+15))){oe=3;break e}Xe!=null&&(Xe[0]=We),Le!=null&&(Le[0]=ut),Ne!=null&&(Ne[0]=Ie),Se[0]+=18,oe[0]-=18,Qe[0]=1}oe=0}}if(ye=ye[0],ke=ke[0],oe!=0)return oe;if(Se=!!(2&ke),!ue&&ye)return 3;if(U!=null&&(U[0]=!!(16&ke)),q!=null&&(q[0]=Se),H!=null&&(H[0]=0),q=Y[0],ke=se[0],ye&&Se&&G==null){oe=0;break}if(4>x){oe=7;break}if(ue&&ye||!ue&&!ye&&!n(h,g[0],"ALPH")){x=[x],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{We=h,oe=g,ue=x;var Qe=de.gb;Le=de.na,Ne=de.P,Xe=de.Sa,ut=22,e(We!=null),e(ue!=null),Ie=oe[0];var qt=ue[0];for(e(Le!=null),e(Xe!=null),Le[0]=null,Ne[0]=null,Xe[0]=0;;){if(oe[0]=Ie,ue[0]=qt,8>qt){oe=7;break e}var Qt=qe(We,Ie+4);if(4294967286<Qt){oe=3;break e}var Ut=8+Qt+1&-2;if(ut+=Ut,0<Qe&&ut>Qe){oe=3;break e}if(!n(We,Ie,"VP8 ")||!n(We,Ie,"VP8L")){oe=0;break e}if(qt[0]<Ut){oe=7;break e}n(We,Ie,"ALPH")||(Le[0]=We,Ne[0]=Ie+8,Xe[0]=Qt),Ie+=Ut,qt-=Ut}}if(x=x[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],oe!=0)break}x=[x],de.Ja=[de.Ja],de.xa=[de.xa];e:if(Qe=h,oe=g,ue=x,Le=de.gb[0],Ne=de.Ja,Xe=de.xa,We=oe[0],Ie=!n(Qe,We,"VP8 "),ut=!n(Qe,We,"VP8L"),e(Qe!=null),e(ue!=null),e(Ne!=null),e(Xe!=null),8>ue[0])oe=7;else{if(Ie||ut){if(Qe=qe(Qe,We+4),12<=Le&&Qe>Le-12){oe=3;break e}if(ve&&Qe>ue[0]-8){oe=7;break e}Ne[0]=Qe,oe[0]+=8,ue[0]-=8,Xe[0]=ut}else Xe[0]=5<=ue[0]&&Qe[We+0]==47&&!(Qe[We+4]>>5),Ne[0]=ue[0];oe=0}if(x=x[0],de.Ja=de.Ja[0],de.xa=de.xa[0],g=g[0],oe!=0)break;if(4294967286<de.Ja)return 3;if(H==null||Se||(H[0]=de.xa?2:1),q=[q],ke=[ke],de.xa){if(5>x){oe=7;break}H=q,ve=ke,Se=U,h==null||5>x?h=0:5<=x&&h[g+0]==47&&!(h[g+4]>>5)?(ue=[0],Qe=[0],Le=[0],Z(Ne=new O,h,g,x),tt(Ne,ue,Qe,Le)?(H!=null&&(H[0]=ue[0]),ve!=null&&(ve[0]=Qe[0]),Se!=null&&(Se[0]=Le[0]),h=1):h=0):h=0}else{if(10>x){oe=7;break}H=ke,h==null||10>x||!nu(h,g+3,x-3)?h=0:(ve=h[g+0]|h[g+1]<<8|h[g+2]<<16,Se=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=de.Ja||!Se||!h?h=0:(q&&(q[0]=Se),H&&(H[0]=h),h=1))}if(!h||(q=q[0],ke=ke[0],ye&&(Y[0]!=q||se[0]!=ke)))return 3;G!=null&&(G[0]=de,G.offset=g-G.w,e(4294967286>g-G.w),e(G.offset==G.ha-x));break}return oe==0||oe==7&&ye&&G==null?(U!=null&&(U[0]|=de.na!=null&&0<de.na.length),k!=null&&(k[0]=q),V!=null&&(V[0]=ke),0):oe}function dd(h,g,x){var k=g.width,V=g.height,U=0,q=0,H=k,G=V;if(g.Da=h!=null&&0<h.Da,g.Da&&(H=h.cd,G=h.bd,U=h.v,q=h.j,11>x||(U&=-2,q&=-2),0>U||0>q||0>=H||0>=G||U+H>k||q+G>V))return 0;if(g.v=U,g.j=q,g.va=U+H,g.o=q+G,g.U=H,g.T=G,g.da=h!=null&&0<h.da,g.da){if(!yt(H,G,x=[h.ib],U=[h.hb]))return 0;g.ib=x[0],g.hb=U[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*k/4&&g.hb<3*V/4,g.Kb=0),1}function fd(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function vc(h,g,x,k){if(k==null||0>=h||0>=g)return 2;if(x!=null){if(x.Da){var V=x.cd,U=x.bd,q=-2&x.v,H=-2&x.j;if(0>q||0>H||0>=V||0>=U||q+V>h||H+U>g)return 2;h=V,g=U}if(x.da){if(!yt(h,g,V=[x.ib],U=[x.hb]))return 2;h=V[0],g=U[0]}}k.width=h,k.height=g;e:{var G=k.width,Y=k.height;if(h=k.S,0>=G||0>=Y||!(h>=jp&&13>h))h=2;else{if(0>=k.Rd&&k.sd==null){q=U=V=g=0;var se=(H=G*kb[h])*Y;if(11>h||(U=(Y+1)/2*(g=(G+1)/2),h==12&&(q=(V=G)*Y)),(Y=s(se+2*U+q))==null){h=1;break e}k.sd=Y,11>h?((G=k.f.RGBA).eb=Y,G.fb=0,G.A=H,G.size=se):((G=k.f.kb).y=Y,G.O=0,G.fa=H,G.Fd=se,G.f=Y,G.N=0+se,G.Ab=g,G.Cd=U,G.ea=Y,G.W=0+se+U,G.Db=g,G.Ed=U,h==12&&(G.F=Y,G.J=0+se+2*U),G.Tc=q,G.lb=V)}if(g=1,V=k.S,U=k.width,q=k.height,V>=jp&&13>V)if(11>V)h=k.f.RGBA,g&=(H=Math.abs(h.A))*(q-1)+U<=h.size,g&=H>=U*kb[V],g&=h.eb!=null;else{h=k.f.kb,H=(U+1)/2,se=(q+1)/2,G=Math.abs(h.fa),Y=Math.abs(h.Ab);var ye=Math.abs(h.Db),ve=Math.abs(h.lb),de=ve*(q-1)+U;g&=G*(q-1)+U<=h.Fd,g&=Y*(se-1)+H<=h.Cd,g=(g&=ye*(se-1)+H<=h.Ed)&G>=U&Y>=H&ye>=H,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,V==12&&(g&=ve>=U,g&=de<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||x!=null&&x.fd&&(h=fd(k)),h}var gr=64,wc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xc=24,bc=32,pd=8,ci=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(h){return h},N.Predictor2=function(h,g,x){return g[x+0]},N.Predictor3=function(h,g,x){return g[x+1]},N.Predictor4=function(h,g,x){return g[x-1]},N.Predictor5=function(h,g,x){return He(He(h,g[x+1]),g[x+0])},N.Predictor6=function(h,g,x){return He(h,g[x-1])},N.Predictor7=function(h,g,x){return He(h,g[x+0])},N.Predictor8=function(h,g,x){return He(g[x-1],g[x+0])},N.Predictor9=function(h,g,x){return He(g[x+0],g[x+1])},N.Predictor10=function(h,g,x){return He(He(h,g[x-1]),He(g[x+0],g[x+1]))},N.Predictor11=function(h,g,x){var k=g[x+0];return 0>=xt(k>>24&255,h>>24&255,(g=g[x-1])>>24&255)+xt(k>>16&255,h>>16&255,g>>16&255)+xt(k>>8&255,h>>8&255,g>>8&255)+xt(255&k,255&h,255&g)?k:h},N.Predictor12=function(h,g,x){var k=g[x+0];return(st((h>>24&255)+(k>>24&255)-((g=g[x-1])>>24&255))<<24|st((h>>16&255)+(k>>16&255)-(g>>16&255))<<16|st((h>>8&255)+(k>>8&255)-(g>>8&255))<<8|st((255&h)+(255&k)-(255&g)))>>>0},N.Predictor13=function(h,g,x){var k=g[x-1];return(ht((h=He(h,g[x+0]))>>24&255,k>>24&255)<<24|ht(h>>16&255,k>>16&255)<<16|ht(h>>8&255,k>>8&255)<<8|ht(h>>0&255,k>>0&255))>>>0};var E1=N.PredictorAdd0;N.PredictorAdd1=me,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var md=N.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Cp,Yi=N.ColorIndexInverseTransform,_c=N.MapARGB,Pp=N.VP8LColorIndexInverseTransformAlpha,Lp=N.MapAlpha,ja=N.VP8LPredictorsAdd=[];ja.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var pu,hi,Jr,Ma,Mo,Fo,Sc,Vo,Dn,gd,Zr,Qi,Ec,Rp,yd,mu,gu,Fa,yu,Ac,vu,Va,vd,Xi,Ji,un,cn,On,tr=s(511),Bo=s(2041),wd=s(225),Tc=s(767),Dp=0,A1=Bo,Op=wd,Pi=Tc,Zi=tr,jp=0,Mp=1,yb=2,Fp=3,Vp=4,T1=5,vb=6,I1=7,N1=8,Bp=9,k1=10,zL=[2,3,7],qL=[3,3,11],wb=[280,256,256,256,40],$L=[0,1,1,1,0],HL=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WL=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],GL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],KL=8,C1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],P1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xd=null,YL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],XL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JL=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ZL=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],eR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ba=[],Es=[],Uo=[],tR=1,bb=2,Ua=[],es=[];Ae("UpsampleRgbLinePair",$,3),Ae("UpsampleBgrLinePair",ce,3),Ae("UpsampleRgbaLinePair",At,4),Ae("UpsampleBgraLinePair",Ot,4),Ae("UpsampleArgbLinePair",Et,4),Ae("UpsampleRgba4444LinePair",Oe,2),Ae("UpsampleRgb565LinePair",xe,2);var nR=N.UpsampleRgbLinePair,rR=N.UpsampleBgrLinePair,_b=N.UpsampleRgbaLinePair,Sb=N.UpsampleBgraLinePair,Eb=N.UpsampleArgbLinePair,Ab=N.UpsampleRgba4444LinePair,iR=N.UpsampleRgb565LinePair,Up=16,zp=1<<Up-1,bd=-227,L1=482,Tb=6,sR=(256<<Tb)-1,Ib=0,oR=s(256),aR=s(256),lR=s(256),uR=s(256),cR=s(L1-bd),hR=s(L1-bd);sn("YuvToRgbRow",$,3),sn("YuvToBgrRow",ce,3),sn("YuvToRgbaRow",At,4),sn("YuvToBgraRow",Ot,4),sn("YuvToArgbRow",Et,4),sn("YuvToRgba4444Row",Oe,2),sn("YuvToRgb565Row",xe,2);var Nb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qp=[0,2,8],dR=[8,7,6,4,4,2,2,2,1,1,1,1],fR=1;this.WebPDecodeRGBA=function(h,g,x,k,V){var U=Mp,q=new Oo,H=new fr;q.ba=H,H.S=U,H.width=[H.width],H.height=[H.height];var G=H.width,Y=H.height,se=new Ai;if(se==null||h==null)var ye=2;else e(se!=null),ye=no(h,g,x,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ye!=0?G=0:(G!=null&&(G[0]=se.width[0]),Y!=null&&(Y[0]=se.height[0]),G=1),G){H.width=H.width[0],H.height=H.height[0],k!=null&&(k[0]=H.width),V!=null&&(V[0]=H.height);e:{if(k=new ko,(V=new La).data=h,V.w=g,V.ha=x,V.kd=1,g=[0],e(V!=null),((h=no(V.data,V.w,V.ha,null,null,null,g,null,V))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(e(q!=null),k.data=V.data,k.w=V.w+V.offset,k.ha=V.ha-V.offset,k.put=Ir,k.ac=$n,k.bc=Ti,k.ma=q,V.xa){if((h=Rn())==null){q=1;break e}if(function(ve,de){var ke=[0],Se=[0],oe=[0];t:for(;;){if(ve==null)return 0;if(de==null)return ve.a=2,0;if(ve.l=de,ve.a=0,Z(ve.m,de.data,de.w,de.ha),!tt(ve.m,ke,Se,oe)){ve.a=3;break t}if(ve.xb=bb,de.width=ke[0],de.height=Se[0],!Ii(ke[0],Se[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(h,k)){if(k=(g=vc(k.width,k.height,q.Oa,q.ba))==0){t:{k=h;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((x=k.l)!=null),e((V=x.ma)!=null),k.xb!=0){if(k.ca=V.ba,k.tb=V.tb,e(k.ca!=null),!dd(V.Oa,x,Fp)){k.a=2;break n}if(!Hs(k,x.width)||x.da)break n;if((x.da||St(k.ca.S))&&he(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&he()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!ot(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!Yr(k,k.V,k.Ba,k.c,k.i,x.o,va))break n;V.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(g=h.a)}else g=h.a}else{if((h=new tu)==null){q=1;break e}if(h.Fa=V.na,h.P=V.P,h.qc=V.Sa,ru(h,k)){if((g=vc(k.width,k.height,q.Oa,q.ba))==0){if(h.Aa=0,x=q.Oa,e((V=h)!=null),x!=null){if(0<(G=0>(G=x.Md)?0:100<G?255:255*G/100)){for(Y=se=0;4>Y;++Y)12>(ye=V.pb[Y]).lc&&(ye.ia=G*dR[0>ye.lc?0:ye.lc]>>3),se|=ye.ia;se&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=x.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}hc(h,k)||(g=h.a)}}else g=h.a}g==0&&q.Oa!=null&&q.Oa.fd&&(g=fd(q.ba))}q=g}U=q!=0?null:11>U?H.f.RGBA.eb:H.f.kb.y}else U=null;return U};var kb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(N,R){for(var M="",T=0;T<4;T++)M+=String.fromCharCode(N[R++]);return M}function c(N,R){return(N[R+0]<<0|N[R+1]<<8|N[R+2]<<16)>>>0}function d(N,R){return(N[R+0]<<0|N[R+1]<<8|N[R+2]<<16|N[R+3]<<24)>>>0}new l;var m=[0],p=[0],_=[],b=new l,I=t,w=function(N,R){var M={},T=0,C=!1,D=0,X=0;if(M.frames=[],!function(L,J,ee,re){for(var ge=0;ge<re;ge++)if(L[J+ge]!=ee.charCodeAt(ge))return!0;return!1}(N,R,"RIFF",4)){var fe,pe;for(d(N,R+=4),R+=8;R<N.length;){var ae=u(N,R),Z=d(N,R+=4);R+=4;var le=Z+(1&Z);switch(ae){case"VP8 ":case"VP8L":M.frames[T]===void 0&&(M.frames[T]={}),(O=M.frames[T]).src_off=C?X:R-8,O.src_size=D+Z+8,T++,C&&(C=!1,D=0,X=0);break;case"VP8X":(O=M.header={}).feature_flags=N[R];var z=R+4;O.canvas_width=1+c(N,z),z+=3,O.canvas_height=1+c(N,z),z+=3;break;case"ALPH":C=!0,D=le+8,X=R-8;break;case"ANIM":(O=M.header).bgcolor=d(N,R),z=R+4,O.loop_count=(fe=N)[(pe=z)+0]<<0|fe[pe+1]<<8,z+=2;break;case"ANMF":var _e,O;(O=M.frames[T]={}).offset_x=2*c(N,R),R+=3,O.offset_y=2*c(N,R),R+=3,O.width=1+c(N,R),R+=3,O.height=1+c(N,R),R+=3,O.duration=c(N,R),R+=3,_e=N[R++],O.dispose=1&_e,O.blend=_e>>1&1}ae!="ANMF"&&(R+=le)}return M}}(I,0);w.response=I,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,A=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,m=[S.canvas_height],p=[S.canvas_width];for(var B=0;B<A.length&&A[B].blend!=0;B++);}var K=A[0],W=b.WebPDecodeRGBA(I,K.src_off,K.src_size,p,m);K.rgba=W,K.imgwidth=p[0],K.imgheight=m[0];for(var j=0;j<p[0]*m[0]*4;j++)_[j]=W[j];return this.width=p,this.height=m,this.data=_,this}(function(t){var e=function(){return typeof l5=="function"},n=function(m,p,_,b){var I=4,w=o;switch(b){case t.image_compression.FAST:I=1,w=s;break;case t.image_compression.MEDIUM:I=6,w=a;break;case t.image_compression.SLOW:I=9,w=l}m=r(m,p,_,w);var S=l5(m,{level:I});return t.__addimage__.arrayBufferToBinaryString(S)},r=function(m,p,_,b){for(var I,w,S,A=m.length/p,B=new Uint8Array(m.length+A),K=c(),W=0;W<A;W+=1){if(S=W*p,I=m.subarray(S,S+p),b)B.set(b(I,_,w),S+W);else{for(var j,N=K.length,R=[];j<N;j+=1)R[j]=K[j](I,_,w);var M=d(R.concat());B.set(R[M],S+W)}w=I}return B},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var _,b=[],I=m.length;b[0]=1;for(var w=0;w<I;w+=1)_=m[w-p]||0,b[w+1]=m[w]-_+256&255;return b},o=function(m,p,_){var b,I=[],w=m.length;I[0]=2;for(var S=0;S<w;S+=1)b=_&&_[S]||0,I[S+1]=m[S]-b+256&255;return I},a=function(m,p,_){var b,I,w=[],S=m.length;w[0]=3;for(var A=0;A<S;A+=1)b=m[A-p]||0,I=_&&_[A]||0,w[A+1]=m[A]+256-(b+I>>>1)&255;return w},l=function(m,p,_){var b,I,w,S,A=[],B=m.length;A[0]=4;for(var K=0;K<B;K+=1)b=m[K-p]||0,I=_&&_[K]||0,w=_&&_[K-p]||0,S=u(b,I,w),A[K+1]=m[K]-S+256&255;return A},u=function(m,p,_){if(m===p&&p===_)return m;var b=Math.abs(p-_),I=Math.abs(m-_),w=Math.abs(m+p-_-_);return b<=I&&b<=w?m:I<=w?p:_},c=function(){return[i,s,o,a,l]},d=function(m){var p=m.map(function(_){return _.reduce(function(b,I){return b+Math.abs(I)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(m,p,_,b){var I,w,S,A,B,K,W,j,N,R,M,T,C,D,X,fe=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(S=new tee(m)).imgData,w=S.bits,I=S.colorSpace,B=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){N=(j=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,M=new Uint8Array(N*S.colors),R=new Uint8Array(N);var ae,Z=S.pixelBitlength-S.bits;for(D=0,X=0;D<N;D++){for(C=j[D],ae=0;ae<Z;)M[X++]=C>>>ae&255,ae+=S.bits;R[D]=C>>>ae&255}}if(S.bits===16){N=(j=new Uint32Array(S.decodePixels().buffer)).length,M=new Uint8Array(N*(32/S.pixelBitlength)*S.colors),R=new Uint8Array(N*(32/S.pixelBitlength)),T=S.colors>1,D=0,X=0;for(var le=0;D<N;)C=j[D++],M[X++]=C>>>0&255,T&&(M[X++]=C>>>16&255,C=j[D++],M[X++]=C>>>0&255),R[le++]=C>>>16&255;w=8}b!==t.image_compression.NONE&&e()?(m=n(M,S.width*S.colors,S.colors,b),W=n(R,S.width,1,b)):(m=M,W=R,fe=void 0)}if(S.colorType===3&&(I=this.color_spaces.INDEXED,K=S.palette,S.transparency.indexed)){var z=S.transparency.indexed,_e=0;for(D=0,N=z.length;D<N;++D)_e+=z[D];if((_e/=255)===N-1&&z.indexOf(0)!==-1)A=[z.indexOf(0)];else if(_e!==N){for(j=S.decodePixels(),R=new Uint8Array(j.length),D=0,N=j.length;D<N;D++)R[D]=z[j[D]];W=n(R,S.width,1)}}var O=function(L){var J;switch(L){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(b);return fe===this.decode.FLATE_DECODE&&(pe="/Predictor "+O+" "),pe+="/Colors "+B+" /BitsPerComponent "+w+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(W&&this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W))&&(W=this.__addimage__.arrayBufferToBinaryString(W)),{alias:_,data:m,index:p,filter:fe,decodeParameters:pe,transparency:A,palette:K,sMask:W,predictor:O,width:S.width,height:S.height,bitsPerComponent:w,colorSpace:I}}}})(ft.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new nee(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new av(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ft.API),Ns.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ns.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){an.log("bit decode error:"+n)}},Ns.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ns.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ns.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ns.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ns.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Ns.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ns.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ns.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ns(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new av(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),F3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new F3(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new av(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),ft.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],m=r[u+2],p=r[u+3];s[a++]=c,s[a++]=d,s[a++]=m,o[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jc=ft.API,Rm=jc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,m=0,p=t.length,_=0,b=a[0]||l,I=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?I.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=d&&en(u[r])==="object"&&!isNaN(parseInt(u[r][_],10))?u[r][_]/c:0,I.push((a[r]||b)/l+m)),_=r;return I},D3=jc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return jc.processArabic&&(t=jc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Rm.apply(this,arguments).reduce(function(s,o){return s+o},0)},O3=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},j3=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],m=n.textIndent||0,p=0,_=0,b=t.split(" "),I=Rm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),S=[];b.map(function(B){(B=B.split(/\s*\n/)).length>1?S=S.concat(B.map(function(K,W){return(W&&K.length?`
`:"")+K})):S.push(B[0])}),b=S,l=D3.apply(this,[w,n])}for(s=0,o=b.length;s<o;s++){var A=0;if(r=b[s],l&&r[0]==`
`&&(r=r.substr(1),A=1),m+p+(_=(i=Rm.apply(this,[r,n])).reduce(function(B,K){return B+K},0))>e||A){if(_>e){for(a=O3.apply(this,[r,i,e-(m+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);_=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(B,K){return B+K},0)}else c=[r];d.push(c),m=_+l,p=I}else c.push(r),m+=p+_,p=I}return u=l?function(B,K){return(K?w:"")+B.join(" ")}:function(B){return B.join(" ")},d.map(u)},jc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(j3.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var m,p,_,b,I=["{"];for(var w in d){if(m=d[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(_=s(m).slice(3),b="-"):(_=s(m).slice(2),b=""),_=b+_.slice(0,-1)+r[_.slice(-1)];else{if(en(m)!=="object")throw new Error("Don't know what to do with value type "+en(m)+".");_=o(m)}I.push(p+_)}return I.push("}"),I.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,_,b,I={},w=1,S=I,A=[],B="",K="",W=d.length-1,j=1;j<W;j+=1)(b=d[j])=="'"?m?(_=m.join(""),m=void 0):m=[]:m?m.push(b):b=="{"?(A.push([S,_]),S={},_=void 0):b=="}"?((p=A.pop())[0][p[1]]=S,_=void 0,S=p[0]):b=="-"?w=-1:_===void 0?n.hasOwnProperty(b)?(B+=n[b],_=parseInt(B,16)*w,w=1,B=""):B+=b:n.hasOwnProperty(b)?(K+=n[b],S[_]=parseInt(K,16)*w,w=1,_=void 0,K=""):K+=b;return I},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var m=d.font,p=c.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var _=u.Unicode[m.postScriptName];_&&(m.metadata.Unicode.encoding=_,m.encoding=_.codePages[0])}])}(ft.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(_f(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),function(t){function e(){return(pt.canvg?Promise.resolve(pt.canvg):r5(()=>import("./index.es-EaZVzZaF.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(_){return _.fromString(d,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(m)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function m(_,b){var I,w=!1;for(I=0;I<_.length;I+=1)_[I]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(en(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,b=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?b.push("/"+_+" /"+n[_].value):b.push("/"+_+" "+n[_].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,m=s.length;d<m;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,m;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,m=(a=Object.keys(s).sort(function(p,_){return p-_})).length;d<m;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<m.length;_++)p+=String.fromCharCode(m[_]);var b=u();c({data:p,addLength1:!0,objectId:b}),l("endobj");var I=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+zc(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+zc(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+zc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,m="",p=0;p<d.length;p++)m+=String.fromCharCode(d[p]);var _=u();c({data:m,addLength1:!0,objectId:_}),l("endobj");var b=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var I=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+zc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+zc(a.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},m=d.pdfEscape,p=d.activeFontKey,_=d.fonts,b=p,I="",w=0,S="",A=_[b].encoding;if(_[b].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(S=a,b=p,Array.isArray(a)&&(S=a[0]),w=0;w<S.length;w+=1)_[b].metadata.hasOwnProperty("cmap")&&(o=_[b].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),o||S[w].charCodeAt(0)<256&&_[b].metadata.hasOwnProperty("Unicode")?I+=S[w]:I+="";var B="";return parseInt(b.slice(1))<14||A==="WinAnsiEncoding"?B=m(I,b).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(B=n(I,_[b])),d.isHex=!0,{text:B,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,A=0;this.__bidiEngine__={};var B=function(T){var C=T.charCodeAt(),D=C>>8,X=b[D];return X!==void 0?d[256*X+(255&C)]:D===252||D===253?"AL":w.test(D)?"L":D===8?"R":"N"},K=function(T){for(var C,D=0;D<T.length;D++){if((C=B(T.charAt(D)))==="L")return!1;if(C==="R")return!0}return!1},W=function(T,C,D,X){var fe,pe,ae,Z,le=C[X];switch(le){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(le="AN");break;case"AL":S=!0,le="R";break;case"WS":le="N";break;case"CS":X<1||X+1>=C.length||(fe=D[X-1])!=="EN"&&fe!=="AN"||(pe=C[X+1])!=="EN"&&pe!=="AN"?le="N":S&&(pe="AN"),le=pe===fe?pe:"N";break;case"ES":le=(fe=X>0?D[X-1]:"B")==="EN"&&X+1<C.length&&C[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&D[X-1]==="EN"){le="EN";break}if(S){le="N";break}for(ae=X+1,Z=C.length;ae<Z&&C[ae]==="ET";)ae++;le=ae<Z&&C[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=C.length,ae=X+1;ae<Z&&C[ae]==="NSM";)ae++;if(ae<Z){var z=T[X],_e=z>=1425&&z<=2303||z===64286;if(fe=C[ae],_e&&(fe==="R"||fe==="AL")){le="R";break}}}le=X<1||(fe=C[X-1])==="B"?"N":D[X-1];break;case"B":S=!1,i=!0,le=A;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":le="N"}return le},j=function(T,C,D){var X=T.split("");return D&&N(X,D,{hiLevel:A}),X.reverse(),C&&C.reverse(),X.join("")},N=function(T,C,D){var X,fe,pe,ae,Z,le=-1,z=T.length,_e=0,O=[],L=A?p:m,J=[];for(S=!1,i=!1,s=!1,fe=0;fe<z;fe++)J[fe]=B(T[fe]);for(pe=0;pe<z;pe++){if(Z=_e,O[pe]=W(T,J,O,pe),X=240&(_e=L[Z][_[O[pe]]]),_e&=15,C[pe]=ae=L[_e][5],X>0)if(X===16){for(fe=le;fe<pe;fe++)C[fe]=1;le=-1}else le=-1;if(L[_e][6])le===-1&&(le=pe);else if(le>-1){for(fe=le;fe<pe;fe++)C[fe]=ae;le=-1}J[pe]==="B"&&(C[pe]=0),D.hiLevel|=ae}s&&function(ee,re,ge){for(var we=0;we<ge;we++)if(ee[we]==="S"){re[we]=A;for(var be=we-1;be>=0&&ee[be]==="WS";be--)re[be]=A}}(J,C,z)},R=function(T,C,D,X,fe){if(!(fe.hiLevel<T)){if(T===1&&A===1&&!i)return C.reverse(),void(D&&D.reverse());for(var pe,ae,Z,le,z=C.length,_e=0;_e<z;){if(X[_e]>=T){for(Z=_e+1;Z<z&&X[Z]>=T;)Z++;for(le=_e,ae=Z-1;le<ae;le++,ae--)pe=C[le],C[le]=C[ae],C[ae]=pe,D&&(pe=D[le],D[le]=D[ae],D[ae]=pe);_e=Z}_e++}}},M=function(T,C,D){var X=T.split(""),fe={hiLevel:A};return D||(D=[]),N(X,D,fe),function(pe,ae,Z){if(Z.hiLevel!==0&&c)for(var le,z=0;z<pe.length;z++)ae[z]===1&&(le=I.indexOf(pe[z]))>=0&&(pe[z]=I[le+1])}(X,D,fe),R(2,X,C,D,fe),R(1,X,C,D,fe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,D){if(function(fe,pe){if(pe)for(var ae=0;ae<fe.length;ae++)pe[ae]=ae;a===void 0&&(a=K(fe)),u===void 0&&(u=K(fe))}(T,C),o||!l||u)if(o&&l&&a^u)A=a?1:0,T=j(T,C,D);else if(!o&&l&&u)A=a?1:0,T=M(T,C,D),T=j(T,C);else if(!o||a||l||u){if(o&&!l&&a^u)T=j(T,C),a?(A=0,T=M(T,C,D)):(A=1,T=M(T,C,D),T=j(T,C));else if(o&&a&&!l&&u)A=1,T=M(T,C,D),T=j(T,C);else if(!o&&!l&&a^u){var X=c;a?(A=1,T=M(T,C,D),A=0,c=!1,T=M(T,C,D),c=X):(A=0,T=M(T,C,D),T=j(T,C),A=1,c=!1,T=M(T,C,D),c=X,T=j(T,C))}}else A=0,T=M(T,C,D);else A=a?1:0,T=M(T,C,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,u=T.isOutputRtl,c=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ul(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new yee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ree(this.contents),this.head=new see(this),this.name=new cee(this),this.cmap=new BL(this),this.toUnicode={},this.hhea=new oee(this),this.maxp=new hee(this),this.hmtx=new dee(this),this.post=new lee(this),this.os2=new aee(this),this.loca=new gee(this),this.glyf=new fee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var qs,Ul=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),ree=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,m,p,_,b;for(b in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),c=16*p-d,(i=new Ul).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*p,u=i.pos+s,a=null,_=[],n)for(m=n[b],i.writeString(b),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),_=_.concat(m),b==="head"&&(a=u),u+=m.length;u%4;)_.push(0),u++;return i.write(_),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=UL.call(n);n.length%4;)n.push(0);for(s=new Ul(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),iee={}.hasOwnProperty,Ao=function(t,e){for(var n in e)iee.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};qs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var see=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ul).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),V3=function(){function t(e,n){var r,i,s,o,a,l,u,c,d,m,p,_,b,I,w,S,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var B,K;for(K=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)K.push(e.readUInt16());return K}(),e.pos+=2,b=function(){var B,K;for(K=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)K.push(e.readUInt16());return K}(),u=function(){var B,K;for(K=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)K.push(e.readUInt16());return K}(),c=function(){var B,K;for(K=[],l=B=0;0<=m?B<m:B>m;l=0<=m?++B:--B)K.push(e.readUInt16());return K}(),i=(this.length-e.pos+this.offset)/2,a=function(){var B,K;for(K=[],l=B=0;0<=i?B<i:B>i;l=0<=i?++B:--B)K.push(e.readUInt16());return K}(),l=w=0,A=s.length;w<A;l=++w)for(I=s[l],r=S=_=b[l];_<=I?S<=I:S>=I;r=_<=I?++S:--S)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-_)-(m-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,m,p,_,b,I,w,S,A,B,K,W,j,N,R,M,T,C,D,X,fe,pe,ae,Z,le,z,_e,O,L,J,ee,re,ge,we,be,je,De,$e;switch(X=new Ul,o=Object.keys(e).sort(function(qe,ot){return qe-ot}),n){case"macroman":for(b=0,I=function(){var qe=[];for(_=0;_<256;++_)qe.push(0);return qe}(),S={0:0},s={},fe=0,le=o.length;fe<le;fe++)S[be=e[i=o[fe]]]==null&&(S[be]=++b),s[i]={old:e[i],new:S[e[i]]},I[i]=S[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(I),{charMap:s,subtable:X.data,maxGlyphID:b+1};case"unicode":for(C=[],d=[],A=0,S={},r={},w=u=null,pe=0,z=o.length;pe<z;pe++)S[K=e[i=o[pe]]]==null&&(S[K]=++A),r[i]={old:K,new:S[K]},a=S[K]-i,w!=null&&a===u||(w&&d.push(w),C.push(i),u=a),w=i;for(w&&d.push(w),d.push(65535),C.push(65535),M=2*(R=C.length),N=2*Math.pow(Math.log(R)/Math.LN2,2),m=Math.log(N/2)/Math.LN2,j=2*R-N,l=[],W=[],p=[],_=ae=0,_e=C.length;ae<_e;_=++ae){if(T=C[_],c=d[_],T===65535){l.push(0),W.push(0);break}if(T-(D=r[T].new)>=32768)for(l.push(0),W.push(2*(p.length+R-_)),i=Z=T;T<=c?Z<=c:Z>=c;i=T<=c?++Z:--Z)p.push(r[i].new);else l.push(D-T),W.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*R+2*p.length),X.writeUInt16(0),X.writeUInt16(M),X.writeUInt16(N),X.writeUInt16(m),X.writeUInt16(j),ge=0,O=d.length;ge<O;ge++)i=d[ge],X.writeUInt16(i);for(X.writeUInt16(0),we=0,L=C.length;we<L;we++)i=C[we],X.writeUInt16(i);for(je=0,J=l.length;je<J;je++)a=l[je],X.writeUInt16(a);for(De=0,ee=W.length;De<ee;De++)B=W[De],X.writeUInt16(B);for($e=0,re=p.length;$e<re;$e++)b=p[$e],X.writeUInt16(b);return{charMap:r,subtable:X.data,maxGlyphID:A+1}}},t}(),BL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new V3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=V3.encode(n,r),(s=new Ul).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),oee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),aee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),lee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},e}(),uee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},cee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,u,c,d,m,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=d=0,m=i.length;d<m;o=++d)s=i[o],n.pos=s.offset,c=n.readString(s.length),a=new uee(c,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),hee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),dee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(n.readInt16());return d}(),this.widths=(function(){var c,d,m,p;for(p=[],c=0,d=(m=this.metrics).length;c<d;c++)o=m[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),UL=[].slice,fee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,c,d,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Ul(r.read(s))).readShort(),c=l.readShort(),m=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new mee(l,c,m,u,d):new pee(l,a,c,m,u,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),pee=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),mee=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ul(UL.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),gee=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,qs),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},e}(),yee=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,m,p,_,b,I,w;for(i in r=BL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(_ in m=r.maxGlyphID,o)_ in p||(p[_]=m++);return c=function(S){var A,B;for(A in B={},S)B[S[A]]=A;return B}(p),d=Object.keys(c).sort(function(S,A){return S-A}),b=function(){var S,A,B;for(B=[],S=0,A=d.length;S<A;S++)a=d[S],B.push(c[a]);return B}(),s=this.font.glyf.encode(o,b,p),u=this.font.loca.encode(s.offsets,b),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const vee=()=>{const[t,e]=ne.useState(!0),[n,r]=ne.useState(!0),[i,s]=ne.useState(!0),[o,a]=ne.useState(!0),[l,u]=ne.useState(!0),[c,d]=ne.useState(null),[m,p]=ne.useState(!0),{user:_}=Wi(),b={userName:(_==null?void 0:_.displayName)||"John Doe",ailment:"Fever, Cough",suggestedTreatment:"Paracetamol 500mg - 3 times a day",doctorSuggestions:[{name:"Dr. Smith",specialization:"General Physician",rating:"4.5/5"},{name:"Dr. Jane",specialization:"Internal Medicine",rating:"4.2/5"}],notes:"Drink plenty of water and rest well.",date:new Date().toLocaleDateString()};ne.useEffect(()=>{(async()=>{if(_)try{const S=Ds(Sr(Zt,"bookings"),br("userId","==",_.uid),rW("createdAt","desc"),iW(1)),A=await us(S);if(!A.empty){const B=A.docs[0].data();d({id:A.docs[0].id,doctorName:B.doctorName,appointmentTime:B.appointmentTime,medicalCenterName:B.medicalCenterName,location:B.location,status:B.status})}}catch(S){console.error("Error fetching booking:",S)}finally{p(!1)}})()},[_]);const I=()=>{const w=new ft;w.setFontSize(18),w.text("MediLink AI Treatment Report",20,20),w.setFontSize(12);let S=40;w.text(`Name: ${b.userName}`,20,S),S+=10,w.text(`Ailments: ${b.ailment}`,20,S),S+=10,n&&(w.text(`Suggested Treatment: ${b.suggestedTreatment}`,20,S),S+=10),t&&c&&(w.text(`Doctor: ${c.doctorName}`,20,S),S+=10),i&&(w.text(`Notes: ${b.notes}`,20,S),S+=10),o&&(w.text("Doctor Suggestions:",20,S),S+=10,b.doctorSuggestions.forEach((A,B)=>{w.text(`${B+1}. ${A.name} (${A.specialization})`,20,S),w.text(`Rating: ${A.rating}`,60,S+5),S+=15})),l&&c&&(w.text("Appointment Details:",20,S),S+=10,w.text(`Doctor: ${c.doctorName}`,20,S),S+=10,w.text(`Date & Time: ${c.appointmentTime}`,20,S),S+=10,w.text(`Location: ${c.location}`,20,S),S+=10,w.text(`Medical Center: ${c.medicalCenterName}`,20,S),S+=10,w.text(`Status: ${c.status}`,20,S),S+=10),w.text(`Report Date: ${b.date}`,20,S),w.save("Treatment_Report.pdf")};return v.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 max-w-4xl mx-auto bg-gray-900 text-gray-100 rounded-xl space-y-6",children:[v.jsxs("h2",{className:"text-3xl font-bold text-cyan-400 flex items-center space-x-2",children:[v.jsx(wW,{className:"w-6 h-6"}),v.jsx("span",{children:"Generate Treatment Report"})]}),v.jsx("p",{className:"text-sm text-gray-400",children:"Customize your report before generating. Real-time preview below."}),v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{id:1,label:"Include Doctor Evidence",state:t,setter:e},{id:2,label:"Include Treatment Details",state:n,setter:r},{id:3,label:"Include Notes",state:i,setter:s},{id:4,label:"Include Doctor Suggestions",state:o,setter:a},{id:5,label:"Include Appointment Details",state:l,setter:u}].map(({id:w,label:S,state:A,setter:B})=>v.jsx(ct.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:w*.2},children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("label",{className:"text-sm",children:[S,":"]}),v.jsx("div",{className:`w-10 h-5 rounded-full cursor-pointer ${A?"bg-cyan-500":"bg-gray-500 animate-pulse"} relative`,onClick:()=>B(!A),children:v.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-0.5 transition-transform ${A?"translate-x-5":"translate-x-1"}`})})]})},w))}),v.jsxs("div",{className:"p-4 bg-gray-800 rounded-xl shadow-md max-h-80 overflow-y-auto space-y-3",children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-100",children:"Report Preview"}),m?v.jsx("p",{className:"text-gray-400",children:"Loading booking details..."}):v.jsxs("div",{className:"text-sm space-y-2",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",b.userName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Ailments:"})," ",b.ailment]}),n&&v.jsxs("p",{children:[v.jsx("strong",{children:"Treatment:"})," ",b.suggestedTreatment]}),t&&c&&v.jsxs("p",{children:[v.jsx("strong",{children:"Doctor:"})," ",c.doctorName]}),i&&v.jsxs("p",{children:[v.jsx("strong",{children:"Notes:"})," ",b.notes]}),o&&v.jsxs("div",{children:[v.jsx("strong",{children:"Doctor Suggestions:"}),v.jsx("div",{className:"space-y-2",children:b.doctorSuggestions.map((w,S)=>v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("p",{children:[w.name," (",w.specialization,")"]}),v.jsxs("p",{children:["Rating: ",w.rating]})]},S))})]}),l&&c&&v.jsxs("div",{children:[v.jsx("strong",{children:"Appointment Details:"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:["Doctor: ",c.doctorName]}),v.jsxs("p",{children:["Date & Time: ",c.appointmentTime]}),v.jsxs("p",{children:["Location: ",c.location]}),v.jsxs("p",{children:["Medical Center: ",c.medicalCenterName]}),v.jsxs("p",{children:["Status: ",c.status]})]})]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Date:"})," ",b.date]})]})]}),v.jsxs("button",{onClick:I,className:"w-full flex justify-center gap-5 items-center cyber-button py-2 px-4 rounded-lg transition",children:[v.jsx(x6,{})," Generate PDF Report"]})]})},wee=()=>{const{user:t,setUser:e}=Wi(),[n,r]=ne.useState(""),[i,s]=ne.useState(""),[o,a]=ne.useState(""),[l,u]=ne.useState(""),[c,d]=ne.useState(null),[m,p]=ne.useState(!1),[_,b]=ne.useState(!1),I=ga();ne.useEffect(()=>{t&&(a(t.name||""),r(t.email||""))},[t]);const w=async()=>{p(!0),d(null);const A=new ho;try{const B=await DC(sa,A),K={id:B.user.uid,name:B.user.displayName||B.user.email||"Unknown",email:B.user.email||void 0,role:"user"};await Hh(ii(Zt,"users",B.user.uid),K,{merge:!0}),e(K),a(K.name),r(K.email||"")}catch(B){console.error("Google Sign-In Error:",{code:B.code,message:B.message}),d(B.message||"Failed to sign in with Google.")}finally{p(!1)}},S=async A=>{A.preventDefault(),p(!0),d(null);try{let B;if(t)B=sa.currentUser;else{if(i.length<6){d("Password must be at least 6 characters long."),p(!1);return}B=(await DU(sa,n,i)).user}if(!B){d("No authenticated user found."),p(!1);return}const K={id:B.uid,name:o,email:n,role:"user"};await Hh(ii(Zt,"users",B.uid),K,{merge:!0}),await $x(Sr(Zt,"medicalCenterRequests"),{centerName:l,userId:B.uid,userName:o,userEmail:n,status:"pending",createdAt:new Date().toISOString()}),e(K),b(!0),setTimeout(()=>I("/"),2e3)}catch(B){console.error("Registration Error:",{code:B.code,message:B.message}),d(B.code==="auth/weak-password"?"Password must be at least 6 characters long.":B.message||"Failed to register. Please try again.")}finally{p(!1)}};return v.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:v.jsxs("div",{className:"cyber-card p-8 max-w-md w-full",children:[v.jsx("h2",{className:"text-3xl font-bold neon-text mb-6 text-center",children:"MediLink Registration"}),c&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 bg-red-900/20 border border-red-500/30 p-3 rounded-lg text-center mb-4",children:c}),_&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"text-cyan-400 bg-cyan-900/20 border border-cyan-500/30 p-3 rounded-lg text-center mb-4",children:"Request submitted successfully! Redirecting..."}),!t&&v.jsxs("button",{onClick:w,disabled:m,className:"cyber-button w-full flex items-center justify-center space-x-2 mb-4",children:[v.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M12.24 10.493v2.808h4.633c-.186 1.24-.76 2.28-1.704 2.976l2.784 2.136c1.704-1.584 2.688-3.84 2.688-6.312 0-.672-.072-1.32-.192-1.944h-8.209zm-1.128-2.808v2.808h-4.632c.192 1.248.768 2.28 1.704 2.976l-2.784 2.136c-1.704-1.584-2.688-3.84-2.688-6.312 0-.672.072-1.32.192-1.944h8.208zm1.128-2.808c-3.84 0-7.104 2.496-8.304 6h16.608c-1.2-3.504-4.464-6-8.304-6zm0-2.4c5.328 0 9.672 4.344 9.672 9.672s-4.344 9.672-9.672 9.672-9.672-4.344-9.672-9.672 4.344-9.672 9.672-9.672z"})}),v.jsx("span",{children:m?"Processing...":"Sign in with Google"})]}),v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(np,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"text",placeholder:"Full Name",value:o,onChange:A=>a(A.target.value),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(S6,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:A=>r(A.target.value),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0,disabled:!!t})]}),!t&&v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(_6,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"password",placeholder:"Password (min 6 characters)",value:i,onChange:A=>s(A.target.value),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Wx,{className:"w-5 h-5 text-cyan-400"}),v.jsx("input",{type:"text",placeholder:"Medical Center Name (Request)",value:l,onChange:A=>u(A.target.value),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("button",{type:"submit",disabled:m,className:"cyber-button w-full flex items-center justify-center space-x-2",children:[v.jsx(np,{className:"w-5 h-5"}),v.jsx("span",{children:m?"Submitting...":"Submit Request"})]})]}),v.jsxs("p",{className:"mt-4 text-center text-gray-400",children:["Already have an account?"," ",v.jsx("a",{href:"/login",className:"text-cyan-400 hover:underline",children:"Login"})]})]})})},xee=({activeSection:t,setActiveSection:e})=>v.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"w-full sm:w-48 md:w-56 lg:w-64 bg-gray-900/95 p-4 sm:p-6 border-r border-cyan-500/30 shadow-lg shadow-cyan-500/10 min-h-screen",children:[v.jsx("div",{className:"mb-6 sm:mb-8",children:v.jsx("h2",{className:"text-xl sm:text-2xl font-bold neon-text bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-pink-500",children:"Admin Menu"})}),v.jsxs("nav",{className:"space-y-3 sm:space-y-4",children:[v.jsxs("button",{onClick:()=>e("dashboard"),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all duration-200 ${t==="dashboard"?"bg-cyan-500/20 text-cyan-400 neon-text shadow-md shadow-cyan-500/30":"text-gray-300 hover:bg-gray-800 hover:text-cyan-400"}`,children:[v.jsx(Wx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Dashboard"})]}),v.jsxs("button",{onClick:()=>e("add-doctor"),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all duration-200 ${t==="add-doctor"?"bg-cyan-500/20 text-cyan-400 neon-text shadow-md shadow-cyan-500/30":"text-gray-300 hover:bg-gray-800 hover:text-cyan-400"}`,children:[v.jsx(Qx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Add Doctor"})]}),v.jsxs("button",{onClick:()=>e("bookings"),className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all duration-200 ${t==="bookings"?"bg-cyan-500/20 text-cyan-400 neon-text shadow-md shadow-cyan-500/30":"text-gray-300 hover:bg-gray-800 hover:text-cyan-400"}`,children:[v.jsx(w6,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Bookings"})]})]})]}),bee=({medicalCenter:t,setDoctors:e,setError:n})=>{var a,l,u,c,d,m,p,_,b;const{user:r}=Wi(),[i,s]=ne.useState({name:"",specialty:"",rating:4,reviews:0,location:"",image:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?auto=format&fit=crop&q=80&w=300&h=300",bio:"",education:"",experience:"",procedures:[],availability:{status:"Available",nextSlot:"",schedule:[]},pharmacies:[],privateClinic:{name:"",address:"",facilities:[],appointments:""},addedBy:(r==null?void 0:r.id)||""}),o=async I=>{if(I.preventDefault(),!t){n("No medical center assigned.");return}if(!r){n("No user authenticated.");return}try{if(!(await us(Ds(Sr(Zt,"doctors"),br("name","==",i.name)))).empty){n("This doctor is already registered with another medical center.");return}const S={name:i.name||"",specialty:i.specialty||"",rating:i.rating||4,reviews:i.reviews||0,location:i.location||"",image:i.image||"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?auto=format&fit=crop&q=80&w=300&h=300",bio:i.bio||"",education:i.education||"",experience:i.experience||"",procedures:i.procedures||[],availability:i.availability||{status:"Available",nextSlot:"",schedule:[]},pharmacies:i.pharmacies||[],privateClinic:i.privateClinic||{name:"",address:"",facilities:[],appointments:""},medicalCenterId:t.id,medicalCenterName:t.name,addedBy:r.id},A=await $x(Sr(Zt,"doctors"),S);e(B=>[...B,{...S,id:A.id}]),s({name:"",specialty:"",rating:4,reviews:0,location:"",image:"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?auto=format&fit=crop&q=80&w=300&h=300",bio:"",education:"",experience:"",procedures:[],availability:{status:"Available",nextSlot:"",schedule:[]},pharmacies:[],privateClinic:{name:"",address:"",facilities:[],appointments:""},addedBy:r.id}),alert("Doctor added successfully!")}catch(w){console.error("Error adding doctor:",{code:w.code,message:w.message}),n(w.message||"Failed to add doctor.")}};return v.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text mb-4",children:"Add New Doctor"}),v.jsxs("form",{onSubmit:o,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Name"}),v.jsx("input",{type:"text",value:i.name,onChange:I=>s({...i,name:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Specialty"}),v.jsx("input",{type:"text",value:i.specialty,onChange:I=>s({...i,specialty:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Location"}),v.jsx("input",{type:"text",value:i.location,onChange:I=>s({...i,location:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Image URL"}),v.jsx("input",{type:"text",value:i.image,onChange:I=>s({...i,image:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Bio"}),v.jsx("textarea",{value:i.bio,onChange:I=>s({...i,bio:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Education"}),v.jsx("input",{type:"text",value:i.education,onChange:I=>s({...i,education:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Experience"}),v.jsx("input",{type:"text",value:i.experience,onChange:I=>s({...i,experience:I.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Procedures (comma-separated)"}),v.jsx("input",{type:"text",value:(a=i.procedures)==null?void 0:a.join(", "),onChange:I=>s({...i,procedures:I.target.value.split(", ")}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Availability Status"}),v.jsxs("select",{value:(l=i.availability)==null?void 0:l.status,onChange:I=>s({...i,availability:{...i.availability,status:I.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",children:[v.jsx("option",{value:"Available",children:"Available"}),v.jsx("option",{value:"Unavailable",children:"Unavailable"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Next Available Slot"}),v.jsx("input",{type:"text",value:(u=i.availability)==null?void 0:u.nextSlot,onChange:I=>s({...i,availability:{...i.availability,nextSlot:I.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Schedule (comma-separated)"}),v.jsx("input",{type:"text",value:(d=(c=i.availability)==null?void 0:c.schedule)==null?void 0:d.join(", "),onChange:I=>s({...i,availability:{...i.availability,schedule:I.target.value.split(", ")}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Private Clinic Name"}),v.jsx("input",{type:"text",value:(m=i.privateClinic)==null?void 0:m.name,onChange:I=>s({...i,privateClinic:{...i.privateClinic,name:I.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Private Clinic Address"}),v.jsx("input",{type:"text",value:(p=i.privateClinic)==null?void 0:p.address,onChange:I=>s({...i,privateClinic:{...i.privateClinic,address:I.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Private Clinic Facilities (comma-separated)"}),v.jsx("input",{type:"text",value:(b=(_=i.privateClinic)==null?void 0:_.facilities)==null?void 0:b.join(", "),onChange:I=>s({...i,privateClinic:{...i.privateClinic,facilities:I.target.value.split(", ")}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("button",{type:"submit",className:"cyber-button w-full flex items-center justify-center space-x-2",children:[v.jsx(Qx,{className:"w-5 h-5"}),v.jsx("span",{children:"Add Doctor"})]})]})]})},_ee=({selectedDoctor:t,setDoctors:e,setError:n,setActiveSection:r})=>{const[i,s]=ne.useState(null);ne.useEffect(()=>{t?s({...t}):(n("No doctor selected."),r("dashboard"))},[t,n,r]);const o=async a=>{if(a.preventDefault(),!i||!i.id){n("No doctor selected for update.");return}try{const l=ii(Zt,"doctors",i.id),u={name:i.name||"",specialty:i.specialty||"",rating:i.rating||4,reviews:i.reviews||0,location:i.location||"",image:i.image||"",bio:i.bio||"",education:i.education||"",experience:i.experience||"",procedures:i.procedures||[],availability:i.availability||{status:"Available",nextSlot:"",schedule:[]},pharmacies:i.pharmacies||[],privateClinic:i.privateClinic||{name:"",address:"",facilities:[],appointments:""},addedBy:i.addedBy||""};await qx(l,u),e(c=>c.map(d=>d.id===i.id?i:d)),r("dashboard"),alert("Doctor updated successfully!")}catch(l){console.error("Error updating doctor:",{code:l.code,message:l.message}),n(l.code==="permission-denied"?"Insufficient permissions to update doctor.":l.message||"Failed to update doctor.")}};return i?v.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6",children:[v.jsxs("h2",{className:"text-2xl font-bold neon-text mb-4",children:["Edit Doctor: ",i.name]}),v.jsxs("form",{onSubmit:o,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Name"}),v.jsx("input",{type:"text",value:i.name,onChange:a=>s({...i,name:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Specialty"}),v.jsx("input",{type:"text",value:i.specialty,onChange:a=>s({...i,specialty:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Location"}),v.jsx("input",{type:"text",value:i.location,onChange:a=>s({...i,location:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Image URL"}),v.jsx("input",{type:"text",value:i.image,onChange:a=>s({...i,image:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Bio"}),v.jsx("textarea",{value:i.bio,onChange:a=>s({...i,bio:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Education"}),v.jsx("input",{type:"text",value:i.education,onChange:a=>s({...i,education:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Experience"}),v.jsx("input",{type:"text",value:i.experience,onChange:a=>s({...i,experience:a.target.value}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Procedures (comma-separated)"}),v.jsx("input",{type:"text",value:i.procedures.join(", "),onChange:a=>s({...i,procedures:a.target.value.split(", ").filter(Boolean)}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Availability Status"}),v.jsxs("select",{value:i.availability.status,onChange:a=>s({...i,availability:{...i.availability,status:a.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400",children:[v.jsx("option",{value:"Available",children:"Available"}),v.jsx("option",{value:"Unavailable",children:"Unavailable"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Next Available Slot"}),v.jsx("input",{type:"text",value:i.availability.nextSlot,onChange:a=>s({...i,availability:{...i.availability,nextSlot:a.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Schedule (comma-separated)"}),v.jsx("input",{type:"text",value:i.availability.schedule.join(", "),onChange:a=>s({...i,availability:{...i.availability,schedule:a.target.value.split(", ").filter(Boolean)}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Private Clinic Name"}),v.jsx("input",{type:"text",value:i.privateClinic.name,onChange:a=>s({...i,privateClinic:{...i.privateClinic,name:a.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Private Clinic Address"}),v.jsx("input",{type:"text",value:i.privateClinic.address,onChange:a=>s({...i,privateClinic:{...i.privateClinic,address:a.target.value}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400",children:"Private Clinic Facilities (comma-separated)"}),v.jsx("input",{type:"text",value:i.privateClinic.facilities.join(", "),onChange:a=>s({...i,privateClinic:{...i.privateClinic,facilities:a.target.value.split(", ").filter(Boolean)}}),className:"w-full p-2 rounded-lg bg-gray-800 border border-cyan-500/30 focus:outline-none focus:border-cyan-400"})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsxs("button",{type:"submit",className:"cyber-button w-full flex items-center justify-center space-x-2",children:[v.jsx(AW,{className:"w-5 h-5"}),v.jsx("span",{children:"Save Changes"})]}),v.jsx("button",{type:"button",className:"cyber-button w-full flex items-center justify-center space-x-2 bg-gray-600",onClick:()=>r("dashboard"),children:v.jsx("span",{children:"Cancel"})})]})]})]}):v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"cyber-card p-6 text-red-400 bg-red-900/20 border border-red-500/30 rounded-lg text-center",children:"No doctor selected."})},See=({doctors:t,setDoctors:e,setActiveSection:n,setSelectedDoctor:r})=>{const i=ga(),s=async o=>{if(window.confirm("Are you sure you want to remove this doctor?"))try{await lW(ii(Zt,"doctors",o)),e(a=>a.filter(l=>l.id!==o)),alert("Doctor removed successfully!")}catch(a){console.error("Error removing doctor:",{code:a.code,message:a.message}),alert(a.code==="permission-denied"?"Insufficient permissions to delete doctor.":"Failed to remove doctor.")}};return v.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text mb-4",children:"Doctors"}),t.length===0?v.jsx("p",{className:"text-gray-400",children:"No doctors added yet."}):v.jsx("div",{className:"space-y-4",children:t.map(o=>v.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg border border-cyan-500/30",children:[v.jsxs("div",{className:"cursor-pointer hover:text-cyan-400",onClick:()=>i(`/doctor/details/${o.id}`),children:[v.jsx("p",{className:"font-semibold",children:o.name}),v.jsxs("p",{className:"text-sm text-gray-400",children:["Specialty: ",o.specialty]}),v.jsxs("p",{className:"text-sm text-gray-400",children:["Added by: ",o.addedBy]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("button",{onClick:()=>{r(o),n("edit-doctor")},className:"cyber-button flex items-center space-x-1",children:[v.jsx(IW,{className:"w-4 h-4"}),v.jsx("span",{children:"Edit"})]}),v.jsxs("button",{onClick:()=>s(o.id),className:"cyber-button bg-red-500 flex items-center space-x-1",children:[v.jsx(kW,{className:"w-4 h-4"}),v.jsx("span",{children:"Remove"})]})]})]},o.id))})]})},Eee=({medicalCenterId:t})=>{const[e,n]=ne.useState([]),[r,i]=ne.useState(!0),[s,o]=ne.useState(null);return ne.useEffect(()=>{(async()=>{try{const l=Ds(Sr(Zt,"bookings"),br("medicalCenterId","==",t)),c=(await us(l)).docs.map(d=>({id:d.id,...d.data()}));n(c)}catch(l){o(l.message||"Failed to fetch bookings."),console.error(l)}finally{i(!1)}})()},[t]),r?v.jsx("div",{className:"flex items-center justify-center p-6",children:v.jsx(ct.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full"})}):s?v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 bg-red-900/20 border border-red-500/30 p-3 rounded-lg text-center",children:s}):v.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6 rounded-xl border border-cyan-500/30",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text text-cyan-400 mb-4",children:"Bookings"}),e.length===0?v.jsx("p",{className:"text-gray-400",children:"No bookings found for this medical center."}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left text-gray-300",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-cyan-500/20",children:[v.jsx("th",{className:"p-3 font-semibold",children:"Booking Number"}),v.jsx("th",{className:"p-3 font-semibold",children:"User Name"}),v.jsx("th",{className:"p-3 font-semibold",children:"User Email"}),v.jsx("th",{className:"p-3 font-semibold",children:"Doctor"}),v.jsx("th",{className:"p-3 font-semibold",children:"Date & Time"}),v.jsx("th",{className:"p-3 font-semibold",children:"Status"})]})}),v.jsx("tbody",{children:e.map(a=>v.jsxs("tr",{className:"border-b border-cyan-500/20 hover:bg-gray-800/50",children:[v.jsx("td",{className:"p-3",children:a.bookingNumber}),v.jsx("td",{className:"p-3",children:a.userName}),v.jsx("td",{className:"p-3",children:a.userEmail}),v.jsx("td",{className:"p-3",children:a.doctorName}),v.jsx("td",{className:"p-3",children:a.dateTime}),v.jsx("td",{className:"p-3",children:a.status})]},a.id))})]})})]})},Aee=()=>{const{user:t}=Wi(),e=ga(),[n,r]=ne.useState([]),[i,s]=ne.useState(null),[o,a]=ne.useState(null),[l,u]=ne.useState(!0),[c,d]=ne.useState("dashboard"),[m,p]=ne.useState(null);return ne.useEffect(()=>{(async()=>{if(!t){a("No user authenticated."),e("/login");return}try{const b=Ds(Sr(Zt,"users"),br("id","==",t.id),br("role","==","admin-1"));if((await us(b)).empty){a("Unauthorized access. Admin role required."),e("/login");return}const w=Ds(Sr(Zt,"medicalCenters"),br("adminId","==",t.id)),S=await us(w);if(S.empty){const A=Ds(Sr(Zt,"medicalCenterRequests"),br("userId","==",t.id),br("status","==","approved")),B=await us(A);if(B.empty){a("No approved medical center request found. Please submit a request."),u(!1);return}else{const W={name:B.docs[0].data().centerName,adminId:t.id,createdAt:new Date().toISOString()},j=ii(Sr(Zt,"medicalCenters"));await Hh(j,W),s({id:j.id,name:W.name})}}else{const A=S.docs[0].data();s({id:S.docs[0].id,name:A.name})}if(i!=null&&i.id){const A=Ds(Sr(Zt,"doctors"),br("medicalCenterId","==",i.id)),K=(await us(A)).docs.map(W=>{var j;return{id:W.id,...W.data(),conditions:Array.isArray(W.data().conditions)?W.data().conditions:[],procedures:Array.isArray(W.data().procedures)?W.data().procedures:[],availability:W.data().availability||{status:"Unavailable",nextSlot:"",schedule:[]},isAvailable:((j=W.data().availability)==null?void 0:j.status)==="Available"}});r(K)}}catch(b){console.error("Error in AdminDashboard:",{code:b.code,message:b.message}),a(b.code==="permission-denied"?"Insufficient permissions to access data. Please ensure your account has the correct access.":b.message||"Failed to load dashboard.")}finally{u(!1)}})()},[t,e,i]),l?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:v.jsx(ct.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-8 h-8 border-2 border-cyan-400 border-t-transparent rounded-full"})}):v.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gray-900 text-cyan-50 flex",children:[v.jsx(xee,{activeSection:c,setActiveSection:d,doctors:n}),v.jsx("div",{className:"flex-1 p-4 sm:p-6 sm:pl-12 lg:pl-8",children:v.jsxs("div",{className:"container mx-auto max-w-7xl",children:[v.jsx("div",{className:"mb-6",children:v.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold neon-text",children:[(i==null?void 0:i.name)||"Medical Center"," Admin Dashboard"]})}),o&&v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 bg-red-900/20 border border-red-500/30 p-3 rounded-lg text-center mb-4",children:o}),c==="add-doctor"&&v.jsx(bee,{medicalCenter:i,setDoctors:r,setError:a}),c==="edit-doctor"&&v.jsx(_ee,{selectedDoctor:m,setDoctors:r,setError:a,setActiveSection:d}),c==="bookings"&&i&&v.jsx(Eee,{medicalCenterId:i.id}),c==="dashboard"&&v.jsxs(v.Fragment,{children:[v.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"cyber-card p-6 mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text mb-4",children:"Admin Details"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{className:"text-gray-400",children:[v.jsx("span",{className:"font-bold",children:"Name:"})," ",(t==null?void 0:t.name)||"N/A"]}),v.jsxs("p",{className:"text-gray-400",children:[v.jsx("span",{className:"font-bold",children:"Email:"})," ",(t==null?void 0:t.email)||"N/A"]}),v.jsxs("p",{className:"text-gray-400",children:[v.jsx("span",{className:"font-bold",children:"Role:"})," ",(t==null?void 0:t.role)||"N/A"]}),v.jsxs("p",{className:"text-gray-400",children:[v.jsx("span",{className:"font-bold",children:"Medical Center:"})," ",(i==null?void 0:i.name)||"N/A"]})]})]}),v.jsx(See,{doctors:n,setDoctors:r,setActiveSection:d,setSelectedDoctor:p})]})]})})]})},Tee=()=>{const{id:t}=oN();return v.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gray-900 text-cyan-50 p-8",children:v.jsx("div",{className:"container mx-auto",children:v.jsxs("div",{className:"cyber-card p-8",children:[v.jsx("h1",{className:"text-3xl font-bold neon-text mb-4",children:"Book Appointment"}),v.jsxs("p",{className:"text-gray-400",children:["Booking functionality for Doctor ID: ",t," is coming soon!"]}),v.jsx("p",{className:"text-gray-400",children:"Please contact the medical center directly to schedule an appointment."})]})})})};function Iee(){return v.jsx("div",{children:v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:v.jsxs("div",{className:"relative w-40 h-40",children:[v.jsx("div",{className:"absolute inset-0 bg-cyan-500 rounded-full animate-ping opacity-50"}),v.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-full animate-ping delay-200 opacity-50"}),v.jsx("div",{className:"absolute inset-0 w-16 h-16 m-auto border-4 border-cyan-500 rounded-full border-t-transparent  animate-spin-slow"}),v.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-md animate-fade-in-out"}),v.jsx("div",{className:"absolute w-40 h-40 border border-cyan-500 rotate-90 animate-spin-slow",style:{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}})]}),v.jsx("div",{className:"absolute inset-0 m-auto right-0 left-[0.9rem] top-[0.9rem] bottom-0 grid grid-cols-3 grid-rows-3 gap-1",children:[...Array(9)].map((t,e)=>v.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-md animate-fade-in-out",style:{animationDelay:`${e*.1}s`,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}},e))}),v.jsxs("div",{className:"lines animate-fade-in-out",children:[v.jsx("div",{className:"absolute w-full h-1 bg-cyan-500 top-1/2 animate-glow-line animate-glow opacity-75"}),v.jsx("div",{className:"absolute h-full w-1 bg-cyan-500 left-1/2 animate-glow-line opacity-75 animate-glow"})]})]})})})}class Nee extends ne.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:v.jsxs("div",{className:"cyber-card p-8 text-center",children:[v.jsx("h2",{className:"text-2xl font-bold neon-text mb-4",children:"Something went wrong."}),v.jsx("p",{className:"text-gray-400 mb-4",children:"Please try refreshing the page or contact support."}),v.jsx("button",{onClick:()=>window.location.reload(),className:"cyber-button",children:"Refresh Page"})]})}):this.props.children}}const lv=({children:t,adminOnly:e=!1})=>{const{user:n,isLoading:r}=Wi();return r?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-cyan-50",children:"Loading..."}):n?e&&n.role!=="admin-1"?v.jsx(a4,{to:"/",replace:!0}):v.jsx(v.Fragment,{children:t}):v.jsx(a4,{to:"/login",replace:!0})};function kee(){const[t,e]=ne.useState(!0),{initializeAuth:n}=Wi(),r=ec();ne.useEffect(()=>{n();const s=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(s)},[n]);const i=r.pathname!=="/admin";return t?v.jsx(Iee,{}):v.jsxs("div",{className:"min-h-screen bg-gray-900 text-cyan-50 font-sans",children:[v.jsx("div",{className:"cyber-gradient fixed inset-0 pointer-events-none w-full"}),v.jsx(PW,{}),v.jsx("main",{className:`container pt-20 pb-8 ${i?"ml-[10%]":""}`,children:v.jsxs(zO,{children:[v.jsx(rs,{path:"/",element:v.jsx(OW,{})}),v.jsx(rs,{path:"/doctors",element:v.jsx(MW,{})}),v.jsx(rs,{path:"/notifications",element:v.jsx(yZ,{})}),v.jsx(rs,{path:"/doctors/details/:id",element:v.jsx(qG,{})}),v.jsx(rs,{path:"/community",element:v.jsx(KG,{})}),v.jsx(rs,{path:"/chat-history",element:v.jsx(lv,{children:v.jsx(gZ,{})})}),v.jsx(rs,{path:"/login",element:v.jsx(vZ,{})}),v.jsx(rs,{path:"/report",element:v.jsx(vee,{})}),v.jsx(rs,{path:"/reg",element:v.jsx(wee,{})}),v.jsx(rs,{path:"/book/:id",element:v.jsx(lv,{children:v.jsx(Tee,{})})}),v.jsx(rs,{path:"/admin",element:v.jsx(lv,{adminOnly:!0,children:v.jsx(Aee,{})})})]})})]})}function Cee(){return v.jsx(Nee,{children:v.jsx(YO,{children:v.jsx(kee,{})})})}ZI(document.getElementById("root")).render(v.jsx(ne.StrictMode,{children:v.jsx(Cee,{})}));export{en as _,fg as c,v0 as g};
